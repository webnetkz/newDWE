!function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e){"use strict";e.exports={CANVAS_OPS:["line","erase","eraseArea","text","image","presentation","lineStraight","rectangle","ellipse","arc","quadratic","bezier","clear","undo","gotoPage","move","delete","postit"],DRAWING_OPS:["line","erase","eraseArea","text","image","presentation","postit","lineStraight","rectangle","ellipse","arc","quadratic","bezier","move","delete"],GUEST_OPS:["windowSize","misc","user:join","user:left"],HELPER_OPS:["mark"],TOP_MENU:["colors","sizes","tools","saveload","admin","share","googleClassroom","googleClassroomTurnIn"],COLORS:["#000000","#f44336","#4caf50","#2196f3","#ffc107","#9c27b0","#e91e63","#795548"],AUTH_ONLY:["share","link"],ADVANCED_TOOLS:["lineStraight","rectangle","rectangleFilled","ellipse","ellipseFilled","mark","presentation","marker","select","postit"],TOOLS:{basic:["pencil","eraser","eraserArea","text","image","undo","trash","pan"],advanced:["lineStraight","rectangle","rectangleFilled","ellipse","ellipseFilled","mark","presentation","marker","select","postit"]},SIZES:[3,5,8,13,20],SETTINGS:["link","save"],FONT_SIZES:[10,12,16,22,30],MIN_BOARD_SIZE:void 0,MAX_BOARD_SIZE:[4096,4096],CANVAS_SNAPSHOT_MARGIN:.1,MAX_CANVAS_DIMENSIONS:[4080,4080],CANVAS_STARTING_ZOOM_LEVEL:1,MAX_ZOOM_LEVEL:1,BOARD_RESIZE:!0,DEFAULT_TOOL:"pencil",DEFAULT_SIZE:8,DEFAULT_COLOR:"#000000",BACKGROUND_COLOR:"#ffffff",FONT_FAMILY:"Helvetica, sans-serif",FONT_LINE_HEIGHT:1.3,FONT_SIZE:16,FONT_WEIGHT:"normal",FONT_STYLE:"normal",FONT:"normal normal 16px/1.3em Helvetica, sans-serif",DEFAULT_POSTIT_SIZE:[230,230],POSTIT_MAX_COLUMNS:40,POSTIT_SHADOW_SIZE:4,POSTIT_MIN_FONT_SIZE:10,POSTIT_MAX_FONT_SIZE:66,POSTIT_MAX_ROWS:14,POSTIT_PADDING_TOP:26,POSTIT_TEXTAREA_PADDING:10,POSTIT_SHADOW_BLUR:10,POSTIT_SHADOW_OFFSET:4,POSTIT_WEIGHT:"bold",DEFAULT_POSTIT_COLOR:"#FFF7CD",DEFAULT_POSTIT_TEXT_COLOR:"#000000",POSTIT_TEXT_COLOR:"#000000",POSTIT_SHADOW_COLOR:"rgba(0, 0, 0, 0.3)",MARKER_OPACITY:.3,MARKER_SIZE_MULTIPLE:2,ERASER_SIZE_MULTIPLE:3,MAX_DECIMAL_POINTS:3}},{}],2:[function(t,e){"use strict";var n=t("./config"),r=t("debug")("awwapp:drawing"),i=t("queue-async"),o=t("lodash"),a=n.MAX_DECIMAL_POINTS,s=e.exports=function c(t,e,o,a,s){function u(t){E.fillStyle=t.color||n.DEFAULT_COLOR,E.strokeStyle=t.color||n.DEFAULT_COLOR,E.lineWidth=t.size||n.DEFAULT_SIZE,w(t.eraser&&!t.text),E.lineCap="round",E.lineJoin="round"}function l(t,e,n,r,i){E.beginPath(),u(t);var o=t.points[0];if(1===t.points.length)E.arc(o[0],o[1],E.lineWidth/2,0,2*Math.PI,!0),E.fill();else{E.moveTo(o[0],o[1]);var a=o;if(t.points.forEach(function(t){var e=A(a,t);E.quadraticCurveTo(a[0],a[1],e[0],e[1]),a=t}),i)return void(E.isPointInStroke(r[0],r[1])&&i(t,n));u(t),E.stroke()}}function d(t,e,n,r){t.points&&t.points.length&&(J.queue?J.queue=J.queue.defer(function(i){l(t,void 0,e,n,r),i()}):l(t,void 0,e,n,r))}function h(t){t.x&&t.y&&t.r&&2===t.scale.length&&(E.beginPath(),u(t),E.save(),E.translate(t.x,t.y),E.scale(t.scale[0],t.scale[1]),E.arc(0,0,t.r,0,2*Math.PI,!0),E.restore(),t.filled?E.fill():E.stroke())}function p(t){J.queue?J.queue=J.queue.defer(function(e){h(t),e()}):h(t)}function f(t,e,n,r){return 2===t.points.length?(E.beginPath(),u(t),E.moveTo(t.points[0][0],t.points[0][1]),E.lineTo(t.points[1][0],t.points[1][1]),r?void(E.isPointInStroke(n[0],n[1])&&r(t,e)):void E.stroke()):void 0}function m(t,e,n,r){J.queue?J.queue=J.queue.defer(function(i){f(t,e,n,r),i()}):f(t,e,n,r)}function g(t){var e=t.op;if(u(t),E.beginPath(),"arc"===e){try{E.moveTo(t.x,t.y),E.arc(t.x,t.y,t.rad,t.start,t.end,!!t.clockwise)}catch(n){}t.stroke?E.stroke():E.fill()}else if("rectangle"===e)try{t.filled?E.fillRect(t.x,t.y,t.w,t.h):(E.lineJoin="miter",E.strokeRect(t.x,t.y,t.w,t.h))}catch(n){}else if("quadratic"===e)try{E.moveTo(t.x0,t.y0),E.quadraticCurveTo(t.cpx,t.cpy,t.x,t.y),E.stroke()}catch(n){}else if("bezier"===e)try{E.moveTo(t.x0,t.y0),E.bezierCurveTo(t.cp1x,t.cp1y,t.cp2x,t.cp2y,t.x,t.y),E.stroke()}catch(n){}}function v(t){J.queue?J.queue=J.queue.defer(function(e){g(t),e()}):g(t)}function b(t,e,n,r){var i=t.points[0],o=i;return w(!0),E.beginPath(),E.moveTo(i[0],i[1]),t.points.forEach(function(t){var e;e=A(o,t),E.quadraticCurveTo(o[0],o[1],e[0],e[1]),o=e}),r?void(E.isPointInPath(n[0],n[1])&&r(t,e)):void E.fill()}function y(t,e,n,r){!t.points||!t.points.length||t.points.length<2||(J.queue?J.queue=J.queue.defer(function(i){b(t,e,n,r),i()}):b(t,e,n,r))}function w(t){E.globalCompositeOperation=t?"destination-out":"source-over"}function x(t,e,n){for(var r=e[0],i=e[1],o=t.split("\n"),a=0;a<o.length;a++)E.fillText(o[a],r,i),i+=n}function W(t,e){return e?~e.toString().indexOf("px")?parseInt(e):parseFloat(e)*t:void 0}function _(t){if(r("doing text"),(t.text||t.isPostit)&&t.textPoint&&2===t.textPoint.length){t.fontWeight||(t.fontWeight="normal"),t.fontStyle||(t.fontStyle="normal");var e=W(t.fontSize,t.lineHeight),i=t.textPoint;s&&t.isPostit&&(t.fontStyle="",t.fontWeight="bold");var o=t.font||[t.fontStyle,t.fontWeight,t.fontSize+"px",t.fontFamily].join(" ");r("using font: "+o),E.font=o,E.textAlign=t.isPostit?"center":"left",E.textBaseline="top",u(t),t.isPostit&&(E.save(),E.shadowColor=n.POSTIT_SHADOW_COLOR,E.shadowBlur=n.POSTIT_SHADOW_BLUR*P,E.shadowOffsetY=n.POSTIT_SHADOW_OFFSET*P,E.shadowOffsetX=n.POSTIT_SHADOW_OFFSET*P,E.fillRect(t.textPoint[0],t.textPoint[1],t.maxWidth,t.maxHeight),E.restore(),E.fillStyle=n.POSTIT_TEXT_COLOR,i=[t.textPoint[0]+t.maxWidth/2,t.textPoint[1]+n.POSTIT_PADDING_TOP],e=t.lineHeight),x(t.text,i,e,t.maxWidth)}}function L(t){J.queue?J.queue.defer(function(e){_(t),e()}):_(t)}function C(t,n){var i=new e,o="undefined"!=typeof window?window.location.host:"";return"data:"===t.substr(0,5)||t.match(o)||(i.crossOrigin="anonymous"),i.onload=function(){a(!1),n(null,i)},i.onerror=function(e){throw a(!1),r("debug","got image load error",e),new Error("Image not loaded error for: "+t)},i.src=t,i}function X(t,e,n,i,o){r("drawing loaded image"),w(),i&&o?E.drawImage(t,e,n,i,o):E.drawImage(t,e,n),J.queue=null}function I(t,e){r("debug","starting image load",t),o(t,function(t,n){return t?e(t):void C(n,e)})}function Y(){z.length=0}function Z(t){J.queue||(J.queue=new i(1)),J.queue.defer(function(e){for(var n=0;n<z.length;n++)if(z[n].src===t.src)return X(z[n].img,t.left,t.top,t.w,t.h),void e(null,z[n].img);a(!0),I(t.src,function(n,r){return n?(a(!1),e(n)):(X(r,t.left,t.top,t.w,t.h),z.push({src:t.src,img:r}),void e(n,r))})})}function j(t){B=t}function F(){return B}function R(){J.queue?J.queue.defer(function(t){E.clearRect(-D[0]/2-B[0],-D[1]/2-B[1],D[0],D[1]),t()}):E.clearRect(-D[0]/2-B[0],-D[1]/2-B[1],D[0],D[1])}function k(t,e,n,r){t["delete"]||("line"===t.op&&d(t,e,n,r),"text"===t.op&&L(t),"image"===t.op&&Z(t),"lineStraight"===t.op&&m(t,e,n,r),"ellipse"===t.op&&p(t),"eraseArea"===t.op&&y(t,e,n,r),"clear"===t.op&&R(),~["arc","rectangle","bezier","quadratic"].indexOf(t.op)&&v(t))}function G(t){t.length&&t.forEach(k)}function A(t,e){return[t[0]+(e[0]-t[0])/2,t[1]+(e[1]-t[1])/2]}function O(t,e,n,r,o,a,s){try{w(!1),E.setTransform(P,0,0,P,t,e),E.save(),E.setTransform(P,0,0,P,0,0),R(),E.restore(),E.save(),R(),r&&s[0]>0&&s[1]>0?(o.queue||(o.queue=new i(1)),o.queue.defer(function(t){J.queue||(J.queue=new i(1)),J.queue.defer(function(e){E.drawImage(r,0,0,s[0],s[1],a[0],a[1],s[0],s[1]),e(),t()})})):n&&G(n),E.restore()}catch(c){throw r&&Raven.captureMessage("Error while doing doPan with data: "+JSON.stringify({x:t,y:e,opsLength:n?n.length:null,canvasToRenderSize:[r.width,r.height],canvasStartPoint:a,visibleCanvasDimensions:s,err:JSON.stringify(c)})),c}}function N(){return 1/P}function S(t){P*=t}function M(t){P=t}function T(t,e,n){E.beginPath(),u(n),E.moveTo(t[0],t[1]);var r=A(t,e);return E.quadraticCurveTo(t[0],t[1],r[0],r[1]),E.stroke(),r}function H(t,e){E.beginPath(),u(e),E.moveTo(t[0],t[1]),E.arc(t[0],t[1],E.lineWidth/2,0,2*Math.PI,!0),E.fill()}o=o||function(t,e){return e(null,t)},a=a||function(){};var E,z=[],D=n.MAX_CANVAS_DIMENSIONS,B=[0,0],P=1;E=t,E.imageSmoothingEnabled=!0,u({});var V=new i(1),J={drawLine:T,drawCircle:H,doOps:G,doOp:k,doPan:O,queue:V,doClear:R,zoom:S,setZoomLevel:M,setAdditionalOffset:j,getAdditionalCanvasOffset:F,scaleIndex:N,roundToDecPoints:c.roundToDecPoints,clearLoadedImages:Y};return J};s.getMaxDimensions=function(t,e,n,r){var i=[[0,0],[0,0]];if(t.points&&t.points.length){var o=t.size?t.size:0;return t.points.reduce(function(t,e){return[[Math.min(t[0][0],e[0]-o/2),Math.min(t[0][1],e[1]-o/2)],[Math.max(t[1][0],e[0]+o/2),Math.max(t[1][1],e[1]+o/2)]]},[[Number.MAX_VALUE,Number.MAX_VALUE],[Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER]])}if("text"===t.op)return[[t.textPoint[0],t.textPoint[1]],[t.textPoint[0]+t.maxWidth+(t.postitShadowSize||0),t.textPoint[1]+t.maxHeight+(t.postitShadowSize||0)]];if("image"===t.op){if(t.w&&t.h)return[[t.left,t.top],[t.left+t.w,t.top+t.h]];if(e){var a=new Image;a.onload=function(){e(t.left,t.top,Math.round(t.left+this.width),Math.round(t.top+this.height),!0,r)},a.src=t.src,n(!0)}return i}return"rectangle"===t.op?t.filled?[[t.x,t.y],[t.x+t.w,t.y+t.h]]:[[t.x-t.size/2,t.y-t.size/2],[t.x+t.w+t.size/2,t.y+t.h+t.size/2]]:"ellipse"===t.op?t.filled?[[t.x-t.r*t.scale[0],t.y-t.r*t.scale[1]],[t.x+t.r*t.scale[0],t.y+t.r*t.scale[1]]]:[[t.x-t.r*t.scale[0]-t.size/2,t.y-t.r*t.scale[1]-t.size/2],[t.x+t.r*t.scale[0]+t.size/2,t.y+t.r*t.scale[1]+t.size/2]]:i},s.getOpOutline=function(t){var e,n,r,i;if("line"===t.op||"lineStraight"===t.op){var a=Number.MAX_VALUE,s=Number.MAX_VALUE,c=Number.MIN_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;o.each(t.points,function(t){t[0]<a&&(a=t[0]),t[0]>c&&(c=t[0]),t[1]<s&&(s=t[1]),t[1]>u&&(u=t[1])}),e=a-t.size/2,n=s-t.size/2,r=c-a+t.size,i=u-s+t.size}else"rectangle"===t.op?t.filled?(e=t.x,n=t.y,r=t.w,i=t.h):(e=t.x-t.size/2,n=t.y-t.size/2,r=t.w+t.size,i=t.h+t.size):"ellipse"===t.op?t.filled?(e=t.x-t.r*t.scale[0],n=t.y-t.r*t.scale[1],r=2*t.r*t.scale[0],i=2*t.r*t.scale[1]):(e=t.x-t.r*t.scale[0]-t.size/2,n=t.y-t.r*t.scale[1]-t.size/2,r=2*t.r*t.scale[0]+t.size,i=2*t.r*t.scale[1]+t.size):"text"===t.op?(e=t.textPoint[0],n=t.textPoint[1],r=t.maxWidth,i=t.maxHeight):"image"===t.op&&(e=t.left,n=t.top,r=t.w,i=t.h);return{x:e,y:n,width:r,height:i}},s.setNewPositionForMovedOp=function(t,e,n){var r=n[0]-e[0],i=n[1]-e[1],o=t.op;if("rectangle"===o||"ellipse"===o)t.x=t.x+r,t.y=t.y+i;else if("lineStraight"===o){var a=t.points;t.points=[[a[0][0]+r,a[0][1]+i],[a[1][0]+r,a[1][1]+i]]}else if("image"===o)t.left=t.left+r,t.top=t.top+i;else if("text"===o){var s=t.textPoint;t.textPoint=[s[0]+r,s[1]+i]}else if("line"===o||"eraseArea"===o)for(var c=t.points,u=0;u<c.length;u++)t.points[u]=[c[u][0]+r,c[u][1]+i];return t},s.roundToDecPoints=function(t,e){e||(e=a);var n=Math.pow(10,e);return Math.round(t*n)/n}},{"./config":1,debug:53,lodash:67,"queue-async":71}],3:[function(t,e){"use strict";function n(){if("undefined"!=typeof localStorage)try{if(localStorage.setItem("ls_test","yes"),"yes"===localStorage.getItem("ls_test"))return localStorage.removeItem("ls_test"),!0}catch(t){return!1}return!1}function r(t){function e(){V+=J/1e3,V>300&&(Q.emit("add-beforeunload-event"),p=!0,clearInterval(U))}function r(t){ne.boardInfo().connectAllAsGuests=t,q("board:connectAllAsGuests",{connectAllAsGuests:t})}function f(t){ne.boardInfo().boardName=t,q("board:changeBoardName",{boardName:t})}function m(){var t=void 0===arguments[0]?{}:arguments[0];if(!ne.isConnected()){if(ne.isConnected(!0),t.boardLink){var e=ne.boardInfo();e.boardLink=t.boardLink,ne.boardInfo(e)}t.autojoin&&y(t)}}function g(){ne.isConnected(!1),ne.boardInfo({boardId:null,boardLink:ne.boardInfo().boardLink,boardSnapshotLink:null})}function v(t){Q.emit("error",t.err)}function b(t){console.error(t)}function y(){var t=void 0===arguments[0]?{}:arguments[0];if(!ne.isConnected())return h=!0,clearInterval(U),Q.emit("socket-init",{boardLink:t.boardLink,autojoin:!0});var e=ne.boardInfo().boardLink,n=t.boardLink||ne.boardInfo().boardLink;n&&e!==n&&(Q.emit("reset-state"),ne.localOps=[]),s("Trying to join board with link:",n),q("board:join",{boardLink:n},function(t,e){return t?(s("debug","Something wen't wrong, closing connection",t),console.error(t),b(t),void Q.emit("socket-close")):(Q.emit("board-joined",e),void w(e))})}function w(t){s("Board joined",t),ne.boardInfo({boardId:t.boardId,boardLink:t.boardLink,isAdmin:t.isAdmin,isBoardAdmin:t.isBoardAdmin,boardSnapshotLink:t.boardSnapshotLink,connectAllAsGuests:t.connectAllAsGuests,classroomAssignmentId:t.classroomAssignmentId,classroomCourseId:t.classroomCourseId}),ne.users(o.indexBy(t.users,"uid")),ne.currentUser(t.currentUser),ne.boardCanDo(t.canDo),!h||ne.boardCanDo().advancedTools||p?(ne.boardCanDo().advancedTools||!h)&&(Q.emit("remove-beforeunload-event"),p=!1):(Q.emit("add-beforeunload-event"),p=!0),clearInterval(U),_(void 0,ne.boardCanDo().advancedTools)}function x(){q("board:leave"),ne.boardInfo({boardId:null,boardLink:null,boardSnapshotLink:null})}function W(t){if(t.ops&&t.ops.length){var e,n,r,i,a,s=ne.localOps;o.each(t.ops,function(c){if(c.pg=c.pg||0,"undo"===c.op){var u=A(c);if(u>=0){var l=s.splice(u,1)[0];e=s.length>l.opIndex,n=t.ops.length>l.opIndex&&t.ops[l.opIndex].op===l.selectedOp,"move"===l.op?(i=l.points[l.points.length-1],a=l.points[0],e?(r=s[l.opIndex],s[l.opIndex]=d.setNewPositionForMovedOp(r,i,a)):n&&(r=t.ops[l.opIndex],t.ops[l.opIndex]=d.setNewPositionForMovedOp(r,i,a))):("delete"===l.op||"text"===l.op&&l.selectedOp)&&(e?s[l.opIndex]["delete"]=!1:n&&(t.ops[l.opIndex]["delete"]=!1))}}else"clear"===c.op?s=o.filter(s,function(t){return t.pg!==c.pg}):("move"===c.op||"delete"===c.op||"text"===c.op&&c.selectedOp)&&(e=s.length>c.opIndex,n=t.ops.length>c.opIndex&&t.ops[c.opIndex].op===c.selectedOp,"move"===c.op?(i=c.points[0],a=c.points[c.points.length-1],e?s[c.opIndex]=d.setNewPositionForMovedOp(s[c.opIndex],i,a):n&&(t.ops[c.opIndex]=d.setNewPositionForMovedOp(t.ops[c.opIndex],i,a))):("delete"===c.op||"text"===c.op&&c.selectedOp)&&(e?s[c.opIndex]["delete"]=!0:n&&(t.ops[c.opIndex]["delete"]=!0)))}),ne.localOps=s.concat(t.ops),Q.emit("calc-canvas-boundaries",t.ops),t.repositionCanvas&&Q.emit("reposition-canvas-to-fit-content"),ne.remoteQueue(t.ops),Q.emit("recompute-pagination")}}function _(t,e){t=t||{};var n=o.last(ne.localOps),r=0;n&&!t.all&&(r=n.time||0),s("Getting ops since",r,"from server"),$.fetch({url:a("/api/v2/board/:boardId/ops/",{boardId:ne.boardInfo().boardId}),query:{apiKey:K.apiKey,since:r},json:!0,cors:!0},function(t,n,r){t&&Q.emit("error",t),s("Retrieved ops from server",r),r&&r.length||(r=[]),Q.emit("receive-ops",{source:"api",ops:r,repositionCanvas:e}),L()})}function L(){re||(re=setTimeout(X,ee))}function C(){return ne.boardInfo().boardId&&ne.queue().length}function X(){if(re=void 0,C()){var t=ne.queue().length,e=j(ne.queue());q("board:ops",{ops:e},function(e,n){s("Pushed",n.length,"items");var r=ne.queue().splice(t);ne.localOps=ne.localOps.concat(Z(n)),ne.queue(r),Q.emit("push-confirm",{ops:n})})}}function I(t,e){return t?(t.op=t.op||"misc",e=e||{},e.forcePage||void 0===t.pg||t.pg===ne.currentPage()||"gotoPage"===t.op?"gotoPage"!==t.op||ne.boardCanDo().advancedTools&&ne.userCanDraw()?(t.pg=void 0!==t.pg?t.pg:ne.currentPage(),ne.queue(ne.queue().concat([t])),ne.queue().length>20&&!p&&(Q.emit("add-beforeunload-event"),clearInterval(U),p=!0),Q.emit("calc-canvas-boundaries",t),void Q.emit("recompute-pagination")):void s("Ignoring page switch request, not allowed for board/user"):(s("Cancelling operation on non-current page",t),void Q.emit("goto-page",ne.currentPage()))):console.error("No data provided")}function Y(){var t=o.findLastIndex(ne.queue(),k);if(~t){s("Undo op on queue");var e=ne.queue(),n=e.splice(t,1)[0];return e.length>=n.opIndex&&e[n.opIndex].op===n.selectedOp&&("move"===n.op?e[n.opIndex]=d.setNewPositionForMovedOp(e[n.opIndex],n.points[n.points.length-1],n.points[0]):("delete"===n.op||"text"===n.op&&n.selectedOp)&&(e[n.opIndex]["delete"]=!1)),ne.queue(e),void Q.emit("do-redraw")}if(t=o.findLastIndex(ne.localOps,G),!~t)return void s("No ops to undo found");s("Undo on pushed ops");var r=ne.localOps,n=r.splice(t,1)[0];r.length>=n.opIndex&&r[n.opIndex].op===n.selectedOp&&("move"===n.op?r[n.opIndex]=d.setNewPositionForMovedOp(r[n.opIndex],n.points[n.points.length-1],n.points[0]):("delete"===n.op||"text"===n.op&&n.selectedOp)&&(r[n.opIndex]["delete"]=!1)),ne.localOps=r,ne.queue(ne.queue().concat([{op:"undo"}])),Q.emit("do-redraw")}function Z(t){for(var e=0;e<t.length;e++){var n=t[e];"move"===n.op&&t.length>n.opIndex&&t[n.opIndex].op===n.selectedOp&&(t[n.opIndex]=d.setNewPositionForMovedOp(t[n.opIndex],n.points[0],n.points[n.points.length-1]))}return t}function j(t){for(var e=0;e<t.length;e++){var n=t[e];"move"===n.op&&t.length>n.opIndex&&t[n.opIndex].op===n.selectedOp&&(t[n.opIndex]=d.setNewPositionForMovedOp(t[n.opIndex],n.points[n.points.length-1],n.points[0]))}return t}function F(){var t=ne.currentPage(),e=function(e){return e.pg!==t};ne.queue(o.filter(ne.queue(),e)),ne.localOps.length&&(ne.localOps=o.filter(ne.localOps,e),ne.queue([{op:"clear",pg:t}]))}function R(t){if(!ne.boardCanDo().advancedTools)return void s("gotoPage: advanced tools are off, ignoring page switch request");if(!K.multiPage)return void s("gotoPage: multPage option is disabled, ignoring page switch request");var e=ne.getLastPage()+1;0>t&&(t=0),t>e&&(t=e),s("gotoPage: new page is",t),ne.currentPage(t)}function k(t){return o.contains(l.DRAWING_OPS,t.op)}function G(t){return t.uid===ne.currentUser().uid&&k(t)}function A(t){if(!t)throw new Error("No undo op provided");return o.findLastIndex(ne.localOps,function(e){return t.uid!==e.uid?!1:k(e)})}function O(t){var e=t.boardLink||t.boardSnapshotLink;if(e)return K.boardLinkSetter?K.boardLinkSetter(e):$.setBoardLink(e)}function N(t){void 0!==t.isAdmin&&P&&(localStorage.isLoggedIn=t.isAdmin),t.isAdmin&&P&&(localStorage.wasLoggedIn="yes")}function S(){$.fetch({url:"/api/v2/check-login/",query:{apiKey:K.apiKey},json:!0,cors:!0,withCredentials:!0},function(t,e,n){if(n.isAuth){var r=n.hasTrial?!0:!1,i=n.trialDays,a=ne.boardInfo(),s=ne.boardCanDo();a.isAdmin=!0,ne.boardInfo(a),o.each(s,function(t,e){n.features&&n.features[e]&&(s[e]=n.features[e])}),s.enableClassroom=n.enableClassroom,ne.boardCanDo(s),Q.emit("update-ui"),Q.emit("userLoggedIn",{email:n.email,trialDaysLeft:i,hasTrial:r})}else Q.emit("userLoggedOut")})}function M(t){if(s("Setting session cookie for user:",t),t&&t.uid){var e=[t.uid,t.sid];u("session",e.join(":"),{path:"/"})}}function T(t){var e=ne.currentUser();o.extend(e,t),ne.currentUser(e),q("user:update",t)}function H(){var t=ne.boardCanDo();t.audioEnabled||(t.audioEnabled=!0,ne.boardCanDo(t))}function E(t){var e=ne.users()[t.uid];e.isSpeaking=t.speaking,ne.users(o.extend(ne.users(),i({},t.uid,e)))}function z(t){if(t.user){var e=o.extend({},ne.users()[t.user.uid],t.user);ne.users(o.extend(ne.users(),i({},e.uid,e))),ne.currentUser().uid===t.user.uid&&ne.currentUser(e)}}function D(t){var e,n=te.querySelector(".aww-canvas-wrapper"),r=n.getBoundingClientRect();if(t)e=ne.queue();else if(!ne.boardInfo().boardId)return;s("Asking server to export the board to PDF"),$.fetch({method:"POST",url:a("/api/v2/board/:boardId/export/",{boardId:ne.boardInfo().boardId}),query:{apiKey:K.apiKey,minWidth:r.width,minHeight:r.height},json:{localOps:e,apiKey:K.apiKey},headers:{"Content-Type":"application/json",Accept:"application/json"},cors:!0},function(t,e,n){t&&Q.emit("error",t),s("Server returns",n)})}var B,P=n();B=P?{isAdmin:localStorage.isAdmin,wasLoggedIn:localStorage.wasLoggedIn,isLoggedIn:localStorage.isLoggedIn}:{isAdmin:!1,wasLoggedIn:void 0,isLoggedIn:void 0};var V=0,J=3e3,U=setInterval(e,J),Q=t.dispatcher,q=t.socketEmitter,K=t.options,$=t.utils,te=t.canvasContainer,ee=200,ne={options:K,queue:c([]),remoteQueue:c([]),localOps:[],users:c({}),currentUser:c({}),currentPage:c(0),boardCanDo:c({audio:!1,guest:!1,advancedTools:!1,enableClassroom:!1,isPermanent:!1,isSnapshot:!1}),boardInfo:c({boardId:void 0,boardLink:void 0,boardSnapshotLink:void 0,isBoardAdmin:void 0,isAdmin:"true"===B.isAdmin?!0:void 0,boardName:void 0,connectAllAsGuests:!1,classroomCourseId:void 0,classroomAssignmentId:void 0}),isConnected:c.signal(),isAuthenticated:c.signal(),isChatVisible:c(!1),isAudioActive:c(!1)};ne.isAuthenticated(!!K.apiKey),ne.isConnected(!1),ne.isConnected(function(t){return s("debug","Connected:",t)}),ne.queue(L),ne.boardInfo(O),ne.boardInfo(N),ne.currentUser(M),S(),Q.on("on-board-save",function(t){ne.boardCanDo().isPermanent=!0,ne.boardCanDo().isSnapshot=!0,ne.boardInfo().boardName=t.boardName,q("on-board-save",t)}),Q.on("on-board-delete",function(){ne.boardCanDo().isPermanent=!1,ne.boardCanDo().isSnapshot=!1,q("on-board-delete")}),Q.subMany({"receive-ops":W,"join-board":y,"leave-board":x,"update-user":z,"socket-connect":m,"socket-disconnect":g,"socket-error":v,error:b,"do-undo":Y,"do-clear":F,"goto-page":R,"queue-op":I,"push-queue":X,"change-user":T,"set-connect-all-as-guests":function(t){return r(t)},"board-name-change":function(t){return f(t)},"promote-user":function(t,e){return q("user:promote",{targetUid:t,allUsers:e})},"demote-user":function(t,e){return q("user:demote",{targetUid:t,allUsers:e})},"webrtc-message":H,"webrtc-hark":E,"check-login":S,"export-pdf":D});var re;return ne.userCanDraw=function(){var t=ne.currentUser();return!t||void 0===t.status||"U"===t.status||"RW"===t.status},ne.replaceOpOnCanvas=function(t,e){s("Replacing op on canvas"),ne.queue[e]=t,Q.emit("do-redraw")},ne.replaceOp=function(t,e){if(ne.queue()[e]&&ne.queue()[e].op===t.op){s("Replacing op on queue");var n=ne.queue();return n[e]=t,ne.queue(n),void Q.emit("do-redraw")}if(!ne.localOps[e]||ne.localOps[e].op!==t.op)return void s("No ops to MOVE");s("Doing replace on pushed ops");var r=ne.localOps;r[e]=t,ne.localOps=r,ne.queue(ne.queue().concat([t])),Q.emit("do-redraw")},ne.setDeleteFlag=function(t,e,n){if(ne.queue()[e]&&ne.queue()[e].op===t.op){s("Doing delete on queue");var r=ne.queue();return r[e]["delete"]=n,ne.queue(r),void Q.emit("do-redraw")}if(!ne.localOps[e]||ne.localOps[e].op!==t.op)return void s("No ops to MOVE");s("Doing delete on pushed ops");var i=ne.localOps;i[e]["delete"]=n,ne.localOps=i,Q.emit("do-redraw")},ne.getLastPage=function(){var t=[].concat(ne.localOps,ne.queue()),e=0;return o.each(t,function(t){if("gotoPage"!==t.op){var n=t.pg||0;n>e&&(e=n)}}),e},ne}var i=function(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0})},o=t("./lodash.custom"),a=t("url-builder").tokenise,s=t("debug")("awwapp:board"),c=t("observable"),u=t("set-cookie"),l=t("../../common/config"),d=t("../../common/drawing"),h=("https://awwapp.com/".match(location.host),!1),p=!1;e.exports=r},{"../../common/config":1,"../../common/drawing":2,"./lodash.custom":6,debug:53,observable:68,"set-cookie":74,"url-builder":77}],4:[function(t,e){"use strict";function n(t,e,n,r){var i=0,o=0;return n=n?n:{x:0,y:0},r?(i=t.touches[0].clientX,o=t.touches[0].clientY):(t.changedTouches&&t.changedTouches.length&&(t=t.changedTouches[0]),i=t.clientX,o=t.clientY),[d.roundToDecPoints(i-e.left-n.x),d.roundToDecPoints(o-e.top-n.y)]}var r=t("./lodash.custom"),i=t("debug")("awwapp:canvas"),o=t("hyperscript"),a=t("observable"),s=t("class-list"),c=.8,u=t("dom-events"),l=t("../../common/config"),d=t("../../common/drawing"),h=t("./op"),p=t("./ui/icon-definitions"),f=l.CANVAS_SNAPSHOT_MARGIN,m=l.MAX_CANVAS_DIMENSIONS,g=l.CANVAS_STARTING_ZOOM_LEVEL,v=l.MAX_ZOOM_LEVEL;e.exports=function(t){function e(t){an()||He.isPanningMode()||(t.touches&&t.touches.length>=2&&(un=!0),un||(le.emit("close-menus"),on=!0,t.normalizedPoint=n(t,Pe,He.canvasOffset),t.isTouchEvent=!!t.touches,t.isPenDown=on,rn.onPenDown(t)))}function l(t){an()||He.isPanningMode()||!on||(on=!1,t.normalizedPoint=n(t,Pe,He.canvasOffset),t.isTouchEvent=!!t.touches,t.isPenDown=on,Re=[He.canvasOffset.x,He.canvasOffset.y],rn.onPenUp(t))}function b(t){an()||He.isPanningMode()||((!t.touches||t.touches.length<2)&&(t.normalizedPoint=n(t,Pe,He.canvasOffset)),t.isTouchEvent=!!t.touches,t.isPenDown=on,rn.onPenMove(t))}function y(t){an()||He.isPanningMode()||(le.emit("close-menus"),t.normalizedPoint=n(t,Pe,He.canvasOffset),t.isTouchEvent=!!t.touches,t.isPenDown=!1,rn.onClick(t))}function w(t,e){var n,r,i,o,a=[(ke[0]-t.normalizedPoint[0])*He.draw.scaleIndex(),(ke[1]-t.normalizedPoint[1])*He.draw.scaleIndex()],s=[[-m[0]/2-nn[0],-m[1]/2-nn[1]],[m[0]/2-nn[0],m[1]/2-nn[1]]];e&&He.draw.zoom(e),n=a[0]<=s[0][0]?-s[0][0]/He.draw.scaleIndex():a[0]>=s[1][0]-Be.width*He.draw.scaleIndex()?-(s[1][0]/He.draw.scaleIndex()-Be.width):t.normalizedPoint[0]-ke[0],r=a[1]<=s[0][1]?-s[0][1]/He.draw.scaleIndex():a[1]>=s[1][1]-Be.height*He.draw.scaleIndex()?-(s[1][1]/He.draw.scaleIndex()-Be.height):t.normalizedPoint[1]-ke[1],He.canvasOffset.x=n,He.canvasOffset.y=r,i=Ve[1][0]-Ve[0][0],o=Ve[1][1]-Ve[0][1],He.draw.doPan(n,r,void 0,ve,He.renderDraw,Ve[0],[i,o]),le.emit("canvas-pan"),He.isPanningMode()&&re()}function x(){A(!0),_(),Te.clearLoadedImages(),F(D(),!0),j()}function W(){He.draw.setZoomLevel(g),Y(Be.width/2,Be.height/2)}function _(){Ve=[[m[0]/2,m[1]/2],[-m[0]/2,-m[1]/2]]}function L(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}function C(t){return L(t[0][0]-t[1][0],t[0][1]-t[1][1])}function X(t){return[[t.touches[0].pageX,t.touches[0].pageY],[t.touches[1].pageX,t.touches[1].pageY]]}function I(t,e){var n=[0,0];return n[0]=t[0]>e[0]?e[0]+(t[0]-e[0])/2:t[0]+(e[0]-t[0])/2,n[1]=t[1]>e[1]?e[1]+(t[1]-e[1])/2:t[1]+(e[1]-t[1])/2,n}function Y(t,e,n){en=[t,e],ke=[0,0],w({normalizedPoint:[t,e]},n)}function Z(){le.emit("ga-send","PDF old version"),pn++}function j(){pn&&(fn=!0,pn--),Ve[1][0]>m[0]/2&&(nn[0]=m[0]/2-Ve[1][0]),Ve[1][1]>m[1]/2&&(nn[1]=m[1]/2-Ve[1][1]),Te.setAdditionalOffset(nn);var t=Ve[1][0]-Ve[0][0],e=Ve[1][1]-Ve[0][1],n=Math.min(Math.min(Be.width/t,Be.height/e)),r=ue(n*He.draw.scaleIndex());t>Be.width&&e>Be.height?Y((-Ve[0][0]+nn[0])*r/He.draw.scaleIndex(),(-Ve[0][1]+nn[1])*r/He.draw.scaleIndex(),r):W()}function F(t,e){t=r.isArray(t)?t:[t];var n=de.currentPage(),i=He.allOps(),o=[].concat(i,t),a=t.reduce(function(t,r){var a;if(r.pg!==n||r["delete"]||"undo"===r.op||"gotoPage"===r.op)return t;if("move"===r.op||"delete"===r.op){if(!o[r.opIndex]||o[r.opIndex].op!==r.selectedOp)return t;r=o[r.opIndex]}else"text"===r.op&&r.selectedOp&&i[r.opIndex]&&i[r.opIndex].op===r.selectedOp&&(a=o[r.opIndex]);var s=d.getMaxDimensions(r,R,Z,e);if(r["delete"]||"text"===r.op&&r.selectedOp){var c;if(c=a?d.getMaxDimensions(a,R,Z,e):s,gn||c[0][0]!==Ve[0][0]&&c[0][1]!==Ve[0][1]&&c[1][0]!==Ve[1][0]&&c[1][1]!==Ve[1][1]||(mn=!0),r["delete"])return t}return[[Math.min(t[0][0],s[0][0]),Math.min(t[0][1],s[0][1])],[Math.max(t[1][0],s[1][0]),Math.max(t[1][1],s[1][1])]]},[[Number.MAX_VALUE,Number.MAX_VALUE],[Number.MIN_SAFE_INTEGER,Number.MIN_SAFE_INTEGER]]);R(Math.round(a[0][0]),Math.round(a[0][1]),Math.round(a[1][0]),Math.round(a[1][1])),mn&&(mn=!1,gn=!0,F(D()))}function R(t,e,n,r,i,o){var a;(t<Ve[0][0]||gn)&&(Ve[0][0]=t,a=!0),(e<Ve[0][1]||gn)&&(Ve[0][1]=e,a=!0),(n>Ve[1][0]||gn)&&(Ve[1][0]=Math.min(n,Ve[0][0]+m[0]),a=!0),(r>Ve[1][1]||gn)&&(Ve[1][1]=Math.min(r,Ve[0][1]+m[1]),a=!0),a&&(ee(),He.isPanningMode()&&te(),fn&&o&&j()),i&&!fn&&pn--,gn&&(gn=!1)}function k(t,e){var n=he.maxBoardSize&&he.maxBoardSize[0]||m[0],r=he.maxBoardSize&&he.maxBoardSize[1]||m[1],i=!1;null!==t&&t>=He.boundaries.minW&&n>=t&&(ge.width=t,Pe.width=t,i=!0,t>Ve[1][0]-Ve[0][0]&&(ve.width=t)),null!==e&&e>=He.boundaries.minH&&r>=e&&(ge.height=e,Pe.height=e,i=!0,e>Ve[1][1]-Ve[0][1]&&(ve.height=e)),i&&Te.doRedraw(),He.isPanningAvailable(!0)}function G(t){try{Be=be.getBoundingClientRect(),le.emit("window-resize",Be.width,Be.height),Pe.left=Be.left,t.width=Be.width,Pe.top=Be.top,t.height=Be.height,Te.doRedraw()}catch(e){throw Raven.captureMessage("Error while doing resize with data: "+JSON.stringify({wrapperRectLeft:Be.left,wrapperRectTop:Be.top,wrapperRectWidth:Be.width,wrapperRectHeight:Be.height,err:JSON.stringify(e)})),e}}function A(t){if(he.multiPage){t&&ne();var e=0===de.currentPage(),n=de.getLastPage(),r=de.currentPage()===n,i=de.currentPage()>n;if(!de.boardCanDo().advancedTools||!de.userCanDraw())return void(_e.style.display="none");_e.style.display="block",ye.firstChild.getElementsByTagName("path")[0].style.display=e?"none":"block",we.style.display=r||i?"none":"block",xe.style.display="none"===we.style.display?"block":"none",xe.firstChild.getElementsByTagName("path")[0].style.display=de.currentPage()>de.getLastPage()?"none":"inline",We.value="",de.currentPage()>n&&(n+=1),We.placeholder=1+de.currentPage()+"/"+(1+n)}}function O(){var t=be.getBoundingClientRect();Pe={left:t.left,top:t.top,width:t.width,height:t.height}}function N(t){i("This is the tool now:",t.tool),le.emit("close-menus"),rn.cancel();var e=rn.hasSeparateCanvas;!rn.hasSeparateCanvas||"marker"!==t.tool&&"pencil"!==t.tool&&"select"!==t.tool||(rn.removeCanvas(),e=!1);var n=Ue(t.tool,t);n.stateless||(e&&rn.removeCanvas(),rn.disableDispatchers&&rn.disableDispatchers(),rn=n,Me.activeTool(t.tool))}function S(t){Me.size(t.size)}function M(t){if(t.fontSize)Me.fontSize(t.fontSize);else if(t.size){var e=he.sizes.indexOf(t.size),n=he.fontSizes[e];Me.fontSize(n)}}function T(t){Me.color(t.color)}function H(t){Me.fontFamily(t.fontFamily)}function E(t,e){return!e&&("undo"===t.op||"move"===t.op||"delete"===t.op||"text"===t.op&&t.selectedOp)?Te.doRedraw():(t.pg=t.pg||0,void((t.pg==de.currentPage()||"gotoPage"===t.op)&&Je.handleRemoteOp(t)))}function z(){return[].concat(de.localOps,de.queue())}function D(){return r.filter(z(),function(t){return(t.pg||0)===de.currentPage()})}function B(t){ge.style.cursor=t}function P(t,e){de.replaceOpOnCanvas(t,e)}function V(){i("Getting image out of canvas");var t=Ve[1][0]-Ve[0][0],e=Ve[1][1]-Ve[0][1],n=document.createElement("canvas");n.width=t*(1+f),n.height=e*(1+f);var r=n.getContext("2d");return r.fillStyle=he.backgroundColor,r.fillRect(0,0,t*(1+f),e*(1+f)),r.drawImage(ve,0,0,t,e,t*f/2,e*f/2,t,e),n.toDataURL("image/png")}function J(t){var e=V(),n="https://awwapp.com/",r=o("form",{method:"POST",target:"_blank",action:n+"s/",style:{display:"none"}},o("input",{type:"hidden",name:"file",value:e}),o("input",{type:"submit",value:"val"}));t&&r.appendChild(o("input",{type:"hidden",name:"download",value:"yes"})),fe.appendChild(r),r.submit()}function U(){J(!1)}function Q(){J(!0)}function q(){window.innerHeight>window.innerWidth*c?(s(pe).add("portrait"),s(pe).remove("landscape")):(s(pe).add("landscape"),s(pe).remove("portrait"))}function K(){return He.isPanningAvailable()?void(He.isPanningMode()||(He.isPanningMode(!0),s(be).add("panning"),te(),de.isChatVisible()&&(de.isChatVisible(!1),ln=!0))):!1}function $(){He.isPanningMode(!1),sn=!1,s(be).remove("panning"),s(be).remove("panning-grabbed"),ie(),ln&&(de.isChatVisible(!0),ln=!1)}function te(){var t=Ve[0][0],e=Ve[0][1],n=Ve[1][0]-Ve[0][0],i=Ve[1][1]-Ve[0][1];qe=$e/n,Ke=tn/i,Ye.width=$e,Ye.height=tn;var o=[];r.each(D(),function(n){var r=d.getOpOutline(n);o.push({op:"rectangle",pg:0,x:(r.x-t)*qe,y:(r.y-e)*Ke,w:r.width*qe,h:r.height*Ke,color:"rgba(61,196,118,0.2)",size:8,filled:!0,"delete":n["delete"]})}),je.doOps(o),re()}function ee(){ve.width=Math.min(Ve[1][0]-Ve[0][0],m[0]),ve.height=Math.min(Ve[1][1]-Ve[0][1],m[1]),He.renderDraw.doPan(-Ve[0][0],-Ve[0][1],D())}function ne(){ie(),je.doClear()}function re(){{var t=Ve[1][0]-Ve[0][0],e=Ve[1][1]-Ve[0][1],n=be.querySelector(".aww-minimap"),r=ae([-He.canvasOffset.x,-He.canvasOffset.y]),i=ae([Be.width-He.canvasOffset.x,Be.height-He.canvasOffset.y]),a=[r,i],s=a[1][0]-a[0][0];a[1][1]-a[0][1]}n||(n=o(".aww-minimap",Ye),be.appendChild(n),n.appendChild(Fe),n.style.minWidth=$e+"px",n.style.minHeight=tn+"px"),t>e?(Ye.style.width=$e+"px",Ye.style.height="inherit"):(Ye.style.width="inherit",Ye.style.height=tn+"px");
var c=Math.min($e,$e*s/t),u=c*Be.height/Be.width;Fe.style.width=c+"px",Fe.style.height=u+"px";var l=(a[0][0]-Ve[0][0])*(Be.width/t)*Qe,d=(a[0][1]-Ve[0][1])*(Be.height/e)*Qe;if(l>0)Fe.style.marginLeft=l+"px",n.style.minWidth=$e+"px",Ye.style.marginLeft="0px";else{Fe.style.marginLeft="0px";var h=(Ve[1][0]-i[0]>0?Ve[1][0]-i[0]:0)*qe,p=He.draw.scaleIndex()<1?c*(1/He.draw.scaleIndex()-1):0;n.style.minWidth=$e+h-p+"px",Ye.style.marginLeft=h-p+"px"}if(d>0)Fe.style.marginTop=d+"px",n.style.minHeight=tn+"px",Ye.style.marginTop="0px";else{Fe.style.marginTop="0px";var f=(Ve[1][1]-i[1]>0?Ve[1][1]-i[1]:0)*Ke,m=He.draw.scaleIndex()<1?u*(1/He.draw.scaleIndex()-1):0;n.style.minHeight=tn+f-m+"px",Ye.style.marginTop=f-m+"px"}}function ie(){var t=be.querySelector(".aww-minimap");t&&be.removeChild(t)}function oe(t){var e=t[0],n=t[1];return e+=ge.getBoundingClientRect().left-be.getBoundingClientRect().left+He.canvasOffset.x,n+=ge.getBoundingClientRect().top-be.getBoundingClientRect().top+He.canvasOffset.y,[e,n]}function ae(t){var t=[d.roundToDecPoints(t[0]*He.draw.scaleIndex()),d.roundToDecPoints(t[1]*He.draw.scaleIndex())];return t}function se(t){if(de.boardCanDo().advancedTools){var e=t.wheelDelta?t.wheelDelta/40:t.detail?-t.detail:0;e=Math.min(6,Math.max(-6,e));var r=ue(Math.pow(De,e));t.normalizedPoint=n(t,Pe,He.canvasOffset);var i=t.normalizedPoint[0]*(1-r),o=t.normalizedPoint[1]*(1-r);return He.canvasOffset.x+=i,He.canvasOffset.y+=o,ke=n(t,Pe,He.canvasOffset),t.normalizedPoint=n(t,Pe),w(t,r),t.preventDefault()&&!1}}function ce(t){if(de.boardCanDo().advancedTools){var e,r;if(!(t.touches.length<2)||Ee){if(t.touches.length<2){var i=L(t.touches[0].pageX-dn[0][0],t.touches[0].pageY-dn[0][1]),o=L(t.touches[0].pageX-dn[1][0],t.touches[0].pageY-dn[1][1]);i>o?(e=[[t.touches[0].pageX,dn[0][0]],[t.touches[0].pageY,dn[0][1]]],r=i):(e=[[t.touches[0].pageX,dn[1][0]],[t.touches[0].pageY,dn[1][1]]],r=o)}else e=X(t),r=C(e);var a=r-hn;dn=e,hn=r;var s=a/10,c=ue(Math.pow(De,s));if(ze+=a,Math.abs(ze)>40){Ee=!0;var u=I(dn[0],dn[1]);u={clientX:u[0],clientY:u[1]},t.normalizedPoint=n(u,Pe,He.canvasOffset);var l=t.normalizedPoint[0]*(1-c),d=t.normalizedPoint[1]*(1-c);return He.canvasOffset.x+=Math.round(l),He.canvasOffset.y+=Math.round(d),ke=n(t,Pe,He.canvasOffset),t.normalizedPoint=n(t,Pe),w(t,c),t.preventDefault()&&!1}}}}function ue(t){var e=1/He.draw.scaleIndex()*t,n=[Be.width/m[0],Be.height/m[1]],r=Math.max(Math.max(Math.min(e,v),n[1]),n[0])*He.draw.scaleIndex();return r}var le=t.dispatcher,de=t.board,he=t.options,pe=t.el,fe=t.canvasContainer,me=t.utils;i("Initiating canvas on",fe);var ge=o("canvas.aww-canvas"),ve=o("canvas.aww-canvas"),be=o(".aww-canvas-wrapper",ge),ye=o(".previous",{},p.elHW("arrowLeft")),we=o(".next",{},p.elHW("arrowRight")),xe=o(".new",{},p.elHW("plus")),We=o("input",{type:"text",placeholder:"2/4"}),_e=o(".aww-multipage-nav",{},[ye,o(".current",{},We),we,xe]),Le=o("div",{style:"width: 15px;"},p.elHW("close")),Ce=o("p","",{style:"margin: 0; display: inline-block; line-height: inherit; text-align: center;"}),Xe=o("div","",{style:"border-radius: 6px; padding: 5px 15px; overflow : auto; margin-top: 10px; position: relative; left: -50%;"},[Ce,o("a",{style:"float: right; cursor: pointer; margin-left: 15px"},Le)]),Ie=o("div.hidden-fade",{style:"position: absolute; top: 10px; left: 50%; z-index: 285;"},Xe),Ye=o("canvas"),Ze=Ye.getContext("2d"),je=d(Ze,Image,void 0,me.isLoading),Fe=o(".aww-screen-marker"),Re=[0,0],ke=[0,0];fe.appendChild(be),fe.appendChild(Ie),he.multiPage&&fe.appendChild(_e);var Ge=ge.getContext("2d"),Ae=ve.getContext("2d"),Oe=d(Ge,Image,void 0,me.isLoading),Ne=d(Ae,Image,void 0,me.isLoading),Se=he.fontSizes[he.sizes.indexOf(he.defaultSize)],Me={activeTool:a(he.defaultTool),color:a(he.defaultColor),size:a(he.defaultSize),fontSize:a(Se),fontFamily:a(he.defaultFontFamily)},Te={doOp:function(t){if(He.draw.doOp(t),He.renderDraw.doOp(t),He.isPanningMode()){var e=d.getOpOutline(t),n=Ve[0][0],r=Ve[0][1];je.doOp({op:"rectangle",pg:0,x:(e.x-n)*qe,y:(e.y-r)*Ke,w:e.width*qe,h:e.height*Ke,color:"rgba(61,196,118,0.2)",size:8,filled:!0,"delete":t["delete"]})}},doOps:function(t){He.draw.doOps(t),He.renderDraw.doOps(t)},drawCircle:function(t,e){He.draw.drawCircle(t,e),He.renderDraw.drawCircle(t,e)},drawLine:function(t,e,n){return He.draw.drawLine(t,e,n),He.renderDraw.drawLine(t,e,n)},doClear:function(){He.draw.doClear(),He.renderDraw.doClear()},setAdditionalOffset:function(t){He.draw.setAdditionalOffset(t),He.renderDraw.setAdditionalOffset(t)},doRedraw:function(){i("Redrawing the canvas"),He.renderDraw.doClear(),He.renderDraw.doOps(D());var t=Ve[1][0]-Ve[0][0],e=Ve[1][1]-Ve[0][1];He.draw.doPan(He.canvasOffset.x,He.canvasOffset.y,void 0,ve,He.renderDraw,Ve[0],[t,e])},clearLoadedImages:function(){He.draw.clearLoadedImages(),He.renderDraw.clearLoadedImages()}},He={draw:Oe,renderDraw:Ne,container:be,operationState:Me,currentUser:de.currentUser,isPanningMode:a(!1),isPanningAvailable:a(!1),canvasToWrapperCoords:oe,wrapperToCanvasCoords:ae,boundaries:{},canvas:ge,canvasOffset:{x:0,y:0},ctx:Ge,pageOps:D,allOps:z,drawingOperations:Te},Ee=!1,ze=0,De=1.1;q();var Be=be.getBoundingClientRect(),Pe={left:Be.left,top:Be.top,width:Be.width,height:Be.height},Ve=[[m[0]/2,m[1]/2],[-m[0]/2,-m[1]/2]],Je=h(He,t),Ue=Je.initOp,Qe=.1*Be.width>80?.1:80/Be.width,qe=0,Ke=0,$e=Be.width*Qe,tn=Be.height*Qe,en=[0,0],nn=[0,0];he.minBoardSize?(He.boundaries.minW=he.minBoardSize[0]||Be.width,He.boundaries.minH=he.minBoardSize[1]||Be.height):(He.boundaries.minW=Be.width,He.boundaries.minH=Be.height),k(He.boundaries.minW,He.boundaries.minH),A(),W();var rn=Ue(he.defaultTool),on=!1,an=a.transform(de.currentUser,function(t){return"RO"===t.status}),sn=!1,cn=!1,un=!1,ln=!1,dn=[[0,0],[0,0]],hn=0;window.addEventListener("resize",r.debounce(function(){q(),G(ge),A()},150)),window.addEventListener("scroll",r.debounce(function(){O(ge),O(ve)},25)),u.on(be,"mousedown",e),u.on(be,"touchstart",e),u.on(be,"mouseup",l),u.on(be,"mouseleave",l),u.on(be,"touchend",l),u.on(be,"mousemove",b),u.on(be,"click",y),u.on(be,"DOMMouseScroll",se),u.on(be,"mousewheel",se),u.on(ge,"mousedown",function(t){t.normalizedPoint=n(t,Pe,He.canvasOffset),He.isPanningMode()&&(Be=be.getBoundingClientRect(),ke=[t.normalizedPoint[0],t.normalizedPoint[1]],sn=!0,s(be).add("panning-grabbed"))}),u.on(ge,"mouseup",function(t){t.normalizedPoint=n(t,Pe,He.canvasOffset),He.isPanningMode()&&(Re=[He.canvasOffset.x,He.canvasOffset.y],sn=!1,s(be).remove("panning-grabbed"))}),u.on(be,"touchstart",function(t){t.preventDefault(),2===t.touches.length&&He.isPanningAvailable()&&!He.isPanningMode()?(K(),dn=X(t),hn=C(dn),t.normalizedPoint=n(t,Pe,He.canvasOffset,!0),Be=be.getBoundingClientRect(),ke=[t.normalizedPoint[0],t.normalizedPoint[1]],cn=!0,le.emit("started-panning")):1===t.touches.length&&He.isPanningMode()&&(t.normalizedPoint=n(t,Pe,He.canvasOffset),Be=be.getBoundingClientRect(),ke=[t.normalizedPoint[0],t.normalizedPoint[1]],sn=!0)}),u.on(be,"touchend",function(t){if(cn&&t.touches.length>1||Ee&&t.touches.length>1)return!1;if(t.touches.length<=1&&(un=!1),0===t.touches.length&&le.emit("stopped-panning"),t.normalizedPoint=n(t,Pe,He.canvasOffset),Ee){ze=0,Ee=!1;var e=I(dn[0],dn[1]);Be=be.getBoundingClientRect(),ke=[e[0]/He.draw.scaleIndex(),e[1]/He.draw.scaleIndex()]}He.isPanningMode()&&(sn=!1,cn&&($(),cn=!1))}),window.addEventListener("mousemove",function(t){t.normalizedPoint=n(t,Pe),sn&&w(t)}),u.on(be,"mouseleave",function(){sn=!1}),u.on(be,"touchmove",function(t){t.normalizedPoint=n(t,Pe,void 0,cn),t.preventDefault(),sn||cn?(ce(t),Ee||w(t)):b(t)}),u.on(ye,"click",function(){var t=de.currentPage()-1;0>t||Ue("gotoPage",{pg:t})}),u.on(we,"click",function(){var t=de.currentPage()+1;Ue("gotoPage",{pg:t})}),u.on(xe,"click",function(){var t=de.currentPage()+1;Ue("gotoPage",{pg:t})}),u.on(We,"change",function(){var t=We.value-1;isNaN(t)||0>t||t>de.getLastPage()||Ue("gotoPage",{pg:t})}),u.on(Le,"click",function(){s(Ie).remove("visible-fade"),s(Ie).add("hidden-fade")}),le.on("show-message",function(t,e,n){"error"===e?(s(Xe).remove("success-msg"),s(Xe).add("error-msg")):(s(Xe).remove("error-msg"),s(Xe).add("success-msg")),s(Ie).remove("hidden-fade"),s(Ie).add("visible-fade"),Ce.innerHTML=t,setTimeout(function(){s(Ie).add("hidden-fade"),s(Ie).remove("visible-fade")},1e3*n)}),de.remoteQueue(function(t){var e=r.findLastIndex(t,function(t){return"gotoPage"===t.op}),n=-1!==e?t[e].pg:de.currentPage(),o=!1;i("handleOps(): ops from API, ignoring gotoPage ops"),n!==de.currentPage()?(i("handleOps(): replaying last gotoPage op to",n),E({op:"gotoPage",pg:n})):(t.forEach(function(t){"gotoPage"!==t.op&&(("undo"===t.op||"move"===t.op||"delete"===t.op||"text"===t.op&&t.selectedOp)&&(o=!0),E(t,!0))}),o&&Te.doRedraw())}),le.subMany({"change-tool":N,"change-size":S,"change-font-size":M,"change-font-family":H,"change-color":T,"download-picture":Q,"share-picture":U,"goto-page":x,"recompute-pagination":A,"reposition-canvas-to-fit-content":j,"enable-panning":K,"disable-panning":$,"move-op":P,"change-cursor":B,"calc-canvas-boundaries":F,"reset-state":He.drawingOperations.doClear,"do-resize":function(){G(ge)}}),le.sub("do-redraw",Te.doRedraw),le.sub("do-clear",He.drawingOperations.doClear);var pn=0,fn=!1,mn=!1,gn=!1;return He.getDataURL=V,He}},{"../../common/config":1,"../../common/drawing":2,"./lodash.custom":6,"./op":11,"./ui/icon-definitions":26,"class-list":46,debug:53,"dom-events":56,hyperscript:62,observable:68}],5:[function(t){(function(e){"use strict";t("polyfill-function-prototype-bind"),window.console||(window.console={}),window.console.log||(window.console.log=function(){});var n=t("./lodash.custom"),r=t("debug")("awwapp:index"),i=t("hyperscript"),o=t("./utils/dispatcher"),a=t("./board"),s=t("../../common/config"),c=t("./socket"),u=t("./user-api"),l=t("./widgets"),d=t("./canvas"),h=t("./ui/chat"),p=t("./ui/toolbar"),f=t("./p2p-rtc"),m=t("./utils/utils"),g=t("insert-css"),v=e("LmNsZWFyLC5jbGVhcmZpeDphZnRlcntjbGVhcjpib3RofS5hd3ctYnV0dG9uLC5hd3ctbGluaywuYnV0dG9uLmdyYXksLmJ1dHRvbi5vdXRsaW5le3RleHQtZGVjb3JhdGlvbjpub25lfXAgY29kZSxwcmV7d2hpdGUtc3BhY2U6cHJlfSNhd3ctd3JhcHBlciBhcnRpY2xlLCNhd3ctd3JhcHBlciBhc2lkZSwjYXd3LXdyYXBwZXIgZGV0YWlscywjYXd3LXdyYXBwZXIgZmlnY2FwdGlvbiwjYXd3LXdyYXBwZXIgZmlndXJlLCNhd3ctd3JhcHBlciBmb290ZXIsI2F3dy13cmFwcGVyIGhlYWRlciwjYXd3LXdyYXBwZXIgaGdyb3VwLCNhd3ctd3JhcHBlciBtZW51LCNhd3ctd3JhcHBlciBuYXYsI2F3dy13cmFwcGVyIHNlY3Rpb24sLmF3dy1pbnB1dC1maWVsZCxwcmUgY29kZXtkaXNwbGF5OmJsb2NrfS5hd3ctbGluaywuYXd3LW1vZGFsLWNsb3NlLC5sYWJlbC5jaGVja2JveCwubGFiZWwucG9pbnRlciwucG9pbnRlcntjdXJzb3I6cG9pbnRlcn0uYXd3LWJ1dHRvbiwuYXd3LWlucHV0LWZpZWxkLC5hd3ctbGFiZWwtc21hbGwsLmF3dy1saW5rLC5idXR0b24uZ3JheSwuYnV0dG9uLm91dGxpbmV7dHJhbnNpdGlvbjphbGwgMTAwbXMgZWFzZS1pbi1vdXQ7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAxMDBtcyBlYXNlLWluLW91dH0uYXd3LWltYWdlIC5hd3ctaW1hZ2UtY29udHJvbC13cmFwLC5hd3ctaW1hZ2UgaW1ney13ZWJraXQtcGVyc3BlY3RpdmU6MTAwMDtwZXJzcGVjdGl2ZToxMDAwOy13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW59I2F3dy1jaGF0LXdpbmRvdyAuYXd3LWNoYXQtbG9nLCNhd3ctY2hhdC13aW5kb3cgLmF3dy1tb2RhbC1mb290ZXIsI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgKiwqLDphZnRlciw6YmVmb3Jle2JveC1zaXppbmc6Ym9yZGVyLWJveH0jYXd3LXdyYXBwZXIgYSwjYXd3LXdyYXBwZXIgYWJiciwjYXd3LXdyYXBwZXIgYWNyb255bSwjYXd3LXdyYXBwZXIgYWRkcmVzcywjYXd3LXdyYXBwZXIgYXBwbGV0LCNhd3ctd3JhcHBlciBhcnRpY2xlLCNhd3ctd3JhcHBlciBhc2lkZSwjYXd3LXdyYXBwZXIgYXVkaW8sI2F3dy13cmFwcGVyIGIsI2F3dy13cmFwcGVyIGJpZywjYXd3LXdyYXBwZXIgYmxvY2txdW90ZSwjYXd3LXdyYXBwZXIgYm9keSwjYXd3LXdyYXBwZXIgY2FudmFzLCNhd3ctd3JhcHBlciBjYXB0aW9uLCNhd3ctd3JhcHBlciBjZW50ZXIsI2F3dy13cmFwcGVyIGNpdGUsI2F3dy13cmFwcGVyIGNvZGUsI2F3dy13cmFwcGVyIGRkLCNhd3ctd3JhcHBlciBkZWwsI2F3dy13cmFwcGVyIGRldGFpbHMsI2F3dy13cmFwcGVyIGRmbiwjYXd3LXdyYXBwZXIgZGl2LCNhd3ctd3JhcHBlciBkbCwjYXd3LXdyYXBwZXIgZHQsI2F3dy13cmFwcGVyIGVtLCNhd3ctd3JhcHBlciBlbWJlZCwjYXd3LXdyYXBwZXIgZmllbGRzZXQsI2F3dy13cmFwcGVyIGZpZ2NhcHRpb24sI2F3dy13cmFwcGVyIGZpZ3VyZSwjYXd3LXdyYXBwZXIgZm9vdGVyLCNhd3ctd3JhcHBlciBmb3JtLCNhd3ctd3JhcHBlciBoMSwjYXd3LXdyYXBwZXIgaDIsI2F3dy13cmFwcGVyIGgzLCNhd3ctd3JhcHBlciBoNCwjYXd3LXdyYXBwZXIgaDUsI2F3dy13cmFwcGVyIGg2LCNhd3ctd3JhcHBlciBoZWFkZXIsI2F3dy13cmFwcGVyIGhncm91cCwjYXd3LXdyYXBwZXIgaHRtbCwjYXd3LXdyYXBwZXIgaSwjYXd3LXdyYXBwZXIgaWZyYW1lLCNhd3ctd3JhcHBlciBpbWcsI2F3dy13cmFwcGVyIGlucywjYXd3LXdyYXBwZXIga2JkLCNhd3ctd3JhcHBlciBsYWJlbCwjYXd3LXdyYXBwZXIgbGVnZW5kLCNhd3ctd3JhcHBlciBsaSwjYXd3LXdyYXBwZXIgbWFyaywjYXd3LXdyYXBwZXIgbWVudSwjYXd3LXdyYXBwZXIgbmF2LCNhd3ctd3JhcHBlciBvYmplY3QsI2F3dy13cmFwcGVyIG9sLCNhd3ctd3JhcHBlciBvdXRwdXQsI2F3dy13cmFwcGVyIHAsI2F3dy13cmFwcGVyIHByZSwjYXd3LXdyYXBwZXIgcSwjYXd3LXdyYXBwZXIgcnVieSwjYXd3LXdyYXBwZXIgcywjYXd3LXdyYXBwZXIgc2FtcCwjYXd3LXdyYXBwZXIgc2VjdGlvbiwjYXd3LXdyYXBwZXIgc21hbGwsI2F3dy13cmFwcGVyIHNwYW4sI2F3dy13cmFwcGVyIHN0cmlrZSwjYXd3LXdyYXBwZXIgc3Ryb25nLCNhd3ctd3JhcHBlciBzdWIsI2F3dy13cmFwcGVyIHN1bW1hcnksI2F3dy13cmFwcGVyIHN1cCwjYXd3LXdyYXBwZXIgdGFibGUsI2F3dy13cmFwcGVyIHRib2R5LCNhd3ctd3JhcHBlciB0ZCwjYXd3LXdyYXBwZXIgdGZvb3QsI2F3dy13cmFwcGVyIHRoLCNhd3ctd3JhcHBlciB0aGVhZCwjYXd3LXdyYXBwZXIgdGltZSwjYXd3LXdyYXBwZXIgdHIsI2F3dy13cmFwcGVyIHR0LCNhd3ctd3JhcHBlciB1LCNhd3ctd3JhcHBlciB1bCwjYXd3LXdyYXBwZXIgdmFyLCNhd3ctd3JhcHBlciB2aWRlb3ttYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOjA7Zm9udDppbmhlcml0O3ZlcnRpY2FsLWFsaWduOmJhc2VsaW5lfWgyLGg0LHB7Zm9udC13ZWlnaHQ6NDAwfSNhd3ctd3JhcHBlciBib2R5e2xpbmUtaGVpZ2h0OjF9I2F3dy13cmFwcGVyIGxpLCNhd3ctd3JhcHBlciBvbCwjYXd3LXdyYXBwZXIgdWx7bGlzdC1zdHlsZTpub25lfSNhd3ctd3JhcHBlciBibG9ja3F1b3RlLCNhd3ctd3JhcHBlciBxe3F1b3Rlczpub25lfSNhd3ctd3JhcHBlciBibG9ja3F1b3RlOmFmdGVyLCNhd3ctd3JhcHBlciBibG9ja3F1b3RlOmJlZm9yZSwjYXd3LXdyYXBwZXIgcTphZnRlciwjYXd3LXdyYXBwZXIgcTpiZWZvcmV7Y29udGVudDonJztjb250ZW50Om5vbmV9I2F3dy13cmFwcGVyIHRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowfSNhd3ctd3JhcHBlciBhIGltZ3tib3JkZXI6bm9uZX1wIGNvZGUscHJle2JvcmRlcjoxcHggc29saWQgI2RkZH0jYXd3LXdyYXBwZXIgOmZvY3Vze291dGxpbmU6MH0ubGVmdHtmbG9hdDpsZWZ0fS5yaWdodHtmbG9hdDpyaWdodH0ub3ZlcmZsb3d7b3ZlcmZsb3c6YXV0b30ubWFyZ2luLXRvcHttYXJnaW4tdG9wOjEycHh9Lm1hcmdpbi1ib3R0b217bWFyZ2luLWJvdHRvbToxMnB4fS5jbGVhcmZpeDphZnRlciwuY2xlYXJmaXg6YmVmb3Jle2NvbnRlbnQ6Ii4iO2Rpc3BsYXk6YmxvY2s7aGVpZ2h0OjA7b3ZlcmZsb3c6aGlkZGVufS5hd3ctbW9kYWwsLmF3dy10YWJzLC5idXR0b24tZ3JvdXAscCBjb2RlLHByZXtvdmVyZmxvdzphdXRvfS5jbGVhcmZpeHt6b29tOjF9aHRtbHtmb250LXNpemU6MTZweH1ib2R5e2NvbG9yOiMzZTNlM2U7Zm9udC1mYW1pbHk6TGF0byxBcmlhbCxzYW5zLXNlcmlmOy13ZWJraXQtZm9udC1zbW9vdGhpbmc6YW50aWFsaWFzZWQ7LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0Om5vbmV9aDF7Zm9udC1zaXplOjMycHg7Zm9udC13ZWlnaHQ6MzAwO2xpbmUtaGVpZ2h0OjEuMjV9aDJ7Zm9udC1zaXplOjIxcHg7bWFyZ2luLWJvdHRvbToxNnB4fWg0e2ZvbnQtc2l6ZToxM3B4O2xldHRlci1zcGFjaW5nOjFweDtjb2xvcjojOTk5O3RleHQtdHJhbnNmb3JtOnVwcGVyY2FzZTttYXJnaW4tYm90dG9tOjIwcHh9cHtmb250LXNpemU6MTVweDtsaW5lLWhlaWdodDoyMHB4O21hcmdpbi1ib3R0b206MTRweH0uYXd3LXNtYWxsLHNtYWxse2ZvbnQtc2l6ZToxM3B4fS5hd3ctc3Ryb25nLHN0cm9uZ3tmb250LXdlaWdodDo5MDAhaW1wb3J0YW50fS5hd3ctbGlua3tjb2xvcjojM2RjNDc2IWltcG9ydGFudH0uYXd3LWxpbms6aG92ZXJ7Y29sb3I6IzNiYjI2YiFpbXBvcnRhbnR9LnRleHQtY2VudGVye3RleHQtYWxpZ246Y2VudGVyfS50ZXh0LXJpZ2h0e3RleHQtYWxpZ246cmlnaHR9cHJle2JhY2tncm91bmQ6I2ZhZmFmYTt3b3JkLXdyYXA6YnJlYWstd29yZDtwYWRkaW5nOjIwcHg7bWFyZ2luOjIycHggMDtib3JkZXItcmFkaXVzOjZweDttYXgtd2lkdGg6NTQwcHh9Y29kZXtmb250LWZhbWlseTpJbmNvbnNvbGF0YSxNb25hY28sQ29uc29sYXMsIkFuZGFsZSBNb25vIiwiQml0c3RyZWFtIFZlcmEgU2FucyBNb25vIiwiQ291cmllciBOZXciLENvdXJpZXIsbW9ub3NwYWNlO2NvbG9yOiMyNjczQkY7cGFkZGluZzoycHg7bGluZS1oZWlnaHQ6MTdweDtmb250LXNpemU6MTJweDtmb250LXdlaWdodDo0MDB9I2F3dy1jaGF0LXdpbmRvdywjYXd3LWNoYXQtd2luZG93IC5hd3ctbW9kYWwtZm9vdGVyIC5hd3ctaW5wdXQtZmllbGQsI2F3dy1jb250YWluZXIsI2F3dy1jb250YWluZXIgLmF3dy10ZXh0YXJlYSwuYXd3LWJ1dHRvbiwuYXd3LWlucHV0LWZpZWxkLC5idXR0b24uZ3JheSwuYnV0dG9uLm91dGxpbmV7Zm9udC1mYW1pbHk6TGF0byxBcmlhbCxzYW5zLXNlcmlmfXByZSBjb2Rle292ZXJmbG93LXg6YXV0b31wIGNvZGV7YmFja2dyb3VuZDojZWVlO3dvcmQtd3JhcDpicmVhay13b3JkO3BhZGRpbmc6MnB4IDVweDtib3JkZXItcmFkaXVzOjRweH0uYXd3LWlucHV0LWZpZWxkLC5idXR0b24tZ3JvdXB7LW8td2Via2l0LWJvcmRlci1yYWRpdXM6NnB4O2JvcmRlci1yYWRpdXM6NnB4fS5hd3ctbW9kYWx7Ym9yZGVyLXJhZGl1czo2cHg7d2lkdGg6MzIwcHg7bWF4LXdpZHRoOjEwMCU7bWF4LWhlaWdodDo5MCU7bWFyZ2luOjhweDtib3JkZXI6MXB4IHNvbGlkICNlMmUyZTI7YmFja2dyb3VuZC1jb2xvcjojZjlmOWY5O3Bvc2l0aW9uOnJlbGF0aXZlO3otaW5kZXg6MjAwO2Zsb2F0OmxlZnR9LmF3dy1tb2RhbC5pbnZpdGUtdG8tYm9hcmR7d2lkdGg6NjAwcHh9LmF3dy1tb2RhbC1oZWFkZXJ7cGFkZGluZzoxOHB4IDAgMzJweDtmb250LXNpemU6MTVweDtmb250LXdlaWdodDo0MDA7Y29sb3I6I2FhYTtwb3NpdGlvbjpyZWxhdGl2ZX0uYXd3LW1vZGFsLWNsb3Nle2Zsb2F0OnJpZ2h0O3BhZGRpbmc6NHB4O21hcmdpbjotMTBweCAtMThweCAwIDB9LmF3dy1tb2RhbC1jbG9zZSBzdmd7ZmlsbDojYmJiO2hlaWdodDoyMHB4O3dpZHRoOjIwcHh9LmF3dy1tb2RhbC1jbG9zZTpob3ZlciBzdmd7ZmlsbDojOTk5fS5hd3ctbW9kYWwtaW5uZXJ7cGFkZGluZzowIDI0cHh9LnN0YW5kYWxvbmUtYmxvY2t7Ym9yZGVyLXRvcDoxcHggc29saWQgI2UyZTJlMjtwYWRkaW5nOjI0cHh9LmF3dy1mb3JtLWZvbGxvdy11cHtwYWRkaW5nOjhweCAwIDE2cHh9LmF3dy1tb2RhbC1mb290ZXJ7YmFja2dyb3VuZC1jb2xvcjojZWVlO2JvcmRlci10b3A6MXB4IHNvbGlkICNlMmUyZTI7cGFkZGluZzoxOHB4fS5hd3ctbW9kYWwtZm9vdGVyLmZiLWljb24gcGF0aHtmaWxsOiMzYjU5OTh9LmF3dy1tb2RhbC1mb3Jte21hcmdpbjowIC04cHh9LmF3dy1tb2RhbC1mb3JtIC5hd3ctbGFiZWx7bWFyZ2luLWxlZnQ6OHB4O21hcmdpbi1yaWdodDo4cHh9LmF3dy1pbnB1dC1maWVsZHtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjJweCBzb2xpZCAjZTJlMmUyO2ZvbnQtc2l6ZToxNXB4O2ZvbnQtd2VpZ2h0OjQwMDtwYWRkaW5nOjhweDtsaW5lLWhlaWdodDoyMnB4O3dpZHRoOjEwMCU7bWFyZ2luLWJvdHRvbTo0cHh9LmF3dy1pbnB1dC1maWVsZC5zbWFsbHtmb250LXNpemU6MTNweH0uYXd3LWlucHV0LWZpZWxkOmZvY3Vze291dGxpbmU6MDtib3JkZXItY29sb3I6IzNkYzQ3NjtiYWNrZ3JvdW5kLWNvbG9yOiNmZWZlZmV9LmF3dy1pbnB1dC1maWVsZC5lcnJvciwuYnV0dG9uLWdyb3VwLmVycm9ye2JvcmRlci1jb2xvcjojZWQxYzI0fS5hd3ctaW5wdXQtZmllbGQgb3B0aW9uLC5hd3ctaW5wdXQtZmllbGQuYWNjVHlwZXt0ZXh0LXRyYW5zZm9ybTpjYXBpdGFsaXplfS5hd3ctbGFiZWx7Zm9udC1zaXplOjE1cHg7Zm9udC13ZWlnaHQ6NzAwO21hcmdpbi1ib3R0b206MTJweH0uYXd3LWxhYmVsLXNtYWxse2ZvbnQtc2l6ZToxM3B4O2ZvbnQtd2VpZ2h0OjQwMDtjb2xvcjojOTk5O2Rpc3BsYXk6aW5saW5lLWJsb2NrfSNhd3ctY2hhdC13aW5kb3cgLmF3dy1jaGF0LWxvZyAuYXd3LWNoYXQtYnViYmxlIC5hd3ctdXNlciwuYXd3LWJ1dHRvbiwuYnV0dG9uLmdyYXksLmJ1dHRvbi5vdXRsaW5lLC5sYWJlbC5jaGVja2JveHtmb250LXdlaWdodDo5MDB9LmxhYmVsLmNoZWNrYm94e2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDoxcHg7bGVmdDo0cHg7bWFyZ2luOjA7Y29sb3I6IzNlM2UzZX0uYXd3LXRhYnN7bWFyZ2luOjI0cHggOHB4fS5hd3ctdGFicyAuYXd3LXRhYntmbG9hdDpsZWZ0O3RleHQtYWxpZ246Y2VudGVyO3BhZGRpbmc6NHB4IDhweCAxOHB4O21hcmdpbjowO2N1cnNvcjpwb2ludGVyO2NvbG9yOiM5OTl9LmF3dy10YWJzIC5hd3ctdGFiOmhvdmVye2NvbG9yOiMzZGM0NzZ9LmF3dy10YWJzIC5hd3ctdGFiLmFjdGl2ZXtjb2xvcjojM2UzZTNlIWltcG9ydGFudDtjdXJzb3I6ZGVmYXVsdCFpbXBvcnRhbnQ7Ym9yZGVyLWJvdHRvbToycHggc29saWQgIzNkYzQ3Nn0uYXd3LXRhYnMgLmF3dy10YWIuZGFya3tjb2xvcjojM2UzZTNlfS5hd3ctdGFicy50d28gLmF3dy10YWJ7d2lkdGg6NTAlfS5hd3ctdGFicy50aHJlZSAuYXd3LXRhYnt3aWR0aDozMy4zMyV9LmF3dy10YWJzLmZvdXIgLmF3dy10YWJ7d2lkdGg6MjUlO3RleHQtYWxpZ246bGVmdDtwYWRkaW5nOjAgOHB4fS5hd3ctYnV0dG9uLC5idXR0b24uZ3JheXtib3JkZXI6MDtwYWRkaW5nOjhweCAxNnB4fS5idXR0b24tZ3JvdXB7Ym9yZGVyOjJweCBzb2xpZCAjM2RjNDc2O21hcmdpbjowIDhweCAyNHB4O2Zsb2F0OmxlZnR9LmF3dy1idXR0b24sLmJ1dHRvbi5ncmF5e2NvbG9yOiNmZmY7Ym9yZGVyLXJhZGl1czozcHg7LW8td2Via2l0LWJvcmRlci1yYWRpdXM6M3B4fS5idXR0b24tZ3JvdXAgLmdyb3Vwe2Zsb2F0OmxlZnQ7dGV4dC1hbGlnbjpjZW50ZXI7cGFkZGluZzo4cHggMTZweDttYXJnaW46MDtjdXJzb3I6cG9pbnRlcjtjb2xvcjojOTk5fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NjAwcHgpey5idXR0b24tZ3JvdXAgLmdyb3Vwe3dpZHRoOjEwMCV9fS5idXR0b24tZ3JvdXAgLmdyb3VwIHN2Z3tkaXNwbGF5Om5vbmU7ZmlsbDojZmZmO3dpZHRoOjE0cHg7cG9zaXRpb246cmVsYXRpdmU7bGVmdDotNnB4fS5hd3ctYnV0dG9uLC5hd3ctc3dpdGNoLC5idXR0b24tZ3JvdXAgLmdyb3VwLmFjdGl2ZSBzdmcsLmJ1dHRvbi5ncmF5LC5idXR0b24ub3V0bGluZXtkaXNwbGF5OmlubGluZS1ibG9ja30uYnV0dG9uLWdyb3VwIC5ncm91cDpob3Zlcntjb2xvcjojM2RjNDc2fS5idXR0b24tZ3JvdXAgLmdyb3VwLmFjdGl2ZXtiYWNrZ3JvdW5kLWNvbG9yOiMzZGM0NzY7Y29sb3I6I2ZmZiFpbXBvcnRhbnQ7Y3Vyc29yOmRlZmF1bHQhaW1wb3J0YW50fS5hd3ctYnV0dG9ue2ZvbnQtc2l6ZToxNXB4O3RleHQtc2hhZG93OjAgMXB4IDJweCAjMzVBMTYxO2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtY29sb3I6IzNkYzQ3Njtib3gtc2hhZG93OjAgMnB4IDAgMCAjM2JiMjZifS5hd3ctYnV0dG9uOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzNiYjI2Yn0uYXd3LWJ1dHRvbi5hd3ctZGVsZXRle2JhY2tncm91bmQtY29sb3I6I2VkMWMyNDtib3gtc2hhZG93OjAgMnB4IDAgMCAjNzYwZTEyfS5hd3ctYnV0dG9uLWRpc2FibGVkLC5hd3ctYnV0dG9uLWRpc2FibGVkOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2QzZDNkM30uYXd3LWJ1dHRvbi5sYXN0e21hcmdpbi10b3A6MTZweDttYXJnaW4tYm90dG9tOjE2cHh9LmF3dy1idXR0b24tZGlzYWJsZWR7Ym94LXNoYWRvdzowIDJweCAwIDAgI2QzZDNkMzt0ZXh0LXNoYWRvdzowIDFweCAycHggI2QzZDNkM30uYnV0dG9uLmdyYXl7Zm9udC1zaXplOjE1cHg7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1jb2xvcjojM2RjNDc2fS5idXR0b24ub3V0bGluZXstby13ZWJraXQtYm9yZGVyLXJhZGl1czo1cHg7Ym9yZGVyLXJhZGl1czo1cHg7Zm9udC1zaXplOjE0cHg7Y29sb3I6IzNkYzQ3NjtwYWRkaW5nOjdweCAxNnB4IDhweDtib3JkZXI6MnB4IHNvbGlkICMzZGM0NzY7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0uYXd3LXN3aXRjaHtib3JkZXItcmFkaXVzOjc3cHg7LXdlYmtpdC10cmFuc2l0aW9uOmFsbCAuNHM7dHJhbnNpdGlvbjphbGwgLjRzO21hcmdpbi1yaWdodDoxMHB4O3dpZHRoOjM1cHg7aGVpZ2h0OjE5cHg7YmFja2dyb3VuZC1jb2xvcjojYmJiO3Bvc2l0aW9uOnJlbGF0aXZlO2N1cnNvcjpwb2ludGVyfS5hd3ctc3dpdGNoOmFmdGVyey13ZWJraXQtdHJhbnNpdGlvbjotd2Via2l0LXRyYW5zZm9ybSAuMnM7dHJhbnNpdGlvbjp0cmFuc2Zvcm0gLjJzO2JvcmRlci1yYWRpdXM6MTAwJTtjb250ZW50OiIiO3dpZHRoOjEzcHg7aGVpZ2h0OjEzcHg7YmFja2dyb3VuZC1jb2xvcjojZWVlO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjNweDtwb3NpdGlvbjpyZWxhdGl2ZX0uYXd3LXN3aXRjaDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM5OTl9LmF3dy1zd2l0Y2guY2hlY2tlZHtiYWNrZ3JvdW5kLWNvbG9yOiMzZGM0NzZ9LmF3dy1zd2l0Y2guY2hlY2tlZDphZnRlcnstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUoMTIwJSwwKTstbXMtdHJhbnNmb3JtOnRyYW5zbGF0ZSgxMjAlLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUoMTIwJSwwKX0uYXd3LW1vZGFsIC5hd3ctaWNvbnttYXJnaW4tcmlnaHQ6M3B4fS5hd3ctbW9kYWwgLmF3dy1pY29uIHN2Z3std2Via2l0LXRyYW5zaXRpb246YWxsIDEwMG1zIGVhc2UtaW4tb3V0O3RyYW5zaXRpb246YWxsIDEwMG1zIGVhc2UtaW4tb3V0O2ZpbGw6I2JiYjt3aWR0aDoyMHB4O2hlaWdodDoyMHB4fS5hd3ctbW9kYWwgLmF3dy1pY29uOmhvdmVyIHN2Z3tmaWxsOiM5OTl9LmF3dy1tb2RhbCAuZmItaWNvbiAuYXd3LWljb24gc3Zne2ZpbGw6IzNiNTk5OH0uYXd3LW1vZGFsIC50dy1pY29uIC5hd3ctaWNvbiBzdmd7ZmlsbDojMDBhY2VkfS5hd3ctbW9kYWwgLmdwbHVzLWljb24gLmF3dy1pY29uIHN2ZyBwYXRoe2ZpbGw6I2QzNDgzNn0uYXd3LW1vZGFsIC5tZXNzYWdle21hcmdpbi10b3A6M3B4fS5hd3ctbW9kYWwgLm1lc3NhZ2UgLmF3dy1pY29ue3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDoycHh9LmF3dy1tb2RhbCAubWVzc2FnZS53YXJuaW5nIC5hd3ctbGFiZWwtc21hbGx7Y29sb3I6I2ZmOWMwMH0uYXd3LW1vZGFsIC5tZXNzYWdlLndhcm5pbmcgLmF3dy1pY29uIHN2Z3tmaWxsOiNmZjljMDB9LmF3dy1tb2RhbCAubWVzc2FnZS5lcnJvciAuYXd3LWxhYmVsLXNtYWxse2NvbG9yOiNlZDFjMjR9LmF3dy1tb2RhbCAubWVzc2FnZS5lcnJvciAuYXd3LWljb24gc3Zne2ZpbGw6I2VkMWMyNH0jYXd3LWNvbnRhaW5lcntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtyaWdodDowO2JvdHRvbTowO2xlZnQ6NzRweDtvdmVyZmxvdzpoaWRkZW47Zm9udC1zaXplOjE0cHg7Y29sb3I6IzAwMDstd2Via2l0LXRyYW5zZm9ybS1zdHlsZTpwcmVzZXJ2ZS0zZDt0cmFuc2Zvcm0tc3R5bGU6cHJlc2VydmUtM2Q7LXdlYmtpdC1wZXJzcGVjdGl2ZToxMDAwcHg7cGVyc3BlY3RpdmU6MTAwMHB4Oy1tcy10b3VjaC1hY3Rpb246bm9uZX0jYXd3LWNvbnRhaW5lciAuZXJyb3ItbXNne2JhY2tncm91bmQtY29sb3I6I2U3NGMzYztib3JkZXI6MXB4IHNvbGlkICNjMDM5MmJ9I2F3dy1jb250YWluZXIgLnN1Y2Nlc3MtbXNne2JhY2tncm91bmQtY29sb3I6I2U4ZjdlZjtib3JkZXI6MXB4IHNvbGlkICNjNWVkZDZ9I2F3dy1jb250YWluZXIgLmhpZGRlbi1mYWRle3Zpc2liaWxpdHk6aGlkZGVuO29wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246dmlzaWJpbGl0eSAwcyAuNXMsb3BhY2l0eSAuNXMgbGluZWFyO3RyYW5zaXRpb246dmlzaWJpbGl0eSAwcyAuNXMsb3BhY2l0eSAuNXMgbGluZWFyfSNhd3ctY29udGFpbmVyIC52aXNpYmxlLWZhZGV7dmlzaWJpbGl0eTp2aXNpYmxlO29wYWNpdHk6MTstd2Via2l0LXRyYW5zaXRpb246b3BhY2l0eSAuNXMgbGluZWFyO3RyYW5zaXRpb246b3BhY2l0eSAuNXMgbGluZWFyfS5hd3ctaW1hZ2UtZm9ybSwuYXd3LWltYWdlLWlucHV0e3Zpc2liaWxpdHk6aGlkZGVufS5wb3J0cmFpdCAjYXd3LWNvbnRhaW5lcnt0b3A6NTZweDtsZWZ0OjB9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LWNvbnRhaW5lcntsZWZ0OjU2cHh9fSNhd3ctY29udGFpbmVyIC5hd3ctY2FudmFzLXdyYXBwZXJ7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO3JpZ2h0OjA7Ym90dG9tOjA7ei1pbmRleDo1MDtvdmVyZmxvdzpoaWRkZW47Y3Vyc29yOmNyb3NzaGFpcn0jYXd3LWNvbnRhaW5lciAuYXd3LWNhbnZhcy13cmFwcGVyIGNhbnZhc3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7LXdlYmtpdC10b3VjaC1jYWxsb3V0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1raHRtbC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTstby11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9I2F3dy1jb250YWluZXIgLmF3dy1jYW52YXMtd3JhcHBlci5wYW5uaW5ne2N1cnNvcjotd2Via2l0LWdyYWI7Y3Vyc29yOmdyYWJ9I2F3dy1jb250YWluZXIgLmF3dy1jYW52YXMtd3JhcHBlci5wYW5uaW5nLWdyYWJiZWR7Y3Vyc29yOi13ZWJraXQtZ3JhYmJpbmc7Y3Vyc29yOmdyYWJiaW5nfSNhd3ctY29udGFpbmVyIC5hd3ctdGV4dGFyZWF7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTpub25lO2JhY2tncm91bmQ6MCAwO2NvbG9yOiMwMDA7Zm9udC1zaXplOjIwcHg7Ym9yZGVyOjA7cGFkZGluZzowO21hcmdpbjowO2xpbmUtaGVpZ2h0OjEuM2VtO3Jlc2l6ZTpub25lO292ZXJmbG93OmhpZGRlbjtvcGFjaXR5OjA7d2lkdGg6MTAwMHB4fSNhd3ctY29udGFpbmVyIC5hd3ctdGV4dGFyZWE6Zm9jdXN7b3V0bGluZTowfSNhd3ctY29udGFpbmVyIC5hd3ctdGV4dGFyZWEuc2hvd3tvcGFjaXR5OjF9I2F3dy1jb250YWluZXIgLmF3dy10ZXh0YXJlYS5oaWRle29wYWNpdHk6MH0jYXd3LWNvbnRhaW5lciAuYXd3LWRyYXdpbmctaGVscGVye3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTA7bGVmdDowO3RvcDowfSNhd3ctY29udGFpbmVyIC5hd3ctZHJhd2luZy1oZWxwZXIgZWxsaXBzZSwjYXd3LWNvbnRhaW5lciAuYXd3LWRyYXdpbmctaGVscGVyIGxpbmUsI2F3dy1jb250YWluZXIgLmF3dy1kcmF3aW5nLWhlbHBlciBwb2x5Z29uLCNhd3ctY29udGFpbmVyIC5hd3ctZHJhd2luZy1oZWxwZXIgcmVjdHtzdHJva2U6IzNkYzQ3NjtzdHJva2Utd2lkdGg6MXB4O3N0cm9rZS1kYXNoYXJyYXk6NSw1O2ZpbGw6cmdiYSg2MSwxOTYsMTE4LC4wNSl9I2F3dy1jb250YWluZXIgLmF3dy1kcmF3aW5nLWhlbHBlciBwb2x5Z29ue3N0cm9rZTojZGMyOTI5O2ZpbGw6cmdiYSgyMDAsNDEsNDEsLjA1KX0jYXd3LWNvbnRhaW5lciAuYXd3LWRyYXdpbmctaGVscGVyIGVsbGlwc2UuYXd3LW1hcmtlcntzdHJva2U6dHJhbnNwYXJlbnQ7ZmlsbDpyZ2JhKDYxLDE5NiwxMTgsLjM1KX0jYXd3LWNvbnRhaW5lciAuYXd3LXNlbGVjdC1vdXRsaW5le3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTA7bGVmdDowO3RvcDowO3BvaW50ZXItZXZlbnRzOm5vbmV9I2F3dy1jb250YWluZXIgLmF3dy1zZWxlY3Qtb3V0bGluZSBlbGxpcHNlLCNhd3ctY29udGFpbmVyIC5hd3ctc2VsZWN0LW91dGxpbmUgbGluZSwjYXd3LWNvbnRhaW5lciAuYXd3LXNlbGVjdC1vdXRsaW5lIHBvbHlnb24sI2F3dy1jb250YWluZXIgLmF3dy1zZWxlY3Qtb3V0bGluZSByZWN0e3N0cm9rZTojM2RjNDc2O3N0cm9rZS13aWR0aDoxcHg7c3Ryb2tlLWRhc2hhcnJheTo1LDU7ZmlsbDp0cmFuc3BhcmVudH0jYXd3LWNvbnRhaW5lciAuYXd3LXNlbGVjdC1vdXRsaW5lIHBvbHlnb257c3Ryb2tlOiNkYzI5Mjk7ZmlsbDp0cmFuc3BhcmVudH0jYXd3LWNvbnRhaW5lciAuYXd3LXNlbGVjdC1vdXRsaW5lIGVsbGlwc2UuYXd3LW1hcmtlcntzdHJva2U6dHJhbnNwYXJlbnQ7ZmlsbDp0cmFuc3BhcmVudH0jYXd3LWNvbnRhaW5lciAuYXd3LW1pbmltYXB7cG9zaXRpb246YWJzb2x1dGU7dG9wOjE2cHg7cmlnaHQ6MTZweDtib3JkZXI6MXB4IHNvbGlkICMzZGM0NzZ9I2F3dy1jb250YWluZXIgLmF3dy1taW5pbWFwIC5hd3ctc2NyZWVuLW1hcmtlcnttYXJnaW4tbGVmdDowO21hcmdpbi10b3A6MDtib3JkZXI6MnB4IGRvdHRlZCAjM2RjNDc2fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTkwcHgpey5hd3ctbW9kYWwtaGVhZGVye3BhZGRpbmc6MTZweCAwfS5hd3ctbW9kYWwtaW5uZXJ7cGFkZGluZzowIDE2cHh9LmF3dy11c2VycyAuYXd3LXVzZXItbGlzdC1pdGVte21hcmdpbi1yaWdodDotN3B4fS5teS1hY2NvdW50IC5zdGFuZGFsb25lLWJsb2NrIC5hd3ctbGFiZWx7bWFyZ2luLWJvdHRvbToxNnB4fS5hd3ctbW9kYWwtZm9vdGVyLC5jb2xsYWItbWVudSAuYXd3LWxpbmssLnN0YW5kYWxvbmUtYmxvY2t7cGFkZGluZzoxNnB4fX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KWFuZCAob3JpZW50YXRpb246bGFuZHNjYXBlKXsuYXd3LW1vZGFsLWhlYWRlcntwYWRkaW5nOjE2cHggMH0uYXd3LW1vZGFsLWlubmVye3BhZGRpbmc6MCAxNnB4fS5hd3ctdXNlcnMgLmF3dy11c2VyLWxpc3QtaXRlbXttYXJnaW4tcmlnaHQ6LTdweH0ubXktYWNjb3VudCAuc3RhbmRhbG9uZS1ibG9jayAuYXd3LWxhYmVse21hcmdpbi1ib3R0b206MTZweH0uYXd3LW1vZGFsLWZvb3RlciwuY29sbGFiLW1lbnUgLmF3dy1saW5rLC5zdGFuZGFsb25lLWJsb2Nre3BhZGRpbmc6MTZweH19I2F3dy1jaGF0LXdpbmRvd3tib3JkZXItcmFkaXVzOjZweCA2cHggMCAwO21heC13aWR0aDoxMDAlO2JvcmRlcjoxcHggc29saWQgI2UyZTJlMjtiYWNrZ3JvdW5kLWNvbG9yOiNmOWY5Zjk7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDtib3R0b206MDttYXJnaW46MCA4cHg7d2lkdGg6MzIwcHh9I2F3dy1jaGF0LXdpbmRvdyAuYXd3LW1vZGFsLWhlYWRlcntiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7Zm9udC1zaXplOjEzcHg7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgI2UyZTJlMjtwYWRkaW5nOjEycHg7dGV4dC10cmFuc2Zvcm06dXBwZXJjYXNlO3Bvc2l0aW9uOnJlbGF0aXZlO2JveC1zaGFkb3c6MCAycHggMnB4IDAgcmdiYSgwLDAsMCwuMDUpfSNhd3ctY2hhdC13aW5kb3cgLmF3dy1tb2RhbC1oZWFkZXIgLmF3dy1jaGF0LXRpdGxle2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjEwMCV9I2F3dy1jaGF0LXdpbmRvdyAuYXd3LW1vZGFsLWhlYWRlciAjdXNlck5pY2tJbnB1dENoYXR7ZmxvYXQ6bGVmdDt3aWR0aDo3MCV9I2F3dy1jaGF0LXdpbmRvdyAuYXd3LW1vZGFsLWhlYWRlciAuYXd3LWJ1dHRvbi5hd3ctaW5wdXQtZmllbGR7d2lkdGg6MjUlO21hcmdpbi1sZWZ0OjUlO3RleHQtYWxpZ246Y2VudGVyO21hcmdpbi1ib3R0b206NHB4O2ZvbnQtc2l6ZToxM3B4fSNhd3ctY2hhdC13aW5kb3cgLmF3dy1tb2RhbC1oZWFkZXIgI2NoYW5nZS1jaGF0LW5hbWV7dGV4dC10cmFuc2Zvcm06bm9uZTtjdXJzb3I6cG9pbnRlcjttYXJnaW4tbGVmdDoycHg7ZGlzcGxheTppbmxpbmUtYmxvY2s7ZmxvYXQ6cmlnaHQ7bWFyZ2luLXRvcDotMXB4fSNhd3ctY2hhdC13aW5kb3cgLmF3dy1tb2RhbC1oZWFkZXIgI2NoYW5nZS1jaGF0LW5hbWU6aG92ZXJ7dGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtjb2xvcjojM2RjNDc2fSNhd3ctY2hhdC13aW5kb3cgLmF3dy1tb2RhbC1oZWFkZXIgLmF3dy1jaGF0LWNoYW5nZS1uYW1lLXBhcmVudHttYXJnaW4tdG9wOjEwcHh9I2F3dy1jaGF0LXdpbmRvdyAuYXd3LW1vZGFsLWhlYWRlciAuYXd3LWNoYXQtY2xvc2V7ZmxvYXQ6cmlnaHQ7Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzoxMHB4IDEwcHggMDttYXJnaW46LTExcHggLTExcHggMCAwfSNhd3ctY2hhdC13aW5kb3cgLmF3dy1tb2RhbC1oZWFkZXIgLmF3dy1jaGF0LWNsb3NlIHN2Z3toZWlnaHQ6MTBweDt3aWR0aDoxMHB4fSNhd3ctY2hhdC13aW5kb3cgLmF3dy1tb2RhbC1oZWFkZXIgLmF3dy1jaGF0LWNsb3NlIHN2ZyBwYXRoe2ZpbGw6Izk5OX0jYXd3LWNoYXQtd2luZG93IC5hd3ctbW9kYWwtaGVhZGVyIC5hd3ctY2hhdC1jbG9zZTpob3ZlciBzdmcgcGF0aHtmaWxsOiMzZTNlM2V9LmF3dy1pbWFnZSAuYXd3LWltYWdlLXJvdGF0ZSBzdmcgcGF0aCwuYXd3LWltYWdlIC5hd3ctaW1hZ2Utc2NhbGUgc3ZnIHBhdGgsLmF3dy1pbWFnZS1jYW5jZWwgc3ZnIHBhdGh7ZmlsbDojZmZmfSNhd3ctY2hhdC13aW5kb3cgLmF3dy1jaGF0LWxvZy13cmFwcGVye21heC1oZWlnaHQ6Mjc1cHg7b3ZlcmZsb3c6YXV0bzt3aWR0aDoxMDAlfSNhd3ctY2hhdC13aW5kb3cgLmF3dy1jaGF0LWxvZ3t3aWR0aDoxMDAlO3BhZGRpbmc6OHB4IDA7bWluLWhlaWdodDoxNjBweH0jYXd3LWNoYXQtd2luZG93IC5hd3ctY2hhdC1sb2cgLmF3dy1jaGF0LWJ1YmJsZXtib3JkZXItcmFkaXVzOjZweDtwYWRkaW5nOjhweCAxMnB4IDEycHg7YmFja2dyb3VuZC1jb2xvcjojZWJlYmViO21hcmdpbjo2cHggMjBweCA2cHggNHB4fSNhd3ctY2hhdC13aW5kb3cgLmF3dy1jaGF0LWxvZyAuYXd3LWNoYXQtYnViYmxlIC5hd3ctY2hhdC10aW1lc3RhbXAsI2F3dy1jaGF0LXdpbmRvdyAuYXd3LWNoYXQtbG9nIC5hd3ctY2hhdC1idWJibGUgLmF3dy11c2Vye2ZvbnQtc2l6ZToxMHB4O2NvbG9yOiM5OTl9I2F3dy1jaGF0LXdpbmRvdyAuYXd3LWNoYXQtbG9nIC5hd3ctY2hhdC1idWJibGUgLmF3dy1jaGF0LXRleHR7bWFyZ2luLXRvcDo4cHg7Zm9udC1zaXplOjEzcHg7bGluZS1oZWlnaHQ6MTRweDtjb2xvcjojM2UzZTNlO3dvcmQtYnJlYWs6YnJlYWstd29yZH0jYXd3LWNoYXQtd2luZG93IC5hd3ctY2hhdC1sb2cgLmF3dy1jaGF0LWJ1YmJsZS5hd3ctdXNlci1tZXtiYWNrZ3JvdW5kLWNvbG9yOiMzZGM0NzY7bWFyZ2luOjRweCA0cHggNHB4IDIwcHh9I2F3dy1jaGF0LXdpbmRvdyAuYXd3LWNoYXQtbG9nIC5hd3ctY2hhdC1idWJibGUuYXd3LXVzZXItbWUgLmF3dy1jaGF0LXRpbWVzdGFtcCwjYXd3LWNoYXQtd2luZG93IC5hd3ctY2hhdC1sb2cgLmF3dy1jaGF0LWJ1YmJsZS5hd3ctdXNlci1tZSAuYXd3LXVzZXJ7Y29sb3I6I2Y5ZjlmOX0jYXd3LWNoYXQtd2luZG93IC5hd3ctbW9kYWwtZm9vdGVye3BhZGRpbmc6NHB4O3dpZHRoOjEwMCV9I2F3dy1jaGF0LXdpbmRvdyAuYXd3LW1vZGFsLWZvb3RlciAuYXd3LWlucHV0LWZpZWxke2JveC1zaXppbmc6Ym9yZGVyLWJveDtib3JkZXItcmFkaXVzOjZweDstd2Via2l0LXRyYW5zaXRpb246YWxsIC40czt0cmFuc2l0aW9uOmFsbCAuNHM7YmFja2dyb3VuZDojZmZmO2JvcmRlcjoxcHggc29saWQgI2UyZTJlMjtmb250LXNpemU6MTVweDtmb250LXdlaWdodDo0MDA7ZGlzcGxheTpibG9jaztwYWRkaW5nOjhweDtsaW5lLWhlaWdodDoyMnB4O3dpZHRoOjEwMCU7bWFyZ2luOjB9I2F3dy1jaGF0LXdpbmRvdyAuYXd3LW1vZGFsLWZvb3RlciAuYXd3LWlucHV0LWZpZWxkLnNtYWxse2ZvbnQtc2l6ZToxM3B4fSNhd3ctY2hhdC13aW5kb3cgLmF3dy1tb2RhbC1mb290ZXIgLmF3dy1pbnB1dC1maWVsZDpmb2N1c3tvdXRsaW5lOjA7Ym9yZGVyLWNvbG9yOiMzZGM0NzY7YmFja2dyb3VuZC1jb2xvcjojZmVmZWZlfS5hd3ctaW1hZ2V7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowO2N1cnNvcjptb3ZlfS5hd3ctaW1hZ2Uuc2hvd3tkaXNwbGF5OmJsb2NrfS5hd3ctaW1hZ2UgaW1ne2Rpc3BsYXk6YmxvY2s7YmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW59LmF3dy1pbWFnZSAuYXd3LWltYWdlLXNjYWxle3Bvc2l0aW9uOmFic29sdXRlO3RvcDotMnB4O2xlZnQ6LTJweDtoZWlnaHQ6MzRweDt3aWR0aDozNHB4O2N1cnNvcjpud3NlLXJlc2l6ZTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCAwOy1tcy10cmFuc2Zvcm0tb3JpZ2luOjAgMDt0cmFuc2Zvcm0tb3JpZ2luOjAgMDtiYWNrZ3JvdW5kOiMzYmIyNmI7cGFkZGluZzo0cHg7Y29sb3I6I2ZmZn0uYXd3LWltYWdlIC5hd3ctaW1hZ2Utc2NhbGUuc2NhbGUtdG9wLWxlZnR7Ym9yZGVyLXRvcC1jb2xvcjojMDAwO2JvcmRlci1sZWZ0LWNvbG9yOiMwMDB9LmF3dy1pbWFnZSAuYXd3LWltYWdlLXNjYWxlLnNjYWxlLXRvcC1sZWZ0IHN2Z3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoOTBkZWcpOy1tcy10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDkwZGVnKX0uYXd3LWltYWdlIC5hd3ctaW1hZ2Utc2NhbGUuc2NhbGUtdG9wLXJpZ2h0e3JpZ2h0Oi0ycHg7bGVmdDphdXRvO2JvcmRlci10b3AtY29sb3I6IzAwMDtib3JkZXItcmlnaHQtY29sb3I6IzAwMDtjdXJzb3I6bmVzdy1yZXNpemU7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjEwMCUgMDstbXMtdHJhbnNmb3JtLW9yaWdpbjoxMDAlIDA7dHJhbnNmb3JtLW9yaWdpbjoxMDAlIDB9LmF3dy1pbWFnZSAuYXd3LWltYWdlLXNjYWxlLnNjYWxlLWJvdHRvbS1yaWdodHtyaWdodDotMnB4O2JvdHRvbTotMnB4O2xlZnQ6YXV0bzt0b3A6YXV0bztib3JkZXItYm90dG9tLWNvbG9yOiMwMDA7Ym9yZGVyLXJpZ2h0LWNvbG9yOiMwMDA7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOjEwMCUgMTAwJTstbXMtdHJhbnNmb3JtLW9yaWdpbjoxMDAlIDEwMCU7dHJhbnNmb3JtLW9yaWdpbjoxMDAlIDEwMCV9LmF3dy1pbWFnZSAuYXd3LWltYWdlLXNjYWxlLnNjYWxlLWJvdHRvbS1yaWdodCBzdmd7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDkwZGVnKTstbXMtdHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSg5MGRlZyl9LmF3dy1pbWFnZSAuYXd3LWltYWdlLXNjYWxlLnNjYWxlLWJvdHRvbS1sZWZ0e2JvdHRvbTotMnB4O3RvcDphdXRvO2N1cnNvcjpuZXN3LXJlc2l6ZTstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46MCAxMDAlOy1tcy10cmFuc2Zvcm0tb3JpZ2luOjAgMTAwJTt0cmFuc2Zvcm0tb3JpZ2luOjAgMTAwJTtib3JkZXItYm90dG9tLWNvbG9yOiMwMDA7Ym9yZGVyLWxlZnQtY29sb3I6IzAwMH0uYXd3LWltYWdlIC5hd3ctaW1hZ2UtY29udHJvbC13cmFwe3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDtyaWdodDowO2JvdHRvbTowO2JhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVufS5hd3ctaW1hZ2UgLmF3dy1pbWFnZS1yb3RhdGV7cG9zaXRpb246YWJzb2x1dGU7dG9wOi04MHB4O2xlZnQ6LTgwcHg7Y3Vyc29yOmhhbmQ7aGVpZ2h0OjQwcHg7d2lkdGg6NDBweDtiYWNrZ3JvdW5kOiMzYmIyNmI7Ym9yZGVyLXJhZGl1czo1MCU7cGFkZGluZzo4cHg7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOmJvdHRvbSByaWdodDstbXMtdHJhbnNmb3JtLW9yaWdpbjpib3R0b20gcmlnaHQ7dHJhbnNmb3JtLW9yaWdpbjpib3R0b20gcmlnaHR9LmF3dy1pbWFnZSAuYXd3LWltYWdlLXJvdGF0ZS5yb3RhdGUtdG9wLXJpZ2h0e2xlZnQ6YXV0bztyaWdodDotODBweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46Ym90dG9tIGxlZnQ7LW1zLXRyYW5zZm9ybS1vcmlnaW46Ym90dG9tIGxlZnQ7dHJhbnNmb3JtLW9yaWdpbjpib3R0b20gbGVmdH0uYXd3LWltYWdlIC5hd3ctaW1hZ2Utcm90YXRlLnJvdGF0ZS1ib3R0b20tcmlnaHR7bGVmdDphdXRvO3RvcDphdXRvO3JpZ2h0Oi04MHB4O2JvdHRvbTotODBweDstd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7LW1zLXRyYW5zZm9ybS1vcmlnaW46dG9wIGxlZnQ7dHJhbnNmb3JtLW9yaWdpbjp0b3AgbGVmdH0uYXd3LWltYWdlIC5hd3ctaW1hZ2Utcm90YXRlLnJvdGF0ZS1ib3R0b20tbGVmdHt0b3A6YXV0bztib3R0b206LTgwcHg7LXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOnRvcCByaWdodDstbXMtdHJhbnNmb3JtLW9yaWdpbjp0b3AgcmlnaHQ7dHJhbnNmb3JtLW9yaWdpbjp0b3AgcmlnaHR9LmF3dy1pbWFnZS1jYW5jZWwsLmF3dy1pbWFnZS1jbG9zZXtiYWNrZ3JvdW5kLWNvbG9yOiMzZGM0NzY7cG9zaXRpb246YWJzb2x1dGU7dG9wOjUwJTtsZWZ0OjUwJTttYXJnaW4tbGVmdDotMzBweDttYXJnaW4tdG9wOi0zMHB4O2hlaWdodDo2MHB4O3dpZHRoOjYwcHg7cGFkZGluZzoxMHB4O2JvcmRlci1yYWRpdXM6NnB4O2N1cnNvcjpwb2ludGVyO3RleHQtYWxpZ246Y2VudGVyfS5hd3ctaW1hZ2UtY2FuY2VsIHN2ZywuYXd3LWltYWdlLWNsb3NlIHN2Z3tmaWxsOiNmZmY7d2lkdGg6NDBweDtoZWlnaHQ6NDBweH0uYXd3LWltYWdlLWNhbmNlbHtiYWNrZ3JvdW5kLWNvbG9yOiNlZDFjMjQ7d2lkdGg6MzBweDtoZWlnaHQ6MzBweDtwYWRkaW5nOjVweDttYXJnaW4tbGVmdDotMTVweDttYXJnaW4tdG9wOi0xNXB4fS5hd3ctaW1hZ2UtY2FuY2VsIHN2Z3t3aWR0aDoyMHB4O2hlaWdodDoyMHB4fS5sb2FkaW5nLWluZGljYXRvciwubG9hZGluZy1pbmRpY2F0b3Igc3Zne2hlaWdodDo0OHB4O3dpZHRoOjQ4cHh9LmF3dy1pbWFnZS1mb3Jte2hlaWdodDowfS53aW5kb3ctc2l6ZS1oZWxwZXJ7cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDowO2JvcmRlci1yaWdodDoxcHggZGFzaGVkICNkZGQ7Ym9yZGVyLWJvdHRvbToxcHggZGFzaGVkICNkZGR9LmxvYWRpbmctaW5kaWNhdG9ye3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MTBweDt0b3A6MTBweDt6LWluZGV4OjEwMDstd2Via2l0LWFuaW1hdGlvbjphd3dzcGluIDJzIGluZmluaXRlIGxpbmVhcjthbmltYXRpb246YXd3c3BpbiAycyBpbmZpbml0ZSBsaW5lYXJ9LmxvYWRpbmctaW5kaWNhdG9yIHN2ZyBwYXRoe2ZpbGw6cmdiYSgwLDAsMCwuNil9LmxvYWRpbmctaW5kaWNhdG9yIHN2ZyBwYXRoK3BhdGh7ZmlsbDojM2RjNDc2fTo6c2VsZWN0aW9ue2NvbG9yOiNmZmY7YmFja2dyb3VuZDojM2RjNDc2fTo6LW1vei1zZWxlY3Rpb257Y29sb3I6I2ZmZjtiYWNrZ3JvdW5kOiMzZGM0NzZ9LmlzLXBybywudHVybi1pbntwb3NpdGlvbjpyZWxhdGl2ZX0uaXMtcHJvOmFmdGVyLC50dXJuLWluOmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO2JvdHRvbTo0cHg7cmlnaHQ6NHB4O2Rpc3BsYXk6YmxvY2s7Zm9udC1zaXplOjhweDtmb250LXdlaWdodDo3MDA7Y29sb3I6I2ZmZjt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7LW8td2Via2l0LWJvcmRlci1yYWRpdXM6MnB4O2JvcmRlci1yYWRpdXM6MnB4O3BhZGRpbmc6M3B4IDRweH0uaXMtcHJvOmFmdGVye2NvbnRlbnQ6J1Bybyc7YmFja2dyb3VuZC1jb2xvcjojN0QzQkRCfS50dXJuLWluOmFmdGVye2NvbnRlbnQ6J1R1cm4taW4nO2JhY2tncm91bmQtY29sb3I6IzNiYjI2Yn0jYXd3LXRvb2xiYXItd2luZG93e2JhY2tncm91bmQ6IzMzMztoZWlnaHQ6MTAwJTtsZWZ0OjA7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7ei1pbmRleDoxMDA7d2lkdGg6NzZweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvd3t3aWR0aDoxMDAlO2hlaWdodDo1NnB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTkwcHgpey5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvd3t3aWR0aDo1NnB4fX0uaGlkZGVuICNhd3ctdG9vbGJhci13aW5kb3d7ZGlzcGxheTpub25lfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTYwcHgpeyNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5nb29nbGUtY2xhc3Nyb29tLXRvb2xiYXJ7cGFkZGluZzo3cHghaW1wb3J0YW50fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LW1lbnUtaXRlbXtib3JkZXItcmFkaXVzOjZweDstd2Via2l0LXRyYW5zaXRpb246YWxsIC4zczt0cmFuc2l0aW9uOmFsbCAuM3M7d2lkdGg6NjBweDtoZWlnaHQ6NjBweDtjdXJzb3I6cG9pbnRlcjt0ZXh0LWFsaWduOmNlbnRlcjtmbG9hdDpsZWZ0O21hcmdpbjo4cHggOHB4IDA7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzo4cHh9LnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVte3dpZHRoOjQ0cHg7aGVpZ2h0OjQ0cHg7cGFkZGluZzoxMHB4O21hcmdpbjo2cHggMCAwIDZweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVte3dpZHRoOjQ0cHg7aGVpZ2h0OjQ0cHg7cGFkZGluZzoxMHB4O21hcmdpbjo2cHggMCAwIDZweH19I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1tZW51LWl0ZW0uYXd3LXN1Ym1lbnUtaW5kaWNhdG9ye2JhY2tncm91bmQtY29sb3I6I2VlZTtib3gtc2hhZG93OjAgMXB4IDNweCAwICMwMDAsaW5zZXQgMCAtMnB4IDAgMCByZ2JhKDAsMCwwLC4zKX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LW1lbnUtaXRlbS5hd3ctc3VibWVudS1pbmRpY2F0b3Jbc3R5bGUqPSIwLCAwLCAwIl17Ym94LXNoYWRvdzowIDFweCAzcHggMCAjMDAwLGluc2V0IDAgLTJweCAwIDAgcmdiYSgwLDAsMCwuMyksaW5zZXQgMCAtMXB4IDFweCAycHggcmdiYSgyNTUsMjU1LDI1NSwuMzUpfSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVtLmF3dy1tb2RhbC1pbmRpY2F0b3J7cGFkZGluZzoxOHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LW1lbnUtaXRlbS5hd3ctbW9kYWwtaW5kaWNhdG9ye3BhZGRpbmc6MTJweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVtLmF3dy1tb2RhbC1pbmRpY2F0b3J7cGFkZGluZzoxMnB4fX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjMyMHB4KXsjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LW1lbnUtaXRlbXt3aWR0aDo0MHB4IWltcG9ydGFudDttYXJnaW4tbGVmdDo1cHghaW1wb3J0YW50fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVtIHN2Z3t3aWR0aDoyMHB4IWltcG9ydGFudH0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LW1lbnUtaXRlbS5hd3ctbW9kYWwtaW5kaWNhdG9ye3BhZGRpbmc6MTJweCAxMHB4IWltcG9ydGFudH19I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1tZW51LWl0ZW0uYXd3LW1vZGFsLWluZGljYXRvciBzdmd7aGVpZ2h0OjI0cHg7d2lkdGg6MjRweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1tZW51LWl0ZW0uYXd3LW1vZGFsLWluZGljYXRvciBzdmd7d2lkdGg6MjBweDtoZWlnaHQ6MjBweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVtLmF3dy1tb2RhbC1pbmRpY2F0b3Igc3Zne3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHh9fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVtLmF3dy1tb2RhbC1pbmRpY2F0b3Igc3ZnIHBhdGh7ZmlsbDojZWVlfSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVtLmF3dy1tb2RhbC1pbmRpY2F0b3Igc3ZnLnNoYXJle3dpZHRoOjM4cHg7cG9zaXRpb246cmVsYXRpdmU7bGVmdDotMTBweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1tZW51LWl0ZW0uYXd3LW1vZGFsLWluZGljYXRvciBzdmcuc2hhcmV7aGVpZ2h0OjIwcHh9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LW1lbnUtaXRlbS5hd3ctbW9kYWwtaW5kaWNhdG9yIHN2Zy5zaGFyZXtoZWlnaHQ6MjBweH19QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDozMjBweCl7I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1tZW51LWl0ZW0uYXd3LW1vZGFsLWluZGljYXRvciBzdmcuc2hhcmV7d2lkdGg6MzRweCFpbXBvcnRhbnR9fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVtLmF3dy1tb2RhbC1pbmRpY2F0b3Igc3ZnLnNoYXJlICNhZGQgcGF0aHtmaWxsOiMzZGM0NzZ9I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1tZW51LWl0ZW0gc3Zne2hlaWdodDo0NHB4O3dpZHRoOjQ0cHh9LnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVtIHN2Z3t3aWR0aDoyNHB4O2hlaWdodDoyNHB4fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVtIHN2ZyBwYXRoe2ZpbGw6IzNlM2UzZTstd2Via2l0LXRyYW5zaXRpb246ZmlsbCAuMnM7dHJhbnNpdGlvbjpmaWxsIC4yc30jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnV7Ym9yZGVyLXJhZGl1czo2cHg7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDo3NHB4O2JhY2tncm91bmQtY29sb3I6IzMyMzIzMjtib3gtc2hhZG93OjAgMXB4IDNweCAwIHJnYmEoMCwwLDAsLjMpOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDAsMSk7LW1zLXRyYW5zZm9ybTpzY2FsZSgwLDEpO3RyYW5zZm9ybTpzY2FsZSgwLDEpOy13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGNlbnRlcjstbXMtdHJhbnNmb3JtLW9yaWdpbjpsZWZ0IGNlbnRlcjt0cmFuc2Zvcm0tb3JpZ2luOmxlZnQgY2VudGVyO29wYWNpdHk6MDstd2Via2l0LXRyYW5zaXRpb246LXdlYmtpdC10cmFuc2Zvcm0gLjJzO3RyYW5zaXRpb246dHJhbnNmb3JtIC4yc30jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1tZW51LWl0ZW0uc2VsZWN0ZWQsI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctbWVudS1pdGVtOmhvdmVyLCNhd3ctdG9vbGJhci13aW5kb3cuYXd3LW5vdC10b3VjaCAuYXd3LW1lbnUtaXRlbS5hd3ctbW9kYWwtaW5kaWNhdG9yOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzFiMWIxYn0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51e3RvcDo1NnB4O2xlZnQ6MH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctbWVudS1pdGVtIHN2Z3t3aWR0aDoyNHB4O2hlaWdodDoyNHB4fS5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51e2xlZnQ6NTZweH19I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtMSwjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTF7d2lkdGg6NjBweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtMSwucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC0xe3dpZHRoOjQ0cHg7aGVpZ2h0OjQ0cHh9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC0xLC5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC0xe3dpZHRoOjQ0cHh9fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTIsI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC0ye3dpZHRoOjEyMHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC0yLC5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTJ7d2lkdGg6NDRweDtoZWlnaHQ6ODhweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTIsLmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTJ7d2lkdGg6ODhweH19I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtMywjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTN7d2lkdGg6MTgwcHh9LnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTMsLnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5jb2wtM3t3aWR0aDo0NHB4O2hlaWdodDoxMzJweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTMsLmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTN7d2lkdGg6MTMycHh9fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTQsI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC00e3dpZHRoOjI0MHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC00LC5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTR7d2lkdGg6NDRweDtoZWlnaHQ6MTc2cHh9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC00LC5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC00e3dpZHRoOjE3NnB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC01LCNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5jb2wtNXt3aWR0aDozMDBweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtNSwucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC01e3dpZHRoOjQ0cHg7aGVpZ2h0OjIyMHB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTkwcHgpey5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtNSwubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5jb2wtNXt3aWR0aDoyMjBweH19I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtNiwjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTZ7d2lkdGg6MzYwcHh9LnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTYsLnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5jb2wtNnt3aWR0aDo0NHB4O2hlaWdodDoyNjRweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTYsLmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTZ7d2lkdGg6MjY0cHh9fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTcsI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC03e3dpZHRoOjQyMHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC03LC5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTd7d2lkdGg6NDRweDtoZWlnaHQ6MzA4cHh9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC03LC5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC03e3dpZHRoOjMwOHB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC04LCNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5jb2wtOHt3aWR0aDo0ODBweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtOCwucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC04e3dpZHRoOjQ0cHg7aGVpZ2h0OjM1MnB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTkwcHgpey5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtOCwubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5jb2wtOHt3aWR0aDozNTJweH19I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtOSwjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTl7d2lkdGg6NTQwcHh9LnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTksLnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5jb2wtOXt3aWR0aDo0NHB4O2hlaWdodDozOTZweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTksLmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTl7d2lkdGg6Mzk2cHh9fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTEwLCNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5jb2wtMTB7d2lkdGg6NjAwcHh9LnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTEwLC5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTEwe3dpZHRoOjQ0cHg7aGVpZ2h0OjQ0MHB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTkwcHgpey5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtMTAsLmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTEwe3dpZHRoOjQ0MHB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC0xMSwjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUuY29sLTExe3dpZHRoOjY2MHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC0xMSwucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC0xMXt3aWR0aDo0NHB4O2hlaWdodDo0ODRweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LXN1Ym1lbnUtZ3JvdXAuY29sLTExLC5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC0xMXt3aWR0aDo0ODRweH19I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtMTIsI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LmNvbC0xMnt3aWR0aDo3MjBweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cC5jb2wtMTIsLnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5jb2wtMTJ7d2lkdGg6NDRweDtoZWlnaHQ6NTI4cHh9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3VwLmNvbC0xMiwubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5jb2wtMTJ7d2lkdGg6NTI4cHh9fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5yb3ctMXtoZWlnaHQ6NjBweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LnJvdy0xe3dpZHRoOjQ0cHg7aGVpZ2h0OmF1dG99QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTF7aGVpZ2h0OjQ0cHh9fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5yb3ctMntoZWlnaHQ6MTIwcHh9LnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5yb3ctMnt3aWR0aDo4OHB4O2hlaWdodDphdXRvfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTkwcHgpey5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LnJvdy0ye2hlaWdodDo4OHB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTN7aGVpZ2h0OjE4MHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTN7d2lkdGg6MTMycHg7aGVpZ2h0OmF1dG99QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTN7aGVpZ2h0OjEzMnB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTR7aGVpZ2h0OjI0MHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTR7d2lkdGg6MTc2cHg7aGVpZ2h0OmF1dG99QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTR7aGVpZ2h0OjE3NnB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTV7aGVpZ2h0OjMwMHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTV7d2lkdGg6MjIwcHg7aGVpZ2h0OmF1dG99QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTV7aGVpZ2h0OjIyMHB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTZ7aGVpZ2h0OjM2MHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTZ7d2lkdGg6MjY0cHg7aGVpZ2h0OmF1dG99QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTZ7aGVpZ2h0OjI2NHB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTd7aGVpZ2h0OjQyMHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTd7d2lkdGg6MzA4cHg7aGVpZ2h0OmF1dG99QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTd7aGVpZ2h0OjMwOHB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTh7aGVpZ2h0OjQ4MHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTh7d2lkdGg6MzUycHg7aGVpZ2h0OmF1dG99QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTh7aGVpZ2h0OjM1MnB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTl7aGVpZ2h0OjU0MHB4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTl7d2lkdGg6Mzk2cHg7aGVpZ2h0OmF1dG99QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTl7aGVpZ2h0OjM5NnB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTEwe2hlaWdodDo2MDBweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LnJvdy0xMHt3aWR0aDo0NDBweDtoZWlnaHQ6YXV0b31AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5yb3ctMTB7aGVpZ2h0OjQ0MHB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTExe2hlaWdodDo2NjBweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LnJvdy0xMXt3aWR0aDo0ODRweDtoZWlnaHQ6YXV0b31AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5yb3ctMTF7aGVpZ2h0OjQ4NHB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUucm93LTEye2hlaWdodDo3MjBweH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51LnJvdy0xMnt3aWR0aDo1MjhweDtoZWlnaHQ6YXV0b31AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjk5MHB4KXsubGFuZHNjYXBlICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudS5yb3ctMTJ7aGVpZ2h0OjUyOHB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1zdWJtZW51LWdyb3Vwe292ZXJmbG93OmhpZGRlbn0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctc3VibWVudS1ncm91cHtmbG9hdDpsZWZ0fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LW1lbnUtaXRlbXtwYWRkaW5nOjlweDttYXJnaW46MH0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctbWVudS1pdGVte3dpZHRoOjQ0cHg7aGVpZ2h0OjQ0cHg7cGFkZGluZzo2cHh9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo5OTBweCl7LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1tZW51LWl0ZW17d2lkdGg6NDRweDtoZWlnaHQ6NDRweDtwYWRkaW5nOjZweH19I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctbWVudS1pdGVtIHN2ZyBwYXRoe2ZpbGw6I2VlZX0ucG9ydHJhaXQgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctbWVudS1pdGVtIHN2Z3t3aWR0aDozMnB4O2hlaWdodDozMnB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTkwcHgpey5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctbWVudS1pdGVtIHN2Z3t3aWR0aDozMnB4O2hlaWdodDozMnB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1tZW51LWl0ZW0uc2VsZWN0ZWQgc3ZnIHBhdGgsI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1zdWJtZW51IC5hd3ctbWVudS1pdGVtOmhvdmVyIHN2ZyBwYXRoe2ZpbGw6IzNkYzQ3Nn0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXN1Ym1lbnUgLmF3dy1tZW51LWl0ZW0gLmF3dy1jb2xvci1pY29ue2JvcmRlci1yYWRpdXM6NnB4O3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Ym94LXNoYWRvdzowIDFweCAzcHggMCAjMDAwLGluc2V0IDAgLTJweCAwIDAgcmdiYSgwLDAsMCwuMyksaW5zZXQgMCAtMnB4IDAgMCByZ2JhKDI1NSwyNTUsMjU1LC4yNSl9LnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctc3VibWVudSAuYXd3LW1lbnUtaXRlbSAuYXd3LWNvbG9yLWljb257Ym9yZGVyLXJhZGl1czo2cHg7d2lkdGg6MzJweDtoZWlnaHQ6MzJweH0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXNpemVzPmRpdjpmaXJzdC1jaGlsZHtwb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6MTAwJX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXRvb2wtc2l6ZS0wey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC4yKTstbXMtdHJhbnNmb3JtOnNjYWxlKC4yKTt0cmFuc2Zvcm06c2NhbGUoLjIpfSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctdG9vbC1zaXplLTF7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjQpOy1tcy10cmFuc2Zvcm06c2NhbGUoLjQpO3RyYW5zZm9ybTpzY2FsZSguNCl9I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy10b29sLXNpemUtMnstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSguNik7LW1zLXRyYW5zZm9ybTpzY2FsZSguNik7dHJhbnNmb3JtOnNjYWxlKC42KX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXRvb2wtc2l6ZS0zey13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC44KTstbXMtdHJhbnNmb3JtOnNjYWxlKC44KTt0cmFuc2Zvcm06c2NhbGUoLjgpfSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctdG9vbC1zaXplLTR7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7LW1zLXRyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm06c2NhbGUoMSl9I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy1jb2xvcnMgc3ZnIHBhdGh7ZmlsbDojZWVlfSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51LWl0ZW0uYXd3LW1vZGFsLWluZGljYXRvcj5kaXYuYWN0aXZlIHN2ZyBwYXRoLCNhd3ctdG9vbGJhci13aW5kb3cuYXd3LW5vdC10b3VjaCAuYXd3LW1lbnUtaXRlbS5hd3ctbW9kYWwtaW5kaWNhdG9yOmhvdmVyIHN2ZyBwYXRoLCNhd3ctdG9vbGJhci13aW5kb3cuYXd3LW5vdC10b3VjaCAuYXd3LW1lbnUtaXRlbTpob3Zlcj46Zmlyc3QtY2hpbGQgcGF0aHtmaWxsOiMzZGM0NzZ9I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy10b29sc3twYWRkaW5nOjE4cHh9LnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctdG9vbHN7cGFkZGluZzoxMHB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTkwcHgpey5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy10b29sc3twYWRkaW5nOjEwcHh9fSNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctdG9vbHMgc3Zne2hlaWdodDoyNHB4O3dpZHRoOjI0cHh9I2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy10b29scyAuYXd3LW1lbnUtaXRlbXtwYWRkaW5nOjE4cHh9LnBvcnRyYWl0ICNhd3ctdG9vbGJhci13aW5kb3cgLmF3dy1tZW51IC5hd3ctdG9vbHMgLmF3dy1tZW51LWl0ZW17cGFkZGluZzoxM3B4fS5wb3J0cmFpdCAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXRvb2xzIC5hd3ctbWVudS1pdGVtIHN2Z3toZWlnaHQ6MThweDt3aWR0aDoxOHB4fUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6OTkwcHgpey5sYW5kc2NhcGUgI2F3dy10b29sYmFyLXdpbmRvdyAuYXd3LW1lbnUgLmF3dy10b29scyAuYXd3LW1lbnUtaXRlbXtwYWRkaW5nOjEzcHh9LmxhbmRzY2FwZSAjYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LXRvb2xzIC5hd3ctbWVudS1pdGVtIHN2Z3toZWlnaHQ6MThweDt3aWR0aDoxOHB4fX0jYXd3LXRvb2xiYXItd2luZG93IC5hd3ctbWVudSAuYXd3LW1lbnUtb3BlbiAuYXd3LXN1Ym1lbnV7b3BhY2l0eToxOy13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKDEsMSk7LW1zLXRyYW5zZm9ybTpzY2FsZSgxLDEpO3RyYW5zZm9ybTpzY2FsZSgxLDEpfS5hd3ctbXVsdGlwYWdlLW5hdntwb3NpdGlvbjphYnNvbHV0ZTtib3R0b206MjBweDtsZWZ0OjQwJTt6LWluZGV4OjI1NTtiYWNrZ3JvdW5kLWNvbG9yOiNjZmNmY2Y7Ym9yZGVyLXJhZGl1czo3MHB4O2Zsb2F0OmxlZnR9LmN1cnJlbnQsLm5ldywubmV4dCwucHJldmlvdXN7cG9zaXRpb246cmVsYXRpdmU7ZmxvYXQ6bGVmdDt3aWR0aDo0NHB4O2hlaWdodDo0NHB4O3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyfS5uZXcgc3ZnLC5uZXh0IHN2ZywucHJldmlvdXMgc3Zne3Bvc2l0aW9uOnJlbGF0aXZlO3RvcDoxMnB4fS5jdXJyZW50e3dpZHRoOjQ0cHg7cGFkZGluZzowfS5jdXJyZW50IGlucHV0e2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyOjA7d2lkdGg6NDRweDtoZWlnaHQ6NDRweDtmb250LWZhbWlseTpMb3JhLEFyaWFsLHNhbnMtc2VyaWY7Zm9udC1zaXplOjE0cHg7dGV4dC1hbGlnbjpjZW50ZXI7Y29sb3I6I2ZmZjtjdXJzb3I6dGV4dH0uY3VycmVudCBpbnB1dDpmb2N1cywuY3VycmVudCBpbnB1dDpob3Zlcntjb2xvcjojMzMzfUBtZWRpYSBwcmludHsjYXd3LWNvbnRhaW5lcnt0b3A6MCFpbXBvcnRhbnQ7cmlnaHQ6MCFpbXBvcnRhbnQ7Ym90dG9tOjAhaW1wb3J0YW50O2xlZnQ6MCFpbXBvcnRhbnR9I2F3dy10b29sYmFyLXdpbmRvd3tkaXNwbGF5Om5vbmUhaW1wb3J0YW50fX0=","base64"),b=window.AwwBoard=function(t,e){if(e=e||{},r("AwwBoard initiating ..."),g(v),"string"==typeof t&&(t=document.querySelector(t)),!t)throw new Error("No element for AWW widget found");
"static"===window.getComputedStyle(t).position&&(t.style.position="relative");var b=i("#aww-container.aww-container");t.appendChild(b),e=n.defaults({},e,{apiKey:"",toolbar:!0,orientation:"auto",shrinkCanvas:!0,autoJoin:!0,boardLink:void 0,singleBoardId:void 0,inactiveTtl:7200,inviteViaQr:!1,multiPage:!1,enableClassroom:!1,translation:{},toolbarEl:"",chatEl:"",customOps:{},prettyLinks:null,menuItems:{},menuOrder:s.TOP_MENU.concat(Object.keys(e.menuItems||{})),colors:s.COLORS,tools:s.TOOLS,sizes:s.SIZES,fontSizes:s.FONT_SIZES,defaultSize:s.DEFAULT_SIZE,defaultColor:s.DEFAULT_COLOR,defaultTool:s.DEFAULT_TOOL,defaultFontFamily:s.FONT_FAMILY,backgroundColor:s.BACKGROUND_COLOR,minBoardSize:s.MIN_BOARD_SIZE,maxBoardSize:s.MAX_BOARD_SIZE,boardResize:s.BOARD_RESIZE}),r("setting apiKey cookie");var y=new o,w=c(y,e),x={el:t,canvasContainer:b,options:e,dispatcher:y,socketEmitter:w};x.utils=m(x),x.board=a(x),x.canvas=d(x),x.widgets=l(x),x.chatUi=h(x),x.toolbarUi=p(x),x.p2p=f(x),x.api=u(x);var W=e.boardLink||e.boardLinkGetter&&e.boardLinkGetter()||x.utils.getBoardLink();return e.apiKey&&W&&e.autoJoin&&(r("got board link:",W),r("starting socket connection ..."),y.emit("socket-init",{autojoin:e.autoJoin,boardLink:W})),x.api};b.defaultOps={lineOp:t("./op/line-op.js"),imageOp:t("./op/image-op.js"),textOp:t("./op/text-op.js")}}).call(this,t("buffer").Buffer)},{"../../common/config":1,"./board":3,"./canvas":4,"./lodash.custom":6,"./op/image-op.js":10,"./op/line-op.js":12,"./op/text-op.js":21,"./p2p-rtc":23,"./socket":24,"./ui/chat":25,"./ui/toolbar":27,"./user-api":28,"./utils/dispatcher":29,"./utils/utils":30,"./widgets":31,buffer:41,debug:53,hyperscript:62,"insert-css":65,"polyfill-function-prototype-bind":69}],6:[function(t,e,n){(function(t){"use strict";(function(){function r(t,e,n){if(e!==e)return a(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function i(t){return"string"==typeof t?t:null==t?"":t+""}function o(t){return t.charCodeAt(0)}function a(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function s(t){return t&&"object"==typeof t||!1}function c(){}function u(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function l(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function d(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function h(t,e){for(var n=-1,r=t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t){for(var e=-1,n=t.length,r=Zn;++e<n;){var i=t[e];i>r&&(r=i)}return r}function f(t){for(var e=-1,n=t.length,r=jn;++e<n;){var i=t[e];r>i&&(r=i)}return r}function m(t,e){return"undefined"==typeof t?e:t}function g(t,e,n){var r=zn(e);if(!n)return v(e,t,r);for(var i=-1,o=r.length;++i<o;){var a=r[i],s=t[a],c=n(s,e[a],a,t,e);(c===c?c===s:s!==s)&&("undefined"!=typeof s||a in t)||(t[a]=c)}return t}function v(t,e,n){n||(n=e,e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}function b(t,e,n){var r=typeof t;return"function"==r?"undefined"!=typeof e&&J(t)?G(t,e,n):t:null==t?We:"object"==r?Y(t):"undefined"==typeof e?j(t+""):Z(t+"",e)}function y(t,e,n,r,i,o,a){var s;if(n&&(s=i?n(t,r,i):n(t)),"undefined"!=typeof s)return s;if(!de(t))return t;var c=Hn(t);if(c){if(s=B(t),!e)return u(t,s)}else{var d=mn.call(t),h=d==Re;if(d!=Ae&&d!=Ie&&(!h||i))return rn[d]?V(t,d,e):i?t:{};if(s=P(h?{}:t),!e)return v(t,s,zn(t))}o||(o=[]),a||(a=[]);for(var p=o.length;p--;)if(o[p]==t)return a[p];return o.push(t),a.push(s),(c?l:_)(t,function(r,i){s[i]=y(r,e,n,i,t,o,a)}),s}function w(t,e){var n=t?t.length:0;if(!q(n))return _(t,e);for(var r=-1,i=ee(t);++r<n&&e(i[r],r,i)!==!1;);return t}function x(t,e){var n=[];return w(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function W(t,e,n){for(var r=-1,i=ee(t),o=n(t),a=o.length;++r<a;){var s=o[r];if(e(i[s],s,i)===!1)break}return t}function _(t,e){return W(t,e,zn)}function L(t,e,n,r,i,o){if(t===e)return 0!==t||1/t==1/e;var a=typeof t,s=typeof e;return"function"!=a&&"object"!=a&&"function"!=s&&"object"!=s||null==t||null==e?t!==t&&e!==e:C(t,e,L,n,r,i,o)}function C(t,e,n,r,i,o,a){var s=Hn(t),c=Hn(e),u=Ye,l=Ye;s||(u=mn.call(t),u==Ie?u=Ae:u!=Ae&&(s=fe(t))),c||(l=mn.call(e),l==Ie?l=Ae:l!=Ae&&(c=fe(e)));var d=u==Ae,h=l==Ae,p=u==l;if(p&&!s&&!d)return T(t,e,u);var f=d&&fn.call(t,"__wrapped__"),m=h&&fn.call(e,"__wrapped__");if(f||m)return n(f?t.value():t,m?e.value():e,r,i,o,a);if(!p)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g]==e;o.push(t),a.push(e);var v=(s?M:H)(t,e,n,r,i,o,a);return o.pop(),a.pop(),v}function X(t,e,n,r,i){var o=e.length;if(null==t)return!o;for(var a=-1,s=!i;++a<o;)if(s&&r[a]?n[a]!==t[e[a]]:!fn.call(t,e[a]))return!1;for(a=-1;++a<o;){var c=e[a];if(s&&r[a])var u=fn.call(t,c);else{var l=t[c],d=n[a];u=i?i(l,d,c):Le,"undefined"==typeof u&&(u=L(d,l,i,!0))}if(!u)return!1}return!0}function I(t,e){var n=[];return w(t,function(t,r,i){n.push(e(t,r,i))}),n}function Y(t){var e=zn(t),n=e.length;if(1==n){var r=e[0],i=t[r];if(K(i))return function(t){return null!=t&&t[r]===i&&fn.call(t,r)}}for(var o=Array(n),a=Array(n);n--;)i=t[e[n]],o[n]=i,a[n]=K(i);return function(t){return X(t,e,o,a)}}function Z(t,e){return K(e)?function(n){return null!=n&&n[t]===e}:function(n){return null!=n&&L(e,n[t],null,!0)}}function j(t){return function(e){return null==e?Le:e[t]}}function F(t,e){for(var n=-1,r=e.length,i=Array(r);++n<r;)i[n]=t[e[n]];return i}function R(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&kn>=i){for(;i>r;){var o=r+i>>>1,a=t[o];(n?e>=a:e>a)?r=o+1:i=o}return i}return k(t,e,We,n)}function k(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s="undefined"==typeof e;o>i;){var c=yn((i+o)/2),u=n(t[c]),l=u===u;if(a)var d=l||r;else d=s?l&&(r||"undefined"!=typeof u):r?e>=u:e>u;d?i=c+1:o=c}return In(o,Rn)}function G(t,e,n){if("function"!=typeof t)return We;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function A(t){return bn.call(t,0)}function O(t,e){return function(n,r,i){var o=e?e():{};if(r=z(r,i,3),Hn(n))for(var a=-1,s=n.length;++a<s;){var c=n[a];t(o,c,r(c,a,n),n)}else w(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function N(t){return function(){var e=arguments,n=e.length,r=e[0];if(2>n||null==r)return r;var i=e[n-2],o=e[n-1],a=e[3];n>3&&"function"==typeof i?(i=G(i,o,5),n-=2):(i=n>2&&"function"==typeof o?o:null,n-=i?1:0),a&&Q(e[1],e[2],a)&&(i=3==n?null:i,n=2);for(var s=0;++s<n;){var c=e[s];c&&t(r,c,i)}return r}}function S(t,e){return function(n,r,i){i&&Q(n,r,i)&&(r=null);var a=z(),s=null==r;if(a===b&&s||(s=!1,r=a(r,i,3)),s){var c=Hn(n);if(c||!pe(n))return t(c?n:te(n));r=o}return E(n,r,e)}}function M(t,e,n,r,i,o,a){var s=-1,c=t.length,u=e.length,l=!0;if(c!=u&&(!i||c>=u))return!1;for(;l&&++s<c;){var d=t[s],h=e[s];if(l=Le,r&&(l=i?r(h,d,s):r(d,h,s)),"undefined"==typeof l)if(i)for(var p=u;p--&&(h=e[p],!(l=d&&d===h||n(d,h,r,i,o,a))););else l=d&&d===h||n(d,h,r,i,o,a)}return!!l}function T(t,e,n){switch(n){case Ze:case je:return+t==+e;case Fe:return t.name==e.name&&t.message==e.message;case Ge:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case Oe:case Se:return t==e+""}return!1}function H(t,e,n,r,i,o,a){var s=zn(t),c=s.length,u=zn(e),l=u.length;if(c!=l&&!i)return!1;for(var d,h=-1;++h<c;){var p=s[h],f=fn.call(e,p);if(f){var m=t[p],g=e[p];f=Le,r&&(f=i?r(g,m,p):r(m,g,p)),"undefined"==typeof f&&(f=m&&m===g||n(m,g,r,i,o,a))}if(!f)return!1;d||(d="constructor"==p)}if(!d){var v=t.constructor,b=e.constructor;if(v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b))return!1}return!0}function E(t,e,n){var r=n?jn:Zn,i=r,o=i;return w(t,function(t,a,s){var c=e(t,a,s);((n?i>c:c>i)||c===r&&c===o)&&(i=c,o=t)}),o}function z(t,e,n){var r=c.callback||we;return r=r===we?b:r,n?r(t,e,n):r}function D(t,e,n){var i=c.indexOf||re;return i=i===re?r:i,t?i(t,e,n):i}function B(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&fn.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function P(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Object),new e}function V(t,e,n){var r=t.constructor;switch(e){case Te:return A(t);case Ze:case je:return new r(+t);case He:case Ee:case ze:case De:case Be:case Pe:case Ve:case Je:case Ue:var i=t.buffer;return new r(n?A(i):i,t.byteOffset,t.length);case Ge:case Se:return new r(t);case Oe:var o=new r(t.source,Qe.exec(t));o.lastIndex=t.lastIndex}return o}function J(t){var e=c.support,n=!(e.funcNames?t.name:e.funcDecomp);if(!n){var r=pn.call(t);e.funcNames||(n=!qe.test(r)),n||(n=en.test(r)||he(t),Sn(t,n))}return n}function U(t,e){return t=+t,e=null==e?An:e,t>-1&&t%1==0&&e>t}function Q(t,e,n){if(!de(n))return!1;var r=typeof e;if("number"==r)var i=n.length,o=q(i)&&U(e,i);else o="string"==r&&e in n;if(o){var a=n[e];return t===t?t===a:a!==a}return!1}function q(t){return"number"==typeof t&&t>-1&&t%1==0&&An>=t}function K(t){return t===t&&(0===t?1/t>0:!de(t))}function $(t){for(var e=ge(t),n=e.length,r=n&&t.length,i=c.support,o=r&&q(r)&&(Hn(t)||i.nonEnumArgs&&le(t)),a=-1,s=[];++a<n;){var u=e[a];(o&&U(u,r)||fn.call(t,u))&&s.push(u)}return s}function te(t){return null==t?[]:q(t.length)?de(t)?t:Object(t):be(t)}function ee(t){return de(t)?t:Object(t)}function ne(t,e,n){var r=t?t.length:0;for(e=z(e,n,3);r--;)if(e(t[r],r,t))return r;return-1}function re(t,e,n){var i=t?t.length:0;if(!i)return-1;if("number"==typeof n)n=0>n?Xn(i+n,0):n;else if(n){var o=R(t,e),a=t[o];return(e===e?e===a:a!==a)?o:-1}return r(t,e,n||0)}function ie(t){var e=t?t.length:0;return e?t[e-1]:Le}function oe(t,e,n){var r=Hn(t)?d:x;return e=z(e,n,3),r(t,e)}function ae(t,e,n){return"function"==typeof e&&"undefined"==typeof n&&Hn(t)?l(t,e):w(t,G(e,n,3))}function se(t,e,n){var r=t?t.length:0;return q(r)||(t=be(t),r=t.length),r?(n="number"==typeof n?0>n?Xn(r+n,0):n||0:0,"string"==typeof t||!Hn(t)&&pe(t)?r>n&&t.indexOf(e,n)>-1:D(t,e,n)>-1):!1}function ce(t,e,n){var r=Hn(t)?h:I;return e=z(e,n,3),r(t,e)}function ue(t,e,n){function r(){h&&clearTimeout(h),c&&clearTimeout(c),c=h=p=Le}function i(){var n=e-(Tn()-l);if(0>=n||n>e){c&&clearTimeout(c);var r=p;c=h=p=Le,r&&(f=Tn(),u=t.apply(d,s),h||c||(s=d=null))}else h=setTimeout(i,n)}function o(){h&&clearTimeout(h),c=h=p=Le,(g||m!==e)&&(f=Tn(),u=t.apply(d,s),h||c||(s=d=null))}function a(){if(s=arguments,l=Tn(),d=this,p=g&&(h||!v),m===!1)var n=v&&!h;else{c||v||(f=l);var r=m-(l-f),a=0>=r||r>m;a?(c&&(c=clearTimeout(c)),f=l,u=t.apply(d,s)):c||(c=setTimeout(o,r))}return a&&h?h=clearTimeout(h):h||e===m||(h=setTimeout(i,e)),n&&(a=!0,u=t.apply(d,s)),!a||h||c||(s=d=null),u}var s,c,u,l,d,h,p,f=0,m=!1,g=!0;if("function"!=typeof t)throw new TypeError(Xe);if(e=0>e?0:+e||0,n===!0){var v=!0;g=!1}else de(n)&&(v=n.leading,m="maxWait"in n&&Xn(+n.maxWait||0,e),g="trailing"in n?n.trailing:g);return a.cancel=r,a}function le(t){var e=s(t)?t.length:Le;return q(e)&&mn.call(t)==Ie||!1}function de(t){var e=typeof t;return"function"==e||t&&"object"==e||!1}function he(t){return null==t?!1:mn.call(t)==Re?gn.test(pn.call(t)):s(t)&&Ke.test(t)||!1}function pe(t){return"string"==typeof t||s(t)&&mn.call(t)==Se||!1}function fe(t){return s(t)&&q(t.length)&&nn[mn.call(t)]||!1}function me(t){if(null==t)return t;var e=u(arguments);return e.push(m),En.apply(Le,e)}function ge(t){if(null==t)return[];de(t)||(t=Object(t));var e=t.length;e=e&&q(e)&&(Hn(t)||Nn.nonEnumArgs&&le(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=Array(e),a=e>0;++r<e;)o[r]=r+"";for(var s in t)a&&U(s,e)||"constructor"==s&&(i||!fn.call(t,s))||o.push(s);return o}function ve(t,e,n){var r={};return e=z(e,n,3),_(t,function(t,n,i){r[n]=e(t,n,i)}),r}function be(t){return F(t,zn(t))}function ye(t){return t=i(t),t&&tn.test(t)?t.replace($e,"\\$&"):t}function we(t,e,n){return n&&Q(t,e,n)&&(e=null),s(t)?_e(t):b(t,e)}function xe(t){return function(){return t}}function We(t){return t}function _e(t){return Y(y(t,!0))}var Le,Ce="3.5.0",Xe="Expected a function",Ie="[object Arguments]",Ye="[object Array]",Ze="[object Boolean]",je="[object Date]",Fe="[object Error]",Re="[object Function]",ke="[object Map]",Ge="[object Number]",Ae="[object Object]",Oe="[object RegExp]",Ne="[object Set]",Se="[object String]",Me="[object WeakMap]",Te="[object ArrayBuffer]",He="[object Float32Array]",Ee="[object Float64Array]",ze="[object Int8Array]",De="[object Int16Array]",Be="[object Int32Array]",Pe="[object Uint8Array]",Ve="[object Uint8ClampedArray]",Je="[object Uint16Array]",Ue="[object Uint32Array]",Qe=/\w*$/,qe=/^\s*function[ \n\r\t]+\w/,Ke=/^\[object .+?Constructor\]$/,$e=/[.*+?^${}()|[\]\/\\]/g,tn=RegExp($e.source),en=/\bthis\b/,nn={};nn[He]=nn[Ee]=nn[ze]=nn[De]=nn[Be]=nn[Pe]=nn[Ve]=nn[Je]=nn[Ue]=!0,nn[Ie]=nn[Ye]=nn[Te]=nn[Ze]=nn[je]=nn[Fe]=nn[Re]=nn[ke]=nn[Ge]=nn[Ae]=nn[Oe]=nn[Ne]=nn[Se]=nn[Me]=!1;var rn={};rn[Ie]=rn[Ye]=rn[Te]=rn[Ze]=rn[je]=rn[He]=rn[Ee]=rn[ze]=rn[De]=rn[Be]=rn[Ge]=rn[Ae]=rn[Oe]=rn[Se]=rn[Pe]=rn[Ve]=rn[Je]=rn[Ue]=!0,rn[Fe]=rn[Re]=rn[ke]=rn[Ne]=rn[Me]=!1;var on={"function":!0,object:!0},an=on[typeof n]&&n&&!n.nodeType&&n,sn=on[typeof e]&&e&&!e.nodeType&&e,cn=an&&sn&&"object"==typeof t&&t,un=on[typeof window]&&window,ln=sn&&sn.exports===an&&an,dn=cn||un!==(this&&this.window)&&un||this,hn=Object.prototype,pn=Function.prototype.toString,fn=hn.hasOwnProperty,mn=hn.toString,gn=RegExp("^"+ye(mn).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vn=he(vn=dn.ArrayBuffer)&&vn,bn=he(bn=vn&&new vn(0).slice)&&bn,yn=Math.floor,wn=hn.propertyIsEnumerable,xn=he(xn=dn.Uint8Array)&&xn,Wn=he(Wn=dn.WeakMap)&&Wn,_n=function(){try{var t=he(t=dn.Float64Array)&&t,e=new t(new vn(10),0,1)&&t}catch(n){}return e}(),Ln=he(Ln=Array.isArray)&&Ln,Cn=he(Cn=Object.keys)&&Cn,Xn=Math.max,In=Math.min,Yn=he(Yn=Date.now)&&Yn,Zn=Number.NEGATIVE_INFINITY,jn=Number.POSITIVE_INFINITY,Fn=Math.pow(2,32)-1,Rn=Fn-1,kn=Fn>>>1,Gn=_n?_n.BYTES_PER_ELEMENT:0,An=Math.pow(2,53)-1,On=Wn&&new Wn,Nn=c.support={};!function(){Nn.funcDecomp=!he(dn.WinRTError)&&en.test(function(){return this}),Nn.funcNames="string"==typeof Function.name;try{Nn.nonEnumArgs=!wn.call(arguments,1)}catch(t){Nn.nonEnumArgs=!0}}(0,0);var Sn=On?function(t,e){return On.set(t,e),t}:We;bn||(A=vn&&xn?function(t){var e=t.byteLength,n=_n?yn(e/Gn):0,r=n*Gn,i=new vn(e);if(n){var o=new _n(i,0,n);o.set(new _n(t,0,n))}return e!=r&&(o=new xn(i,r),o.set(new xn(t,r))),i}:xe(null));var Mn=O(function(t,e,n){t[n]=e}),Tn=Yn||function(){return(new Date).getTime()},Hn=Ln||function(t){return s(t)&&q(t.length)&&mn.call(t)==Ye||!1},En=N(g),zn=Cn?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&q(n)?$(t):de(t)?Cn(t):[]}:$,Dn=S(p),Bn=S(f,!0);c.assign=En,c.callback=we,c.constant=xe,c.debounce=ue,c.defaults=me,c.filter=oe,c.forEach=ae,c.indexBy=Mn,c.keys=zn,c.keysIn=ge,c.map=ce,c.mapValues=ve,c.matches=_e,c.values=be,c.collect=ce,c.each=ae,c.extend=En,c.iteratee=we,c.select=oe,c.escapeRegExp=ye,c.findLastIndex=ne,c.identity=We,c.includes=se,c.indexOf=re,c.isArguments=le,c.isArray=Hn,c.isNative=he,c.isObject=de,c.isString=pe,c.isTypedArray=fe,c.last=ie,c.max=Dn,c.min=Bn,c.now=Tn,c.contains=se,c.include=se,c.VERSION=Ce,"function"==typeof define&&"object"==typeof define.amd&&define.amd?(dn._=c,define(function(){return c})):an&&sn?ln?(sn.exports=c)._=c:an._=c:dn._=c}).call(void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e){"use strict";var n,r,i,o,a=t("svg.js");e.exports={op:"ellipse",init:function(){this.points=[],n=this.draw.scaleIndex,void 0===i&&(this.dispatcher.on("started-panning",this.startedPanning),this.dispatcher.on("stopped-panning",this.stoppedPanning)),o=this,r=!1,i=!0},onPenDown:function(t){this.points=[t.normalizedPoint],this.pg=this.board.currentPage()},onPenUp:function(t){if(!r&&"mouseout"!==t.type&&0!==this.points.length){var e,i,o,a,s,c,u,l;t.preventDefault(),e=this.points[0],i=t.normalizedPoint,this.points.length<2&&e[0]!==i[0]&&e[1]!==i[1]&&this.points.push(i),2===this.points.length&&(i=this.points[1],o=Math.abs(e[0]-i[0]),a=Math.abs(e[1]-i[1]),s=this.wrapperToCanvasCoords([Math.min(e[0],i[0])+o/2,Math.min(e[1],i[1])+a/2]),c=this.draw.roundToDecPoints(Math.max(o,a)/2*n()),u=o>a?[1,a/o]:[o/a,1],l={op:"ellipse",pg:this.pg,x:s[0],y:s[1],r:c,scale:u,color:this.opState.color(),size:this.opState.size(),filled:this.filled},this.drawingOperations.doOp(l),this.save(l),this.points=[],this.hideHelper())}},onPenMove:function(t){return r?void 0:(t.preventDefault(),1===this.points.length?this.showHelper(this.points[0],t.normalizedPoint):void 0)},startedPanning:function(){i&&(r=!0,o.hideHelper(),this.points=[])},stoppedPanning:function(){i&&(r=!1)},showHelper:function(t,e){{var n,r,i,o,s;this.container.querySelector("canvas")}this.helper||(n=a(this.container),n.addClass("aww-drawing-helper"),this.helper=n.ellipse(0,0)),r=t[0]<e[0]?t[0]:e[0],i=t[1]<e[1]?t[1]:e[1],o=Math.abs(t[0]-e[0]),s=Math.abs(t[1]-e[1]),r=this.canvasToWrapperCoords([r,i])[0],i=this.canvasToWrapperCoords([r,i])[1],this.helper.x(r).y(i).width(o).height(s)},hideHelper:function(){var t=this.container.querySelector("svg");t&&(this.container.removeChild(this.container.querySelector("svg")),this.helper=null)},cancel:function(){this.hideHelper()},disableDispatchers:function(){i=!1}}},{"svg.js":76}],8:[function(t,e){"use strict";var n,r,i,o=t("svg.js");e.exports={op:"eraseArea",init:function(){void 0===r&&(this.dispatcher.on("started-panning",this.startedPanning),this.dispatcher.on("stopped-panning",this.stoppedPanning)),i=this,n=!1,r=!0},onPenDown:function(t){this.points=[],this.lastPoint=t.normalizedPoint,this.points=[t.normalizedPoint],this.pg=this.board.currentPage()},onPenUp:function(t){if(!n&&"mouseout"!==t.type&&0!==this.points.length){var e;this.points.push(t.normalizedPoint);for(var r=0;r<this.points.length;r++)this.points[r]=this.wrapperToCanvasCoords(this.points[r]);this.points.length>2&&(e={op:"eraseArea",points:this.points,pg:this.pg},this.save(e),this.drawingOperations.doOp(e),this.hideHelper())}},onPenMove:function(t){if(t.isPenDown&&!n){var e;t.preventDefault(),e=t.normalizedPoint,this.points.push(e),this.points.length>2&&this.showHelper()}},startedPanning:function(){r&&(n=!0,this.points=[],i.hideHelper())},stoppedPanning:function(){r&&(n=!1)},showHelper:function(){var t,e=[];this.helper||(t=o(this.container),t.addClass("aww-drawing-helper"),this.helper=t.polygon("0,0"));for(var n=0;n<this.points.length;n++)e.push(this.canvasToWrapperCoords(this.points[n]));this.helper.plot(e)},hideHelper:function(){var t=this.container.querySelector("svg");t&&(t&&t.remove(),this.helper=null)},cancel:function(){this.hideHelper()},disableDispatchers:function(){r=!1}}},{"svg.js":76}],9:[function(t,e){"use strict";e.exports={op:"gotoPage",oneTime:!0,init:function(){var t=void 0===arguments[0]?{}:arguments[0];this.save({op:"gotoPage",pg:t.pg}),this.dispatcher.emit("goto-page",t.pg)},stateless:!0,onReceive:function(t,e,n){n.emit("goto-page",t.pg)}}},{}],10:[function(t,e){"use strict";var n=t("hyperscript"),r=t("image-loaded"),i=t("./spinnable"),o=t("debug")("awwapp:image-op");e.exports={op:"image",stateless:!0,init:function(){var t=void 0===arguments[0]?{}:arguments[0];t.src?this.showImageEditor(t):(o("Opening image dialog"),this.openImageSelector())},openImageSelector:function(){var t=this,e=this.container.querySelector("input")||n("input",{type:"file",accept:"image/*",onclick:function(){e.style.display="none"},onchange:function(n){t.container.removeChild(e),t.onImageSelected(n),n.preventDefault(),n.stopPropagation()}});this.container.appendChild(e),e.setAttribute("accept","image/*"),e.click(),this.input=e},onClick:function(){this.pg=this.board.currentPage();var t=this.container.querySelector("input");t&&t.click()},onImageSelected:function(t){var e=this,n=t.target.files[0].name;if(!n.match(/\.(gif|jpe?g|png)$/gi))throw new Error("File type not supported");var r=new FileReader;r.addEventListener("load",function(t){e.showImageEditor({src:t.target.result})}),r.readAsDataURL(t.target.files[0])},showImageEditor:function(t){function e(t){var e=document.createElement("a");return e.href=t,e.host}function i(t){return"data:"===t.substr(0,5)}var a=this;o("Opening image editor with url",t.src);var s=this.container,c=t.src,u=window.location.host,l=n("img");i(c)||e(c)===u||(o("Making a cross-origin image request to: "+e(c)),l.crossOrigin="anonymous"),l.src=t.src,o("Waiting for image to read/load"),r(l,function(){return a.onImageRead(s,l)})},onImageRead:function(t,e){var n=this;o("image in editor loaded"),this.penState={},this.spinnable=i(t,e,function(t,e,r,i,a){o("image editor is done, drawing image");var s=n.wrapperToCanvasCoords([e-n.canvasOffset.x,r-n.canvasOffset.y]),c=n.wrapperToCanvasCoords([i,a]),u={op:"image",pg:n.pg,src:t,left:s[0],top:s[1],w:c[0],h:c[1]};n.uploadImage(u)})},cancel:function(){this.spinnable&&this.spinnable.cancel(),this.input&&(this.container.removeChild(this.input),delete this.input)},uploadImage:function(t){var e=this;return o("uploading image"),t.src?void this.imageUpload(t.src,"png",function(n,r){if(n)throw n;o("image upload complete, adding it to push queue"),t.src=r,e.drawingOperations.doOp(t),e.save(t),e.isActive=!1}):this.save({})}}},{"./spinnable":20,debug:53,hyperscript:62,"image-loaded":64}],11:[function(t,e){"use strict";var n=t("../lodash.custom"),r=t("debug")("awwapp:op"),i=t("./text-op"),o=t("./image-op"),a=t("./presentation-op"),s=t("./line-op"),c=t("./line-straight-op"),u=t("./rectangle-op"),l=t("./ellipse-op"),d=t("./marker-op"),h=t("./select-op"),p=t("./window-size"),f=t("./mark-op"),m=t("./erase-area-op"),g=t("./goto-page-op"),v=t("./pan-op"),b=t("../../../common/config"),y=function(){},w={init:y,onPenMove:y,onPenDown:y,onPenUp:y,onClick:y,reset:y,onReceive:function(t,e){return e.drawingOperations.doOp(t)},cancel:y},x={line:s,lineStraight:c,rectangle:u,rectangleFilled:n.defaults({filled:!0},u),ellipse:l,ellipseFilled:n.defaults({filled:!0},l),pencil:n.defaults({toolOpacity:1,toolMultiple:1},d),marker:n.defaults({toolOpacity:b.MARKER_OPACITY,toolMultiple:b.MARKER_SIZE_MULTIPLE},d),eraser:n.defaults({eraser:!0,toolOpacity:1,toolMultiple:b.ERASER_SIZE_MULTIPLE},s),eraserArea:m,select:h,text:i,postit:n.defaults({isPostit:!0},i),image:o,presentation:a,mark:f,window:p,gotoPage:g,pan:v};e.exports=function(t,e){var i,o=e.board,a=e.dispatcher,s=e.options,c=e.utils,u=n.extend({},s.customOps,x);return{initOp:function(e){var s=void 0===arguments[1]?{}:arguments[1];r("debug","Init new operation",e);var l=u[e];if(!l)throw new Error("No operation registered with name: "+e);var d=n.extend({},l,{board:o,draw:t.draw,renderDraw:t.renderDraw,drawingOperations:t.drawingOperations,dispatcher:a,imageUpload:c.s3upload,isLoading:c.isLoading,container:t.container,opState:t.operationState,canvasToWrapperCoords:t.canvasToWrapperCoords,wrapperToCanvasCoords:t.wrapperToCanvasCoords,pageOps:t.pageOps,allOps:t.allOps,canvasBoundaries:t.boundaries,canvasOffset:t.canvasOffset,canvas:t.canvas,save:function(t){t.op&&(void 0===t.pg&&(t.pg=this.pg),a.emit("queue-op",t)),i!==e&&e&&!this.stateless&&(i=e)}});return n.defaults(d,w),d.init(s),i||(i=e),d},handleRemoteOp:function(e){var n=u[e.op];n&&"function"==typeof n.onReceive?n.onReceive(e,t,a,t.draw.scaleIndex()):t.drawingOperations.doOp(e)}}}},{"../../../common/config":1,"../lodash.custom":6,"./ellipse-op":7,"./erase-area-op":8,"./goto-page-op":9,"./image-op":10,"./line-op":12,"./line-straight-op":13,"./mark-op":14,"./marker-op":15,"./pan-op":16,"./presentation-op":17,"./rectangle-op":18,"./select-op":19,"./text-op":21,"./window-size":22,debug:53}],12:[function(t,e){"use strict";var n,r,i,o;e.exports={op:"line",init:function(){n=this.toolMultiple,r=this.draw.scaleIndex,void 0===o&&(this.dispatcher.on("started-panning",this.startedPanning),this.dispatcher.on("stopped-panning",this.stoppedPanning)),i=!1,o=!0},onPenDown:function(t){this.pg=this.board.currentPage(),this.lastPoint=this.wrapperToCanvasCoords(t.normalizedPoint),this.points=[this.lastPoint]},onPenUp:function(t){i||"mouseout"===t.type||0===this.points.length||(t.preventDefault(),1===this.points.length?this.drawingOperations.drawCircle(this.lastPoint,{color:this.opState.color(),size:this.draw.roundToDecPoints(this.opState.size()*n*r()),eraser:this.eraser}):this.points.push(this.wrapperToCanvasCoords(t.normalizedPoint)),this.save({op:"line",pg:this.pg,points:this.points,color:this.opState.color(),size:Math.round(this.opState.size()*n*r()),eraser:this.eraser}),this.points=[])},onPenMove:function(t){if(t.isPenDown&&!i){t.preventDefault();var e=this.wrapperToCanvasCoords(t.normalizedPoint);this.lastPoint=this.drawingOperations.drawLine(this.lastPoint,e,{color:this.opState.color(),size:Math.round(this.opState.size()*n*r()),eraser:this.eraser}),this.points.push(e)}},startedPanning:function(){o&&(i=!0,this.points=[])},stoppedPanning:function(){o&&(i=!1)},disableDispatchers:function(){o=!1}}},{}],13:[function(t,e){"use strict";var n,r,i,o,a=t("svg.js");e.exports={op:"lineStraight",init:function(){this.points=[],n=this.draw.scaleIndex,void 0===i&&(this.dispatcher.on("started-panning",this.startedPanning),this.dispatcher.on("stopped-panning",this.stoppedPanning)),o=this,r=!1,i=!0},onPenDown:function(t){this.points=[t.normalizedPoint]},onPenUp:function(t){if(!r&&"mouseout"!==t.type&&0!==this.points.length){var e,i,o;t.preventDefault(),e=this.points[0],i=t.normalizedPoint,this.points.length<2&&e[0]!==i[0]&&e[1]!==i[1]&&this.points.push(i),2===this.points.length&&(i=this.points[1],e=this.wrapperToCanvasCoords(e),i=this.wrapperToCanvasCoords(i),o={op:"lineStraight",points:[e,i],color:this.opState.color(),size:this.draw.roundToDecPoints(this.opState.size()*n())},this.drawingOperations.doOp(o),this.save(o),this.points=[],this.hideHelper())}},onPenMove:function(t){return t.isPenDown&&!r?(t.preventDefault(),1===this.points.length?this.showHelper(this.points[0],t.normalizedPoint):void 0):void 0},startedPanning:function(){i&&(r=!0,this.points=[],o.hideHelper())},stoppedPanning:function(){i&&(r=!1)},showHelper:function(t,e){var n;this.helper||(n=a(this.container),n.addClass("aww-drawing-helper"),this.helper=n.line(0,0,0,0)),t=this.canvasToWrapperCoords(t),e=this.canvasToWrapperCoords(e),this.helper.plot(t[0],t[1],e[0],e[1])},hideHelper:function(){var t=this.container.querySelector("svg");t&&(this.container.removeChild(this.container.querySelector("svg")),this.helper=null)},cancel:function(){this.hideHelper()},disableDispatchers:function(){i=!1}}},{"svg.js":76}],14:[function(t,e){"use strict";var n,r=t("svg.js");e.exports={op:"mark",init:function(){this.points=[],n=this.draw.scaleIndex},onPenDown:function(){},onPenUp:function(t){var e;"mouseout"!==t.type&&(t.preventDefault(),e={op:"mark",x:this.draw.roundToDecPoints(t.normalizedPoint[0]*n()),y:this.draw.roundToDecPoints(t.normalizedPoint[1]*n())},this.showMark(t.normalizedPoint[0],t.normalizedPoint[1]),this.save(e))},onPenMove:function(t){t.preventDefault()},showMark:function(t,e){{var n,i,o=(this.container.querySelector("canvas"),30);this.container.getBoundingClientRect().width,this.container.getBoundingClientRect().height}t=this.canvasToWrapperCoords([t,e])[0],e=this.canvasToWrapperCoords([t,e])[1],n=r(this.container),n.addClass("aww-drawing-helper"),i=n.ellipse(0,0),i.addClass("aww-marker"),i.x(t).y(e),i.animate(300,">").radius(o).after(function(){i.animate(200,">").opacity(0).after(function(){i.remove(),n.remove()})})},onReceive:function(t,e,n,r){this.container=e.container,this.canvasToWrapperCoords=e.canvasToWrapperCoords,this.showMark(t.x/r,t.y/r)}}},{"svg.js":76}],15:[function(t,e){"use strict";function n(t,e){var n=parseInt(t.slice(1,3),16),r=parseInt(t.slice(3,5),16),i=parseInt(t.slice(5,7),16);return e?"rgba("+n+", "+r+", "+i+", "+e+")":"rgb("+n+", "+r+", "+i+")"}var r,i,o,a,s,c,u,l=t("../../../common/drawing"),d=t("hyperscript");e.exports={op:"marker",hasSeparateCanvas:!0,init:function(){var t=this;o=this.toolMultiple,a=this.toolOpacity,i=d("canvas.aww-canvas-marker",{style:"opacity: "+a+";",width:t.canvasBoundaries.minW,height:t.canvasBoundaries.minH});var e=i.getContext("2d");r=l(e,Image,void 0,!1),void 0===u&&(this.dispatcher.on("window-resize",this.windowResize),this.dispatcher.on("started-panning",this.startedPanning),this.dispatcher.on("stopped-panning",this.stoppedPanning)),s=this.draw.scaleIndex,c=!1,u=!0,this.container.appendChild(i)},windowResize:function(t,e){u&&(i.width=t,i.height=e)},startedPanning:function(){u&&(r.doClear(),c=!0,this.points=[])},stoppedPanning:function(){u&&(c=!1)},onPenDown:function(t){this.pg=this.board.currentPage(),this.points=[],this.lastPoint=[t.normalizedPoint[0]+this.canvasOffset.x,t.normalizedPoint[1]+this.canvasOffset.y],this.points.push(this.wrapperToCanvasCoords(t.normalizedPoint))},onPenUp:function(t){if(!c&&"mouseout"!==t.type&&0!==this.points.length){t.preventDefault(),this.points.length>1&&this.points.push(this.wrapperToCanvasCoords(t.normalizedPoint));var e={op:"line",pg:this.pg,points:this.points,color:n(this.opState.color(),a),size:this.draw.roundToDecPoints(this.opState.size()*o*s()),eraser:this.eraser};this.drawingOperations.doOp(e),this.save(e),this.points=[],r.doClear()}},onPenMove:function(t){if(t.isPenDown&&!c){t.preventDefault();var e=[t.normalizedPoint[0]+this.canvasOffset.x,t.normalizedPoint[1]+this.canvasOffset.y];this.lastPoint=r.drawLine(this.lastPoint,e,{color:this.opState.color(),size:this.opState.size()*o,eraser:this.eraser}),this.points.push(this.wrapperToCanvasCoords(t.normalizedPoint))}},removeCanvas:function(){this.container.removeChild(i)},disableDispatchers:function(){u=!1}}},{"../../../common/drawing":2,hyperscript:62}],16:[function(t,e){"use strict";e.exports={op:"pan",init:function(){this.dispatcher.emit("enable-panning")},cancel:function(){this.dispatcher.emit("disable-panning")}}},{}],17:[function(t,e){"use strict";var n=t("hyperscript"),r=(t("./spinnable"),t("debug")("awwapp:presentation-op")),i=(t("../utils/utils"),t("observable"),t("xhr"));e.exports={op:"presentation",stateless:!0,init:function(){var t=void 0===arguments[0]?{}:arguments[0];t.src?this.uploadPresFromUrl(this,t.src):(r("Opening image dialog"),this.openPresentationSelector())},openPresentationSelector:function(){var t=this,e=this.container.querySelector("input")||n("input",{type:"file",accept:"application/pdf,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.slideshow,application/vnd.openxmlformats-officedocument.presentationml.presentation",onchange:function(n){t.container.removeChild(e),t.onPresentationSelected(n),n.preventDefault(),n.stopPropagation()}});this.container.appendChild(e),e.setAttribute("accept","application/pdf,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.slideshow,application/vnd.openxmlformats-officedocument.presentationml.presentation"),e.click()},onClick:function(){this.pg=this.board.currentPage();var t=this.container.querySelector("input");t&&t.click()},onPresentationSelected:function(t){var e=this,n=this,r=t.target.files[0].name;if(!r.match(/\.(pdf|pptx?)$/gi))throw new Error("File type not supported");var i=r.lastIndexOf("."),o=new FileReader;o.addEventListener("load",function(t){e.imageUpload(t.target.result,r.substring(i+1),function(t,e){if(t)throw t;n.uploadPresFromUrl(n,e)})}),o.readAsDataURL(t.target.files[0])},uploadPresFromUrl:function(t,e){t.isLoading(!0);var n=this.container.getBoundingClientRect(),o=n.width,a=n.height,s={source:e,apikey:t.board.options.apiKey,referer:"https://awwapp.com",width:o,height:a};r("Calling Converter API for",e),i({method:"POST",url:"https://converter.awwapp.com/api/v2/convert/",body:JSON.stringify(s),headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1},function(e,n,i){if(t.isLoading(!1),e)throw e;
var o=JSON.parse(i).images;if(!o)throw"Converter API returns error";r("Converted into pages",o);for(var a=t.board.currentPage(),s=0;s<o.length;s++){var c={op:"image",pg:s+a,src:o[s].url,left:0,top:0,w:o[s].w,h:o[s].h};c.pg===a?t.drawingOperations.doOp(c):t.dispatcher.emit("queue-op",c,{forcePage:!0}),t.save(c),t.isActive=!1}})}}},{"../utils/utils":30,"./spinnable":20,debug:53,hyperscript:62,observable:68,xhr:82}],18:[function(t,e){"use strict";var n,r,i,o,a=t("svg.js");e.exports={op:"rectangle",init:function(){this.points=[],n=this.draw.scaleIndex,void 0===i&&(this.dispatcher.on("started-panning",this.startedPanning),this.dispatcher.on("stopped-panning",this.stoppedPanning)),o=this,r=!1,i=!0},onPenDown:function(t){this.pg=this.board.currentPage(),this.points=[t.normalizedPoint]},onPenUp:function(t){if(!r&&"mouseout"!==t.type&&0!==this.points.length){var e,i,o,a,s,c,u;if(t.preventDefault(),e=this.points[0],i=t.normalizedPoint,this.points.length<2&&e[0]!==i[0]&&e[1]!==i[1]&&this.points.push(i),2===this.points.length){i=this.points[1],o=e[0]<i[0]?e[0]:i[0],a=e[1]<i[1]?e[1]:i[1],s=Math.abs(e[0]-i[0]),c=Math.abs(e[1]-i[1]);var l=this.wrapperToCanvasCoords([o,a]),d=this.wrapperToCanvasCoords([s,c]);u={op:"rectangle",pg:this.pg,x:l[0],y:l[1],w:d[0],h:d[1],color:this.opState.color(),size:this.draw.roundToDecPoints(this.opState.size()*n()),filled:this.filled},this.drawingOperations.doOp(u),this.save(u),this.points=[],this.hideHelper()}}},startedPanning:function(){i&&(r=!0,o.hideHelper(),this.points=[])},stoppedPanning:function(){i&&(r=!1)},onPenMove:function(t){return r?void 0:(t.preventDefault(),1===this.points.length?this.showHelper(this.points[0],t.normalizedPoint):void 0)},showHelper:function(t,e){{var n,r,i,o,s;this.container.querySelector("canvas")}this.helper||(n=a(this.container),n.addClass("aww-drawing-helper"),this.helper=n.rect(0,0)),r=t[0]<e[0]?t[0]:e[0],i=t[1]<e[1]?t[1]:e[1],o=Math.abs(t[0]-e[0]),s=Math.abs(t[1]-e[1]),r=this.canvasToWrapperCoords([r,i])[0],i=this.canvasToWrapperCoords([r,i])[1],this.helper.x(r).y(i).width(o).height(s)},hideHelper:function(){var t=this.container.querySelector("svg");t&&(this.container.removeChild(this.container.querySelector("svg")),this.helper=null)},cancel:function(){this.hideHelper()},disableDispatchers:function(){i=!1}}},{"svg.js":76}],19:[function(t,e){"use strict";var n,r,i,o,a,s,c,u,l,d,h,p,f,m,g,v,b,y,w=t("../../../common/drawing"),x=t("hyperscript"),W=t("svg.js"),_=t("../lodash.custom"),L=!1,C=2;e.exports={op:"select",hasSeparateCanvas:!0,init:function(){y=this,l=this.toolMultiple,d=this.toolOpacity,r=x("canvas.aww-canvas-marker",{style:"opacity: 0; pointer-events: none;",width:y.canvasBoundaries.minW,height:y.canvasBoundaries.minH});var t=r.getContext("2d");n=w(t,Image,void 0,!1),i=x("canvas.aww-canvas-marker#upper-canvas",{style:"pointer-events: none;",width:y.canvasBoundaries.minW,height:y.canvasBoundaries.minH});var e=i.getContext("2d");s=w(e,Image,void 0,!1),o=x("canvas.aww-canvas-marker#op-canvas",{style:"pointer-events: none;",width:y.canvasBoundaries.minW,height:y.canvasBoundaries.minH});var p=o.getContext("2d");c=w(p,Image,void 0,!1),a=x("canvas.aww-canvas-marker#lower-canvas",{style:"pointer-events: none;",width:y.canvasBoundaries.minW,height:y.canvasBoundaries.minH});var f=a.getContext("2d");u=w(f,Image,void 0,!1),v=!1,void 0===b&&(this.dispatcher.on("window-resize",this.windowResize),this.dispatcher.on("started-panning",this.startedPanning),this.dispatcher.on("stopped-panning",this.stoppedPanning),this.dispatcher.on("backspace-press",this.backspacePress),this.dispatcher.on("canvas-pan",this.canvasPan),this.dispatcher.on("goto-page",this.gotoPage),this.dispatcher.on("do-undo",this.doUndo)),b=!0,h=this.draw.scaleIndex},doUndo:function(){b&&y.resetFields()},gotoPage:function(){b&&y.resetFields()},canvasPan:function(){b&&y.showHelper(m)},startedPanning:function(){b&&(v=!0,y.points=[],y.resetFields())},stoppedPanning:function(){b&&(v=!1)},windowResize:function(t,e){b&&(r.width=t,r.height=e,i.width=t,i.height=e,a.width=t,a.height=e,o.width=t,o.height=e)},backspacePress:function(){if(b&&m){y.board.setDeleteFlag(m,g,!0);var t={op:"delete",selectedOp:m.op,opIndex:g};y.drawingOperations.doOp(t),y.save(t),y.resetFields()}},onPenDown:function(t){if(this.pg=this.board.currentPage(),this.points=[],m=void 0,g=void 0,p=this.wrapperToCanvasCoords(t.normalizedPoint),this.lastPoint=p,this.points.push(p),f=this.allOps(),this.getClickedOp(f,this.board.currentPage(),p),m){var e=_.filter(f,function(t,e){return(g>e||e>g&&("eraseArea"===t.op||t.eraser))&&(t.pg||0)===y.board.currentPage()}),n=_.filter(f.slice(g+1),function(t){return(t.pg||0)===y.board.currentPage()});this.removeHelperCanvases();var r=1/this.draw.scaleIndex(),l=this.draw.getAdditionalCanvasOffset();u.setZoomLevel(r),u.setAdditionalOffset(l),u.doPan(this.canvasOffset.x,this.canvasOffset.y,e),c.setZoomLevel(r),c.setAdditionalOffset(l),c.doPan(this.canvasOffset.x,this.canvasOffset.y,[m]),s.setZoomLevel(r),s.setAdditionalOffset(l),s.doPan(this.canvasOffset.x,this.canvasOffset.y,n),this.container.insertBefore(a,this.canvas),this.container.insertBefore(o,this.canvas),this.container.insertBefore(i,this.canvas),this.canvas.style.visibility="hidden"}},onPenUp:function(t){if("mouseout"===t.type||this.points.length<=1)return this.removeHelperCanvases(),void this.showMainCanvas();if(t.preventDefault(),this.points.push(this.wrapperToCanvasCoords(t.normalizedPoint)),m){var e={op:"move",selectedOp:m.op,opIndex:g,points:this.points};this.drawingOperations.doOp(e),this.save(e),this.removeHelperCanvases(),this.board.replaceOpOnCanvas(m,g),this.showMainCanvas()}this.points=[],L=!1},onPenMove:function(t){if(t.isPenDown&&L&&m&&!v){t.preventDefault();var e=this.wrapperToCanvasCoords(t.normalizedPoint);this.points.push([this.draw.roundToDecPoints(e[0]),this.draw.roundToDecPoints(e[1])]);var n=e[0]-this.lastPoint[0],r=e[1]-this.lastPoint[1];if("rectangle"===m.op||"ellipse"===m.op)m.x=m.x+n,m.y=m.y+r;else if("image"===m.op)m.left=m.left+n,m.top=m.top+r;else if("text"===m.op){var i=m.textPoint;m.textPoint=[i[0]+n,i[1]+r]}else if(m.points)for(var o=m.points,a=0;a<o.length;a++)m.points[a]=[o[a][0]+n,o[a][1]+r];c.doClear(),c.doOp(m),this.hideHelper(),this.showHelper(m),this.lastPoint=e}},showMainCanvas:function(){this.canvas.style.visibility="inherit"},removeCanvas:function(){this.resetFields()},removeHelperCanvases:function(){this.container.contains(i)&&this.container.removeChild(i),this.container.contains(o)&&this.container.removeChild(o),this.container.contains(a)&&this.container.removeChild(a)},getClickedOpOnCanvas:function(t,e){m=t,g=e},getClickedOp:function(t,e,r){for(var i=t.length-1;i>=0;i--){var o=t[i];if(o.pg===e&&!o["delete"])if("line"===o.op||"eraseArea"===o.op||"lineStraight"===o.op){n.doClear();try{n.doOp(o,i,r,this.getClickedOpOnCanvas)}catch(a){this.dispatcher.emit("show-message","Selecting strokes is not available in Internet Explorer or Edge, for the best experience use Chrome or Firefox","error",10)}if(void 0!==m)break}else if("rectangle"===o.op){if(o.filled){if(r[0]>=o.x&&r[0]<=o.x+o.w&&r[1]>=o.y&&r[1]<=o.y+o.h){g=i,m=o;break}}else if(r[0]>=o.x-o.size&&r[0]<=o.x+o.size&&r[1]>=o.y&&r[1]<=o.y+o.h||r[0]>=o.x&&r[0]<=o.x+o.w&&r[1]>=o.y-o.size&&r[1]<=o.y+o.size||r[0]>=o.x+o.w-o.size&&r[0]<=o.x+o.w+o.size&&r[1]>=o.y&&r[1]<=o.y+o.h||r[0]>=o.x&&r[0]<=o.x+o.w&&r[1]>=o.y+o.h-o.size&&r[1]<=o.y+o.h+o.size){g=i,m=o;break}}else if("ellipse"===o.op)if(o.filled){var s=Math.pow(r[0]-o.x,2)/Math.pow(o.r*o.scale[0],2)+Math.pow(r[1]-o.y,2)/Math.pow(o.r*o.scale[1],2);if(1>=s){g=i,m=o;break}}else{var c=Math.pow(r[0]-o.x,2)/Math.pow((o.r+o.size/2)*o.scale[0],2)+Math.pow(r[1]-o.y,2)/Math.pow((o.r+o.size/2)*o.scale[1],2),u=Math.pow(r[0]-o.x,2)/Math.pow((o.r-o.size/2)*o.scale[0],2)+Math.pow(r[1]-o.y,2)/Math.pow((o.r-o.size/2)*o.scale[1],2);if(1>=c&&u>1){g=i,m=o;break}}else if("text"===o.op){if(r[0]>=o.textPoint[0]&&r[0]<=o.textPoint[0]+o.maxWidth&&r[1]>=o.textPoint[1]&&r[1]<=o.textPoint[1]+o.maxHeight){g=i,m=o;break}}else if("image"===o.op&&r[0]>=o.left&&r[0]<=o.left+o.w&&r[1]>=o.top&&r[1]<=o.top+o.h){g=i,m=o;break}}m?(L=!0,this.showHelper(o)):this.hideHelper()},showHelper:function(t){if(t){var e,n=(this.container.querySelector("canvas"),w.getOpOutline(t)),r=n.x,i=n.y,o=n.width,a=n.height;this.helper||(e=W(this.container),e.addClass("aww-select-outline"),this.helper=e.rect(0,0)),r=r/h()+this.canvasOffset.x-C,i=i/h()+this.canvasOffset.y-C,o=o/h()+2*C,a=a/h()+2*C,this.helper.x(r).y(i).width(o).height(a)}},hideHelper:function(){var t=this.container.querySelector("svg");t&&(this.container.removeChild(this.container.querySelector("svg")),this.helper=null)},resetFields:function(){m=void 0,g=void 0,L=!1,this.hideHelper(),this.removeHelperCanvases(),this.showMainCanvas()},cancel:function(){this.resetFields()},disableDispatchers:function(){b=!1}}},{"../../../common/drawing":2,"../lodash.custom":6,hyperscript:62,"svg.js":76}],20:[function(t,e){"use strict";function n(t,e,n,r){if(t)return{action:null,render:n};var i,o=r.parentNode,a=e.target;k(a,"aww-image-rotate",o)?i="rotate":k(a,"aww-image-scale",o)?i="scale":k(a,"aww-image-control-wrap",o)&&(i="move");var s=[e.pageX,e.pageY];return{point:s,action:i,render:n}}function r(t,e,n){var r=x(n,t)-x(e,t);return{rad:r}}function i(t,e,n){var r=w(e,t);if(!r)throw new Error("Failed to get previous distance for scaling");var i=w(n,t)/r;return{scale:i}}function o(t,e){var n=_(e,t);return{offset:n}}function a(t,e,n){if(!t||!t.action)return t;var a=[e.pageX,e.pageY],s={};switch(t.action){case"rotate":s=r(n,t.point,a);break;case"scale":s=i(n,t.point,a);break;case"move":s=o(t.point,a)}return e.stopPropagation(),e.preventDefault(),{action:t.action,point:a,render:l(s,t.render)}}function s(t,e,n){e.preventDefault();var r=e.touches||[];return{touches:L(r),doubleTouch:2===r.length,startTime:(new Date).getTime(),render:n}}function c(t,e){var n=X(e)-X(t),r=C(e);if(!r)return{rad:n,scale:1};var i=C(t)/r;return{rad:n,scale:i}}function u(t,e){var n=e.touches,r={};return 2==n.length?r=c(e.touches,t.touches):1!==n.length||t.doubleTouch||(r=o(y(t.touches[0]),y(e.touches[0]))),e.preventDefault(),{touches:L(n),startTime:t.startTime,doubleTouch:t.doubleTouch,render:l(r,t.render)}}function l(t,e){return t.rad||(t.rad=0),t.scale||(t.scale=1),t.offset||(t.offset=[0,0]),{rad:t.rad+e.rad,scale:t.scale*e.scale,offset:W(t.offset,e.offset)}}function d(t,e,n,r,i,o){i.stopPropagation(),i.preventDefault();var a=t(),s=o.querySelector("canvas");I("image editor done"),R.getData(e,function(){var t,i=R.getTag(this,"Orientation");6===i?t=-Math.PI/2:3===i?t=-Math.PI:8===i&&(t=-3*Math.PI/2);var c,u=p(a,e,t||0);try{c=u.toDataURL()}catch(l){console.error(l),c=void 0}var d=a.offset[0],h=a.offset[1],f=n.getBoundingClientRect(),m=f.width,g=f.height,v=e.getBoundingClientRect(),b=d-u.width/2+m/2,y=h-u.height/2+g/2;b-=s.getBoundingClientRect().left-o.getBoundingClientRect().left,y-=s.getBoundingClientRect().top-o.getBoundingClientRect().top,c?(I("calling done callback"),r(c,b,y,v.width,v.height)):I("no data url"),n.parentNode.removeChild(n)})}function h(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e,n){I("converting to canvas");var r=(t.rad||0)+n,i=t.scale||1,o=e.width*i,a=e.height*i,s=document.createElement("canvas"),c=s.getContext("2d"),u=o>a?o:a;u*=Math.sqrt(2);var l=e.getBoundingClientRect();s.width=l.width,s.height=l.height;var d=-o/2,h=-a/2;return c.save(),c.translate(l.width/2,l.height/2),c.rotate(-r),c.drawImage(e,d,h,o,a),s}function f(t,e,n){I("fit to parent");var r=e.getBoundingClientRect(),i=t.naturalWidth,o=t.naturalHeight;if(!i||!o)throw new Error("Failed to get image dimensions");var a=.8,s=r.width/i*a,c=r.height/o*a,u=[(r.width-i)/2,(r.height-o)/2];(1>s||1>c)&&n({scale:c>s?s:c,offset:u,rad:0})}function m(t){var e=Math.sin(t.rad)*t.scale,n=Math.cos(t.rad)*t.scale;return"matrix("+[n,-e,e,n,t.offset[0],t.offset[1]].join(",")+")"}function g(t){var e="";return t.rad&&(e+="rotate("+t.rad+"rad)"),t.scale&&(e+=" scale("+t.scale+")"),e}function v(t){if(!t.scale)throw new Error("Failed to get controls scale");return g({scale:1/t.scale})}function b(t){if(!t.scale)throw new Error("Failed to get button scale");return g({scale:1/t.scale,rad:t.rad})}function y(t){return[t.pageX,t.pageY]}function w(t,e){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function x(t,e){return Math.atan2(t[0]-e[0],t[1]-e[1])}function W(t,e){return[t[0]+e[0],t[1]+e[1]]}function _(t,e){return[t[0]-e[0],t[1]-e[1]]}function L(t){for(var e=[],n=0;n<t.length;n++)e.push({pageX:t[n].pageX,pageY:t[n].pageY});return e}function C(t){if(2!==t.length)return 0;var e=t[0],n=t[1];return Math.sqrt(Math.pow(n.pageX-e.pageX,2)+Math.pow(n.pageY-e.pageY,2))}function X(t){return 2!==t.length?0:Math.atan2(t[1].pageY-t[0].pageY,t[1].pageX-t[0].pageX)}var I=t("debug")("awwapp:spinnable"),Y=t("hyperscript"),Z=t("observable"),j=t("../ui/icon-definitions"),F=t("raf"),R=t("exif-js"),k=t("../utils/utils").hasMatchingParent,G=t("dom-events"),A="ontouchstart"in window,O=t("vendor-prefix")("transform"),N=["a.aww-image-rotate.rotate-top-left","a.aww-image-rotate.rotate-top-right","a.aww-image-rotate.rotate-bottom-right","a.aww-image-rotate.rotate-bottom-left","a.aww-image-scale.scale-top-left","a.aww-image-scale.scale-top-right","a.aww-image-scale.scale-bottom-right","a.aww-image-scale.scale-bottom-left"];e.exports=function(t,e,r){function i(){R&&(p(R.render),R.render&&(W.style[O]=m(R.render),w.style[O]=b(R.render),x.style[O]=b(R.render)+" translateX(200%)",A||g.forEach(function(t){t.style[O]=v(R.render)}))),S&&F(i)}function o(){S=!0,i()}function c(){S=!1}function l(t){t.stopPropagation(),t.preventDefault()}I("image editor started");var p=Z.signal();p({rad:0,scale:1,offset:[0,0]});var g,y,w=Y("a.aww-image-close",j.el("ok")),x=Y("a.aww-image-cancel",j.el("close"));A||(g=N.map(function(t){return Y(t,j.el(t.match("scale")?"resize":"rotate"))}),y=Y(".aww-image-control-wrap",g));var W=Y(".aww-image-transform",[e,A?"":y,w,x]),_=Y(".aww-image",W,{style:{display:"block"}}),L=function(n){return d(p,e,_,r,n,t)};G.on(w,"click",L),G.on(w,"touchend",L),G.on(x,"click",function(){h(_),r()}),G.on(x,"touchend",function(){h(_),r()});var C=e.naturalWidth,X=e.naturalHeight;if(!C||!X)return I("image dimensions unknown, cancelling operation"),void h(_);t.appendChild(_),f(e,t,p);var R={},k=Z.compute([p],function(t){return[t.offset[0]+C/2,t.offset[1]+X/2]}),S=!1;return R.render=p(),i(),G.on(_,"touchstart",function(t){l(t),R=s(R.action,t,R.render),o()}),G.on(_,"mousedown",function(t){l(t),R=n(R.action,t,R.render,e),o()}),G.on(_,"touchmove",function(t){l(t),R=u(R,t)}),G.on(_,"mousemove",function(t){l(t),R=a(R,t,k())}),G.on(_,"mouseup",function(t){l(t),R.action=null,c()}),G.on(_,"touchend",function(t){l(t),R.action=null,c()}),G.on(_,"click",function(t){l(t)}),{cancel:function(t){var e=function(){return t.apply(this,arguments)};return e.toString=function(){return t.toString()},e}(function(){h(_)})}}},{"../ui/icon-definitions":26,"../utils/utils":30,debug:53,"dom-events":56,"exif-js":60,hyperscript:62,observable:68,raf:72,"vendor-prefix":80}],21:[function(t,e){"use strict";function n(t,e,n,r){for(var i=t.length-1;i>=0;i--){var o=t[i];if("text"===o.op&&!o["delete"]&&o.pg===e){var a=n[0]>=o.textPoint[0]&&n[0]<=o.textPoint[0]+o.maxWidth&&n[1]>=o.textPoint[1]&&n[1]<=o.textPoint[1]+o.maxHeight;if("inherit"===Z&&a)return Z="text",r.dispatcher.emit("change-cursor",Z),r.showHelper(o),o;"text"!==Z||a||(Z="inherit",r.dispatcher.emit("change-cursor",Z),r.hideHelper())}}}var r,i,o,a,s,c,u,l,d,h,p,f,m,g,v,b,y,w=t("../lodash.custom"),x=t("../../../common/drawing"),W=t("hyperscript"),_=t("observable"),L=t("debug")("draggable"),C=t("../../../common/config"),X=t("amp-add-class"),I=t("svg.js"),Y=400,Z="inherit",j=2;e.exports={op:"text",lineHeight:C.FONT_LINE_HEIGHT,fontWeight:"normal",fontStyle:"normal",isPostit:!1,init:function(){i=this.pageTextOps(),r=this.draw.scaleIndex,void 0===l&&(this.dispatcher.on("started-panning",this.startedPanning),this.dispatcher.on("stopped-panning",this.stoppedPanning),this.dispatcher.on("goto-page",this.gotoPage),this.dispatcher.on("do-undo",this.doUndo),this.dispatcher.on("canvas-pan",this.canvasPan),this.dispatcher.on("change-color",this.changeColor)),d=this,s=!1,l=!0},startedPanning:function(){l&&(s=!0,d.hideHelper(),d.textRemove())},stoppedPanning:function(){l&&(s=!1)},canvasPan:function(){l&&d.resetFields()},doUndo:function(){l&&(d.el?d.textRemove():d.resetFields())},gotoPage:function(){l&&(i=d.pageTextOps(),d.resetFields())},changeColor:function(t){l&&(h?h.style.backgroundColor="#000000"===t.color?C.DEFAULT_POSTIT_COLOR:t.color:d.el&&(d.el.style.color=t.color))},showTextArea:function(t){var e,n,i,a,s=this;if(!this.point){var c=this.container.querySelector("textarea")||this.container.querySelector(".aww-post-it-wrapper");if(c)return void(this.el=c);o&&(e=o.text,n=o.textPoint,i=o.fontSize,a=o.fontWeight);var u=n?[Math.round(n[0]/r()),Math.round(n[1]/r())]:t.normalizedPoint;this.point=_(u);var l=this.container,d=o?o.color:this.isPostitInTheGame()&&"#000000"===this.opState.color()?C.DEFAULT_POSTIT_COLOR:this.opState.color();if(this.isPostitInTheGame()){b=o?[o.maxWidth/r(),(o.maxHeight-C.POSTIT_PADDING_TOP)/r()]:[C.DEFAULT_POSTIT_SIZE[0]/r(),C.DEFAULT_POSTIT_SIZE[1]/r()],v=(i?i:64)/r(),f=W.context()("textarea.note.render-helper-width",{value:e?e:"",wrap:"on",style:{"font-size":v+"px","font-family":this.opState.fontFamily(),"line-height":"normal"}}),m=W.context()("textarea.note.render-helper-height",{value:e?e:"",wrap:"on",style:{width:b[0]+"px",color:this.opState.color,"font-size":v+"px","font-family":this.opState.fontFamily(),"line-height":"normal"}}),g=W.context()("textarea.note",{value:e?e:"",wrap:"on",style:{height:b[1]+"px",width:b[0]+"px",color:C.DEFAULT_POSTIT_TEXT_COLOR,"font-size":v+"px","font-family":this.opState.fontFamily(),"line-height":"normal"},onkeydown:function(t){return y&&13===t.which?(t.preventDefault(),void t.stopPropagation()):void setTimeout(function(){s.calculateTextField(t.target.value)},0)},onkeyup:function(t){t&&t.which&&27===t.which&&s.textRemove(t)}});var p=W("a.aww-link#delete-postit",{style:{position:"absolute",top:"-30px",right:"-60px","background-color":"#f6f6f6",padding:"10px","border-radius":"5px",width:"62px",height:"37px",border:"1px solid #3dc476"}},"Delete");h=W(".aww-post-it#postit",{style:{left:_.transform(this.point,function(t){var e=s.canvasToWrapperCoords(t)[0];return e+"px"}),top:_.transform(this.point,function(t){var e=s.canvasToWrapperCoords(t)[1];return e+"px"}),"background-color":d,"padding-top":C.POSTIT_PADDING_TOP/r()+"px","box-shadow":C.POSTIT_SHADOW_SIZE/r()+"px "+C.POSTIT_SHADOW_SIZE/r()+"px "+10/r()+"px rgba(0,0,0,.3)"}},[p,g,f,m]),c=W(".aww-post-it-wrapper",[h])}else c=W.context()("textarea.aww-textarea",{placeholder:"Type here",value:e?e:"",wrap:"off",style:{left:_.transform(this.point,function(t){var e=s.canvasToWrapperCoords(t)[0];return e+"px"}),top:_.transform(this.point,function(t){var e=s.canvasToWrapperCoords(t)[1];return e+"px"}),cursor:"text",width:_.transform(this.point,function(t){var e=s.canvasToWrapperCoords(t)[0];return l.getBoundingClientRect().width-e+"px"}),height:_.transform(this.point,function(t){var e=s.canvasToWrapperCoords(t)[1];return l.getBoundingClientRect().height-e+"px"}),color:d,"font-size":o?Math.round(o.fontSize/r())+"px":_.transform(this.opState.fontSize,function(t){return t+"px"}),"font-family":this.opState.fontFamily(),"line-height":this.lineHeight,"font-weight":a?a:this.fontWeight,"font-style":this.fontStyle,overflow:"hidden",display:"block"},onkeydown:function(t){t&&t.which&&27===t.which&&s.textRemove()}});this.container.appendChild(c),setTimeout(function(){return X(c,"show")},50),this.el=c,L("debug","textarea appended",c)}},onPenDown:function(t){if(!this.point||!this.el){o=void 0,a=void 0,this.pg=this.board.currentPage(),i=this.pageTextOps();for(var e=i.length-1;e>=0;e--){var n=i[e];if("text"===n.op&&!n["delete"]&&n.pg===this.pg){var r=this.wrapperToCanvasCoords(t.normalizedPoint),s=r[0]>=n.textPoint[0]&&r[0]<=n.textPoint[0]+n.maxWidth&&r[1]>=n.textPoint[1]&&r[1]<=n.textPoint[1]+n.maxHeight;if(s)return a=w.indexOf(this.allOps(),n),o=n,d.board.setDeleteFlag(o,a,!0),this.showTextArea(t,o)}}return this.showTextArea(t)}if(g){var l=this.wrapperToCanvasCoords([h.offsetWidth,h.offsetHeight]);t.normalizedPoint[0]<this.point()[0]+l[0]&&t.normalizedPoint[0]>this.point()[0]+.95*l[0]&&t.normalizedPoint[1]<this.point()[1]+l[1]&&t.normalizedPoint[1]>this.point()[1]+.95*l[1]&&(u=[l[0]-t.normalizedPoint[0]+this.point()[0],l[1]-t.normalizedPoint[1]+this.point()[1]-C.POSTIT_PADDING_TOP]),t.target===h?(c=!0,p=t.normalizedPoint):"delete-postit"===t.srcElement.id?this.deletePostit():t.target!==g&&t.target!==m&&this.textSave()}else{var f=[this.el.style.width,this.el.style.height];this.el.style.width="0px",this.el.style.height="0px";var v=this.wrapperToCanvasCoords([this.el.scrollWidth,this.el.scrollHeight]),b=this.wrapperToCanvasCoords(t.normalizedPoint),y=this.wrapperToCanvasCoords(this.point()),x=b[0]>=y[0]&&b[0]<=y[0]+v[0]&&b[1]>=y[1]&&b[1]<=y[1]+v[1];x?(this.el.style.width=f[0],this.el.style.height=f[1]):this.textSave(v)}},onPenUp:function(t){if(!s){t.preventDefault(),t.stopPropagation(),u=void 0,c=!1,this.resetFields();var e=g?g:this.el;e&&e!==document.activeElement&&this.focusElAfterLastChar(e)}},onPenMove:function(t){if(!s)if(g&&(g.style.cursor="default"),u){var e=t.normalizedPoint[0]-this.point()[0]+u[0],r=t.normalizedPoint[1]-this.point()[1]+u[1];b=[e,r],g.style.width=e+"px",g.style.height=r+"px",m.style.width=e+"px",d.calculateTextField(t.target.value)}else if(c){var o=t.normalizedPoint[0]-p[0],a=t.normalizedPoint[1]-p[1];this.point([this.point()[0]+o,this.point()[1]+a]),p=t.normalizedPoint}else{var l=this.wrapperToCanvasCoords(t.normalizedPoint);n(i,this.pg,l,this)}},textSave:function(t){if(!this.point||""===this.el.value)return void this.textRemove();var e,n=this.el,s=this.wrapperToCanvasCoords(this.point()),c=0,u=this.lineHeight;this.isPostitInTheGame()&&(c=o?o.postitShadowSize:2*C.POSTIT_SHADOW_SIZE*r(),t=this.wrapperToCanvasCoords([h.offsetWidth,h.offsetHeight]),g.value.length&&(e=this.applyLineBreaks(g)+1,u=m.scrollHeight/e*r()));var l={op:"text",pg:this.pg,text:g?g.value.trim():n.value.trim(),textPoint:s,maxWidth:t[0],maxHeight:t[1],color:d.isPostitInTheGame()?h.style.backgroundColor:n.style.color,fontFamily:this.opState.fontFamily(),fontSize:d.isPostitInTheGame()?v*r():o?o.fontSize:Math.round(this.opState.fontSize()*r()),lineHeight:u,fontWeight:d.isPostitInTheGame()?C.POSTIT_WEIGHT:this.fontWeight,fontStyle:this.fontStyle,editText:!0,isPostit:d.isPostitInTheGame(),postitShadowSize:c};o&&(l.selectedOp=o.op,l.opIndex=a),this.drawingOperations.doOp(l),this.save(l),L("debug","text save"),i=this.allOps(),n.parentNode.removeChild(n),this.point=void 0,this.el=void 0,m=void 0,f=void 0,g=void 0,h=void 0},textRemove:function(){this.point&&(o&&this.board.setDeleteFlag(o,a,!1),this.removeDOMElements())},removeDOMElements:function(){var t=this.el;L("debug","textarea cancel"),X(t,"hide"),setTimeout(function(){return t.parentNode.removeChild(t)},Y),this.point=void 0,this.el=void 0,m=void 0,f=void 0,g=void 0,h=void 0},deletePostit:function(){if(d.removeDOMElements(),o){var t={op:"delete",selectedOp:o.op,opIndex:a};d.drawingOperations.doOp(t),d.save(t)}},isPostitInTheGame:function(){return!o&&this.isPostit||o&&o.isPostit},applyLineBreaks:function(t){if(t.setAttribute("wrap","off"),!t.wrap){var e=t.cloneNode(!0);e.value=t.value,t.parentNode.replaceChild(e,t),t=e}var n=t.value;t.value="";for(var r=t.scrollWidth,i=-1,o=0;o<n.length;o++){var a=n.charAt(o);if((" "==a||"-"==a||"+"==a)&&(i=o),t.value+=a,t.scrollWidth>r){var s="";if(i>=0){for(var c=i+1;o>c;c++)s+=n.charAt(c);i=-1}s+=a,t.value=t.value.substr(0,t.value.length-s.length).trim(),t.value+="\n"+s}}t.setAttribute("wrap","");for(var u="\n",l=0,d=0;d<t.value.length;l+=+(u===t.value[d++]));return l},focusElAfterLastChar:function(t){t.focus();var e=t.value;t.value="",t.value=e},calculateTextField:function(t){for(var e=C.POSTIT_MAX_COLUMNS,n=C.POSTIT_MAX_ROWS,i=t.split(/(\r\n|\n|\r| )/gm),o=0;o<i.length;o++)if(i[o].length>e)return i[o]=i[o].substring(0,e),void(g.value=i.join(""));f.value=t,m.value=t;var a=f.scrollWidth,s=m.scrollHeight;if(a>b[0]-2*C.POSTIT_TEXTAREA_PADDING||s>b[1]-C.POSTIT_TEXTAREA_PADDING)for(;(a>b[0]-2*C.POSTIT_TEXTAREA_PADDING/r()||s>b[1]-C.POSTIT_TEXTAREA_PADDING/r())&&v>C.POSTIT_MIN_FONT_SIZE/r();)v-=1/r(),this.setHelperTextareaSize(v),a=f.scrollWidth,s=m.scrollHeight;else if(a>20/r()&&v<=C.POSTIT_MAX_FONT_SIZE/r()){do this.setHelperTextareaSize(v),a=f.scrollWidth,s=m.scrollHeight,v+=1/r();while(a<b[0]-2*C.POSTIT_TEXTAREA_PADDING/r()&&s<b[1]-C.POSTIT_TEXTAREA_PADDING/r()&&66>=v);v-=2/r(),this.setHelperTextareaSize(v)}g.style.fontSize=v+"px",y=this.applyLineBreaks(m)+1>=n?!0:!1},setHelperTextareaSize:function(t){f.style.fontSize=t+"px",m.style.fontSize=t+"px"},pageTextOps:function(){var t=this;return w.filter(this.allOps(),function(e){return(e.pg||0)===t.board.currentPage()&&!e["delete"]&&"text"===e.op})},showHelper:function(t){if(t){var e,n=(this.container.querySelector("canvas"),x.getOpOutline(t)),i=n.x,o=n.y,a=n.width,s=n.height;this.helper||(e=I(this.container),e.addClass("aww-select-outline"),this.helper=e.rect(0,0)),i=i/r()+this.canvasOffset.x-j,o=o/r()+this.canvasOffset.y-j,a=a/r()+2*j,s=s/r()+2*j,this.helper.x(i).y(o).width(a).height(s)}},hideHelper:function(){var t=this.container.querySelector("svg");t&&(this.container.removeChild(this.container.querySelector("svg")),this.helper=null)},resetFields:function(){Z="inherit",d.dispatcher.emit("change-cursor",Z),d.pg=d.board.currentPage(),d.hideHelper()},cancel:function(){if(this.point)if(g)this.textSave();else{this.el.style.width="0px",this.el.style.height="0px",m=void 0,f=void 0,g=void 0,h=void 0;var t=this.wrapperToCanvasCoords([this.el.scrollWidth,this.el.scrollHeight]);this.textSave(t)}this.hideHelper()},disableDispatchers:function(){l=!1}}},{"../../../common/config":1,"../../../common/drawing":2,"../lodash.custom":6,"amp-add-class":32,debug:53,hyperscript:62,observable:68,"svg.js":76}],22:[function(t,e){"use strict";var n=t("hyperscript");e.exports={op:"window",oneTime:!0,init:function(){var t=this.container.getBoundingClientRect();console.log(this.container),this.save({op:"window",width:t.width,height:t.height})},stateless:!0,onReceive:function(t,e){console.log(t);var r="window-size-helper-"+t.uid,i=e.container.querySelector("."+r);i?(i.style.width=t.width+"px",i.style.height=t.height+"px"):e.container.appendChild(n(".window-size-helper."+r,{style:{width:t.width+"px",height:t.height+"px"}}))}}},{hyperscript:62}],23:[function(t,e){"use strict";function n(t){var e,n,o=t.dispatcher,a=t.board,s=t.socketEmitter,c=a.isAudioActive,u={peerConnectionConstraints:{},receiveMedia:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}},enableDataChannels:!1,logger:{log:f.bind(f,"debug"),warn:f.bind(f,"warn"),error:f.bind(f,"error")}},l={on:function(){if(!a.isConnected())throw new Error("Not connected to board");v("webrtc.bundle.js",function(){n=new window.WebRTC(u),e=r(n,o,s,a.currentUser())})},off:function(t){var e=function(){return t.apply(this,arguments)};return e.toString=function(){return t.toString()},e}(function(){i(n,o,s,e)})};o.sub("webrtc-on",function(){c()||(l.on(),c(!0))}),o.sub("webrtc-off",function(){c()&&(l.off(),c(!1))}),o.sub("webrtc-toggle",function(){c()?l.off():l.on(),c(!c())})}function r(t,e,n,r){t.on("message",function(t){return o(n,t)}),t.on("localStream",function(i){c(t,n,r,i,function(t){t&&(p("debug",t),e.emit("error",t),i.stop())})}),t.on("peerStreamAdded",l),t.on("peerStreamRemoved",d),p("Starting local audio","user id:",r),t.startLocalMedia({video:!1,audio:!0});var i=function(e){return a(t,r.uid,e)},u=function(e){return s(t,e)};return e.subMany({"webrtc-message":i,"update-user":u}),[i,u]}function i(t,e,n,r){t&&(t.off("message"),t.off("localStream"),t.off("peerStreamAdded"),t.off("peerStreamRemoved"),n("webrtc:message",{inChannel:!1,type:"join"}),e.off("webrtc-message",r[0]),e.off("update-user",r[1]),t.removePeers())}function o(t,e){t("webrtc:message",e)}function a(t,e,n){if(p("Got rtc message",e,n.type),n.to===e||!n.inChannel){var r=t.getPeers().filter(function(t){return t.id===n.from})[0];if(r||n.inChannel===!1){if(r&&n.inChannel===!1)return r.end(),void p("User left audio call")}else{if("offer"!==n.type)return void p("No existing peer found for message",n.type);p("Got offer from user",n.from,"creating peer"),r=t.createPeer({id:n.from,type:"audio",enableDataChannels:!1})}p("Handling message from user",r.id,n.type),r.handleMessage(n)}}function s(t,e){"0"===e.user.status&&t.removePeers(e.user.uid)}function c(t,e,n,r,i){p("Got local stream, tell server that we're ready",r);var o={inChannel:!0,type:"join"};return e("webrtc:message",o,function(o,a){return p("debug","Webrtc initial data",a),o||a.error?i(o||a.error):(h(a.peers,function(e){if(e!==n){p("Initiating peer connection with",e);var r=t.createPeer({id:e,type:"audio",enableDataChannels:!1});r.start()}}),u(e,r),void i())})}function u(t,e){var n=m(e);n.on("speaking",function(){t("webrtc:hark",{speaking:!0})}),n.on("stopped_speaking",function(){t("webrtc:hark",{speaking:!1})})}function l(t){p("Got remote stream",t.id),g(t.stream)}function d(){}var h=t("./lodash.custom").each,p=t("debug")("awwapp:p2p"),f=t("debug")("awwapp:webrtc-lib"),m=t("hark"),g=t("attachmediastream"),v=t("./utils/utils").loadjs;p=p.bind(p,"debug"),e.exports=n},{"./lodash.custom":6,"./utils/utils":30,attachmediastream:38,debug:53,hark:61}],24:[function(t,e){"use strict";var n=t("debug")("awwapp:socket"),r=t("./utils/utils").loadjs,i=e.exports=function(t,e){function o(o){n("debug","Loading socket.io module"),r("socket.io.js",function(){n("debug","got socket module"),a=i.socketInit(t,e.apiKey,o)})}var a;return t.subMany({"socket-init":function(t){var e=function(){return t.apply(this,arguments)};return e.toString=function(){return t.toString()},e}(function(t){n("debug","Got socket init",t),a||o(t)}),"socket-close":function(){n("debug","Got socket close"),a&&setTimeout(function(){return a.disconnect()})},"socket-toggle":function(t){n("debug","Got socket toggle"),a&&a.connected?setTimeout(function(){return a.disconnect()}):o(t)}}),function(t,e,r){n("Socket emit data "+t,e);var i=new Date;a?a.emit(t,e,function(e){var o=new Date,a=o-i;if(n("Socket got reply to "+t+" in "+a+"ms",e),o-i>1e3&&Raven.captureException("Slow socket reply, took "+a+"ms"),e.error){var s=new Error(e.error);if(!r)throw s;return r(s,e)}r&&r(null,e)}):r(new Error("Not connected to socket"))}};i.socketInit=function(t,e){var r=void 0===arguments[2]?{}:arguments[2],i="https://awwapp.com/";n("Connecting to socket url:",i,"query: ",{apiKey:e}),n("socket data:",r);var o=window.io(i,{path:"/api/v2/socket.io",forceNew:!0,timeout:5e3,query:{apiKey:e}});return o.on("connect",function(){t.emit("socket-connect",{autojoin:r.autojoin,boardLink:r.boardLink}),n("Connected to socket")}),o.on("disconnect",function(){t.emit("socket-disconnect"),n("Disconnected from server"),o=void 0}),o.on("connect_timeout",function(e){n("debug","Socket timeout:",e),t.emit("socket-error",{err:e}),Raven.captureException("Socket timeout: "+JSON.stringify(e))}),o.on("ready",function(t){n("debug","Socket ready",t)}),o.on("error",function(e){n("debug","Socket error:",e),t.emit("socket-error",{err:e}),Raven.captureException("Socket error: "+JSON.stringify(e))}),o.on("board:ops",function(e){t.emit("receive-ops",{source:"socket",ops:e})}),o.on("user:data",function(e){t.emit("update-user",{user:e})}),o.on("webrtc:message",function(e){t.emit("webrtc-message",e)}),o.on("webrtc:hark",function(e){t.emit("webrtc-hark",e)}),o}},{"./utils/utils":30,debug:53}],25:[function(t,e){"use strict";function n(t,e,n,r){if((!r.which||13==r.which)&&t()){var i={op:"chat",text:r.target.value,time:new Date,uid:t().uid};e.emit("queue-op",i),n([i]),r.target.value=""
}}function r(t,e,n,r,a){if(n=n(),r=i.filter(r,{op:"chat"}),r.length){a();var s=[];i.each(r,function(r){var i=n.uid===r.uid,o=i?n:e()[r.uid],a=new Date(r.time),s=i?".aww-user-me":"",u=c(".aww-chat-bubble"+s,c(".aww-chat-nick",c("span.aww-user",o.nick),c("span.aww-chat-timestamp"," @ "+a.toLocaleTimeString())),c(".aww-chat-text",r.text));t.appendChild(u)});var u=t.parentNode;u.scrollTop=u.scrollHeight,o("chat written",s.length)}}var i=t("../lodash.custom"),o=t("debug")("awwapp:ui"),a=t("./icon-definitions"),s=t("dom-events"),c=t("hyperscript"),u=t("observable"),l=t("loads-css"),d="https://fonts.googleapis.com/css?family=Lato:100,300,400,700,900&subset=latin,latin-ext",h=!1,p=!1;e.exports=function(t){var e=t.dispatcher,i=t.board,o=t.options,f=t.el;if(f=o.chatEl||f,"string"==typeof f&&(f=document.querySelector(f),!f))throw new Error("Failed to insert toolbar, element not found");var m=i.isChatVisible,g=!1,v=c(".aww-chat-log"),b=function(){var t=f.getBoundingClientRect();!m()&&!g&&t.width>600&&t.height>600&&!p&&m(!0)},y=function(t){return r(v,i.users,i.currentUser,t,b)},w=function(t){return n(i.currentUser,e,y,t)},x=function(){m()?(m(!1),g=!0):m(!0)},W=function(){var t=X.value;t&&e.emit("change-user",{nick:t}),"block"===W.style.display?(X.value="",W.style.display="none",Y.style.display="inline-block"):(W.style.display="block",X.focus(),Y.style.display="none")},_=c("input.aww-input-field",{placeholder:"Your message",onkeypress:w}),L=c(".aww-modal-footer.aww-modal-inner",_),C=c(".aww-chat-log-wrapper",v),X=c("input.aww-input-field.small#userNickInputChat",{placeholder:"Enter new name",type:"text"}),I=c("a.aww-button.aww-input-field","DONE",{onclick:W}),Y=c("a#change-chat-name","Change name",{onclick:W}),W=c(".aww-chat-change-name-parent",{style:{display:"none"}},[X,I]),Z=c("a.aww-chat-close",{onclick:x},a.el("close")),j=c(".aww-chat-title",["Chat",Z,Y]),F=c(".aww-modal-header",[j,W]),R=c("#aww-chat-window.aww-chat-window",[F,C,L],{style:{display:u.compute([i.isConnected,m],function(t,e){return t&&e?"block":"none"})}});i.isConnected(function(t){t&&!h&&(h=!0,l(d,function(){}))}),e.on("board-joined",function(t){1===Object.keys(t.users).length&&b()}),e.on("is-in-iframe",function(){p=!0}),f.appendChild(R),s.on(R,"click",function(){return e.emit("close-menus")}),i.remoteQueue(y),e.on("chat-toggle",x),e.on("reset-state",function(){v.innerHTML=""}),m(function(t){t&&_.focus()})}},{"../lodash.custom":6,"./icon-definitions":26,debug:53,"dom-events":56,hyperscript:62,"loads-css":66,observable:68}],26:[function(t,e){"use strict";function n(t){var e=document.createElement("div");return e.innerHTML=t,e.firstChild}var r={admin:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M18.5 17h-17c-0.827 0-1.5-0.673-1.5-1.5v-11c0-0.827 0.673-1.5 1.5-1.5h17c0.827 0 1.5 0.673 1.5 1.5v11c0 0.827-0.673 1.5-1.5 1.5zM1.5 4c-0.276 0-0.5 0.224-0.5 0.5v11c0 0.276 0.224 0.5 0.5 0.5h17c0.276 0 0.5-0.224 0.5-0.5v-11c0-0.276-0.224-0.5-0.5-0.5h-17z" />\n    <path d="M8.501 14c-0-0-0-0-0.001 0h-5c-0.276 0-0.5-0.224-0.5-0.5 0-0.066 0.011-0.661 0.388-1.265 0.352-0.563 1.091-1.235 2.612-1.235s2.259 0.672 2.612 1.235c0.338 0.541 0.382 1.074 0.388 1.227 0.001 0.012 0.001 0.025 0.001 0.038 0 0.276-0.224 0.5-0.5 0.5zM4.117 13h3.766c-0.035-0.086-0.081-0.177-0.14-0.267-0.322-0.487-0.908-0.733-1.743-0.733s-1.421 0.247-1.743 0.733c-0.059 0.090-0.105 0.18-0.14 0.267z" />\n    <path d="M16.5 8h-5c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5h5c0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5z" />\n    <path d="M15.5 10h-4c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5h4c0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5z" />\n    <path d="M15.5 12h-4c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5h4c0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5z" />\n    <path d="M6 10c-1.103 0-2-0.897-2-2s0.897-2 2-2 2 0.897 2 2c0 1.103-0.897 2-2 2zM6 7c-0.551 0-1 0.449-1 1s0.449 1 1 1 1-0.449 1-1-0.449-1-1-1z" />\n    <path d="M16.5 14h-5c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5h5c0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5z" />\n</svg>\n',close:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10.707 10.5l5.646-5.646c0.195-0.195 0.195-0.512 0-0.707s-0.512-0.195-0.707 0l-5.646 5.646-5.646-5.646c-0.195-0.195-0.512-0.195-0.707 0s-0.195 0.512 0 0.707l5.646 5.646-5.646 5.646c-0.195 0.195-0.195 0.512 0 0.707 0.098 0.098 0.226 0.146 0.354 0.146s0.256-0.049 0.354-0.146l5.646-5.646 5.646 5.646c0.098 0.098 0.226 0.146 0.354 0.146s0.256-0.049 0.354-0.146c0.195-0.195 0.195-0.512 0-0.707l-5.646-5.646z" />\n</svg>\n',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n<path d="M19.715 6.913c-0.026-0.155-0.077-0.305-0.155-0.446-0.114-0.209-0.276-0.38-0.472-0.506-0.002-0.001-0.003-0.002-0.005-0.003-0.010-0.007-0.021-0.013-0.032-0.020-0.096-0.059-0.205-0.108-0.327-0.145-0.024-0.007-0.049-0.014-0.074-0.021l-6.060-1.515c-0.162-0.040-0.34-0.061-0.53-0.061-0.599 0-1.25 0.205-1.658 0.523l-7.421 5.772c-0.51 0.396-1.069 1.187-1.273 1.799l-1.368 4.103c-0.129 0.386-0.094 0.791 0.098 1.14s0.515 0.596 0.909 0.694l6.060 1.515c0.162 0.040 0.34 0.061 0.53 0.061 0.474 0 0.981-0.129 1.374-0.341 0.091-0.046 0.186-0.106 0.284-0.182l7.421-5.772c0.51-0.396 1.069-1.187 1.273-1.799l1.368-4.103c0.092-0.275 0.111-0.504 0.057-0.694zM12.062 5.197c0.107 0 0.206 0.011 0.287 0.031l6.033 1.508-7.4 5.755c-0.236 0.184-0.666 0.312-1.044 0.312-0.107 0-0.206-0.011-0.287-0.031l-6.033-1.508 7.4-5.755c0.236-0.184 0.666-0.312 1.044-0.312zM1.316 17.052c-0.056-0.102-0.065-0.224-0.026-0.343l1.368-4.103c0.092-0.276 0.408-0.45 0.691-0.379 0 0 0 0 0 0l6.060 1.515c0.121 0.030 0.219 0.103 0.275 0.205s0.065 0.224 0.026 0.343l-1.368 4.103c-0.092 0.276-0.409 0.45-0.691 0.379l-1.030-0.257c-0 0-0-0-0-0l-5.030-1.257c-0.121-0.030-0.219-0.103-0.275-0.206zM16.404 12.719l-6.907 5.372 1.162-3.485c0.143-0.429 0.581-1.049 0.938-1.326l6.907-5.372-1.162 3.485c-0.143 0.429-0.581 1.048-0.938 1.326z"/>\n</svg>\n',eraserArea:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  <g transform="matrix(0,-1.2651885,1.2651885,0,-2.6518851,22.651883)">\n    <path\n       d="m 8.8502543,11.533526 c -0.1012384,0 -0.1994083,-0.04065 -0.2707351,-0.11274 -0.071327,-0.0721 -0.1127428,-0.170264 -0.1127428,-0.270735 0,-0.100474 0.040649,-0.200175 0.1127428,-0.270734 0.071327,-0.07133 0.170264,-0.112741 0.2707351,-0.112741 0.1004714,0 0.2001751,0.04065 0.2707349,0.112741 0.071327,0.07133 0.1127429,0.170264 0.1127429,0.270734 0,0.100474 -0.040649,0.200175 -0.1127429,0.270735 -0.071327,0.07133 -0.1702639,0.11274 -0.2707349,0.11274" />\n    <path\n       d="m 16.894614,15.696329 c -0.04294,0.460939 -0.245425,0.826777 -0.56908,1.032321 -0.182534,0.115045 -0.393448,0.173331 -0.625835,0.173331 -0.592856,0 -1.230962,-0.381943 -1.661223,-0.984003 l -0.134218,-0.20631 c -0.272268,-0.462474 -0.397282,-0.970197 -0.352798,-1.441109 0.04294,-0.460939 0.245425,-0.827543 0.56908,-1.03232 0.182534,-0.115045 0.393448,-0.174099 0.625835,-0.174099 0.635038,0 1.321463,0.437931 1.749423,1.114386 0.304481,0.481647 0.446368,1.020816 0.399583,1.517803 l -7.97e-4,0 z M 8.8500272,12.300254 c -0.2753367,0 -0.6342713,-0.226252 -0.7531492,-0.473978 L 4.7100062,4.7725936 C 4.5849927,4.511829 4.6126031,4.0516562 4.7690617,3.8085316 l 0.2477265,-0.3873121 5.7582958,8.8767335 -1.9258238,0.0023 7.977e-4,0 z m 8.2930808,1.468718 c -0.573683,-0.906541 -1.492493,-1.471786 -2.3975,-1.471786 -0.374275,0 -0.732442,0.101242 -1.036156,0.292976 -0.484715,0.306782 -0.799933,0.811438 -0.900404,1.433438 L 11.80587,12.478187 c -0.0023,-0.0039 -0.0046,-0.0077 -0.0061,-0.01068 L 5.3366082,2.5047087 C 5.2660484,2.395801 5.1448696,2.3298431 5.0152542,2.3298431 l -7.669e-4,0 C 4.884105,2.3306099 4.7629261,2.3965679 4.6923663,2.5070096 L 4.1232859,3.394376 C 3.8218727,3.8652862 3.7766225,4.6000288 4.0189801,5.104685 l 3.3868717,7.054448 c 0.2446586,0.510025 0.8789301,0.908075 1.4449424,0.908075 l 2.4228098,-0.0023 1.977209,3.048644 c 0.01688,0.02837 0.03375,0.05675 0.05138,0.08437 0.573682,0.907307 1.492493,1.471786 2.397499,1.471786 0.374274,0 0.732442,-0.101243 1.035389,-0.292978 0.529199,-0.334391 0.856689,-0.905005 0.922647,-1.607537 0.06213,-0.664948 -0.12041,-1.375916 -0.514627,-2.000217" />\n    <path\n       d="m 12.685028,11.469868 c -0.05599,0 -0.111972,-0.01224 -0.165662,-0.03758 -0.190972,-0.09204 -0.271503,-0.320587 -0.179468,-0.511559 l 2.951241,-6.1479084 c 0.125019,-0.2607647 0.0974,-0.7209374 -0.05905,-0.9640621 L 14.984357,3.4214465 11.47324,8.8338454 c -0.115044,0.1779335 -0.3528,0.2285525 -0.530734,0.1127423 -0.177933,-0.11581 -0.228552,-0.3527991 -0.112741,-0.5307325 l 3.834772,-5.9116865 c 0.07056,-0.108908 0.191739,-0.1748656 0.321354,-0.1748656 l 7.37e-4,0 c 0.130382,7.669e-4 0.251562,0.066725 0.322121,0.1763995 l 0.569081,0.8881336 c 0.301412,0.47091 0.346662,1.2056527 0.104302,1.7103088 l -2.951241,6.147908 c -0.06596,0.137285 -0.203241,0.217815 -0.345894,0.217815" />\n    <path\n       d="m 4.3012931,16.902208 c -0.2323873,0 -0.4432999,-0.05828 -0.625835,-0.174099 C 3.3518032,16.523333 3.1493272,16.157495 3.1063777,15.696555 3.059594,15.198802 3.2014803,14.6604 3.5059611,14.178753 c 0.4279607,-0.677222 1.1143851,-1.114385 1.7494236,-1.114385 0.2323872,0 0.4432998,0.05828 0.6258349,0.174097 0.3236549,0.204778 0.5261309,0.570615 0.5690804,1.031555 0.044483,0.47091 -0.081297,0.979402 -0.3527992,1.440341 l -0.134217,0.207077 C 5.5330222,16.519498 4.8949159,16.901441 4.30206,16.901441 l -7.669e-4,7.37e-4 z m 3.430588,-3.005695 c -0.1779335,-0.115045 -0.4149223,-0.06443 -0.5307325,0.11274 l -0.00997,0.01534 C 7.0907071,13.401827 6.7754888,12.897172 6.2907735,12.591156 5.9878263,12.399418 5.6296585,12.298179 5.2546177,12.298179 c -0.9050064,0 -1.8238182,0.563712 -2.3975002,1.471787 -0.3942147,0.623533 -0.5775168,1.333733 -0.5146266,1.99945 0.065958,0.702531 0.3934477,1.273144 0.9226465,1.608304 0.302947,0.191739 0.6611149,0.292977 1.0353888,0.292977 0.9050064,0 1.823818,-0.563711 2.3975001,-1.471786 0.01764,-0.02761 0.034513,-0.05599 0.051385,-0.08437 l 1.0944443,-1.6873 c 0.1150442,-0.17793 0.064424,-0.414919 -0.1127424,-0.53073 l 7.669e-4,0 z" />\n  </g>\n</svg>\n',select:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 20 20">\n<path d="M17 8c-0.412 0-0.794 0.125-1.113 0.339-0.274-0.779-1.016-1.339-1.887-1.339-0.412 0-0.794 0.125-1.113 0.339-0.274-0.779-1.016-1.339-1.887-1.339-0.364 0-0.706 0.098-1 0.269v-3.269c0-1.103-0.897-2-2-2s-2 0.897-2 2v7.373l-1.346-2.333c-0.261-0.475-0.687-0.813-1.199-0.953-0.499-0.136-1.018-0.064-1.462 0.202-0.907 0.544-1.253 1.774-0.77 2.742 0.030 0.061 0.668 1.368 2.66 5.35 0.938 1.875 1.967 3.216 3.059 3.984 0.857 0.603 1.449 0.634 1.559 0.634h5c0.848 0 1.632-0.245 2.331-0.73 0.676-0.468 1.259-1.152 1.734-2.033 0.939-1.743 1.435-4.246 1.435-7.237 0-1.103-0.897-2-2-2zM16.685 16.763c-0.549 1.021-1.548 2.237-3.185 2.237h-4.99c-0.039-0.003-0.46-0.050-1.095-0.525-0.633-0.474-1.605-1.472-2.638-3.54-2.027-4.054-2.65-5.331-2.656-5.343-0.001-0.002-0.001-0.003-0.002-0.004-0.251-0.503-0.073-1.162 0.389-1.439 0.208-0.125 0.451-0.158 0.685-0.095 0.249 0.068 0.458 0.236 0.587 0.472 0.002 0.003 0.004 0.007 0.006 0.010l1.561 2.705c0.319 0.583 0.678 0.828 1.067 0.729 0.39-0.099 0.587-0.489 0.587-1.157v-7.812c0-0.551 0.449-1 1-1s1 0.449 1 1v6.5c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-1.5c0-0.551 0.449-1 1-1s1 0.449 1 1v1.5c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-0.5c0-0.551 0.449-1 1-1s1 0.449 1 1v1.5c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-0.5c0-0.551 0.449-1 1-1s1 0.449 1 1c0 2.826-0.455 5.165-1.315 6.763z" fill="#000000"></path>\n</svg>\n',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M13.5 9c-1.378 0-2.5-1.122-2.5-2.5s1.122-2.5 2.5-2.5 2.5 1.122 2.5 2.5-1.122 2.5-2.5 2.5zM13.5 5c-0.827 0-1.5 0.673-1.5 1.5s0.673 1.5 1.5 1.5 1.5-0.673 1.5-1.5-0.673-1.5-1.5-1.5z" />\n    <path d="M18.5 0h-17c-0.827 0-1.5 0.673-1.5 1.5v17c0 0.827 0.673 1.5 1.5 1.5h17c0.827 0 1.5-0.673 1.5-1.5v-17c0-0.827-0.673-1.5-1.5-1.5zM1 18.5v-4.807l4.197-4.617c0.085-0.093 0.196-0.145 0.314-0.147s0.231 0.048 0.318 0.139l9.5 9.932h-13.83c-0.276 0-0.5-0.224-0.5-0.5zM19 18.5c0 0.276-0.224 0.5-0.5 0.5h-1.786l-10.161-10.623c-0.281-0.294-0.655-0.452-1.053-0.447s-0.768 0.173-1.042 0.474l-3.457 3.803v-10.707c0-0.276 0.224-0.5 0.5-0.5h17c0.276 0 0.5 0.224 0.5 0.5v17z" />\n</svg>\n',presentation:'<svg xmlns="http://www.w3.org/2000/svg"  width="20" height="20" viewBox="0 0 20 20">\n    <path d="M17.5 20h-16c-0.827 0-1.5-0.673-1.5-1.5v-16c0-0.827 0.673-1.5 1.5-1.5h16c0.827 0 1.5 0.673 1.5 1.5v16c0 0.827-0.673 1.5-1.5 1.5zM1.5 2c-0.276 0-0.5 0.224-0.5 0.5v16c0 0.276 0.224 0.5 0.5 0.5h16c0.276 0 0.5-0.224 0.5-0.5v-16c0-0.276-0.224-0.5-0.5-0.5h-16z" fill="#000000"></path>\n    <path d="M6.5 17h-2c-0.276 0-0.5-0.224-0.5-0.5v-9c0-0.276 0.224-0.5 0.5-0.5h2c0.276 0 0.5 0.224 0.5 0.5v9c0 0.276-0.224 0.5-0.5 0.5zM5 16h1v-8h-1v8z" fill="#000000"></path>\n    <path d="M10.5 17h-2c-0.276 0-0.5-0.224-0.5-0.5v-12c0-0.276 0.224-0.5 0.5-0.5h2c0.276 0 0.5 0.224 0.5 0.5v12c0 0.276-0.224 0.5-0.5 0.5zM9 16h1v-11h-1v11z" fill="#000000"></path>\n    <path d="M14.5 17h-2c-0.276 0-0.5-0.224-0.5-0.5v-5c0-0.276 0.224-0.5 0.5-0.5h2c0.276 0 0.5 0.224 0.5 0.5v5c0 0.276-0.224 0.5-0.5 0.5zM13 16h1v-4h-1v4z" fill="#000000"></path>\n</svg>\n',postit:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 20 20">\n<path d="M17.854 5.646l-4.5-4.5c-0.094-0.094-0.221-0.146-0.354-0.146h-9.5c-0.827 0-1.5 0.673-1.5 1.5v16c0 0.827 0.673 1.5 1.5 1.5h13c0.827 0 1.5-0.673 1.5-1.5v-12.5c0-0.133-0.053-0.26-0.146-0.354zM16.793 6h-3.293c-0.276 0-0.5-0.224-0.5-0.5v-3.293l3.793 3.793zM17 18.5c0 0.276-0.224 0.5-0.5 0.5h-13c-0.276 0-0.5-0.224-0.5-0.5v-16c0-0.276 0.224-0.5 0.5-0.5h8.5v3.5c0 0.827 0.673 1.5 1.5 1.5h3.5v11.5z" fill="#000000"></path>\n</svg>\n',ok:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n    <path d="M5.5 17.5c-0.128 0-0.256-0.049-0.354-0.146l-5-5c-0.195-0.195-0.195-0.512 0-0.707s0.512-0.195 0.707 0l4.646 4.646 13.646-13.646c0.195-0.195 0.512-0.195 0.707 0s0.195 0.512 0 0.707l-14 14c-0.098 0.098-0.226 0.146-0.354 0.146z" />\n</svg>\n',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19.104 0.896c-0.562-0.562-1.309-0.871-2.104-0.871s-1.542 0.309-2.104 0.871l-12.75 12.75c-0.052 0.052-0.091 0.114-0.116 0.183l-2 5.5c-0.066 0.183-0.021 0.387 0.116 0.524 0.095 0.095 0.223 0.146 0.354 0.146 0.057 0 0.115-0.010 0.171-0.030l5.5-2c0.069-0.025 0.131-0.065 0.183-0.116l12.75-12.75c0.562-0.562 0.871-1.309 0.871-2.104s-0.309-1.542-0.871-2.104zM5.725 17.068l-4.389 1.596 1.596-4.389 11.068-11.068 2.793 2.793-11.068 11.068zM18.396 4.396l-0.896 0.896-2.793-2.793 0.896-0.896c0.373-0.373 0.869-0.578 1.396-0.578s1.023 0.205 1.396 0.578c0.373 0.373 0.578 0.869 0.578 1.396s-0.205 1.023-0.578 1.396z"/>\n</svg>\n',marker:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n    <path d="M19.854 9.646c-0.195-0.195-0.512-0.195-0.707 0l-3.586 3.586c-0.585 0.585-1.537 0.585-2.121 0l-4.672-4.672c-0.282-0.282-0.437-0.658-0.437-1.061s0.155-0.779 0.437-1.061l3.586-3.586c0.195-0.195 0.195-0.512 0-0.707s-0.512-0.195-0.707 0l-3.586 3.586c-0.471 0.471-0.73 1.098-0.73 1.768 0 0.285 0.048 0.563 0.138 0.824l-7.322 7.322c-0.094 0.094-0.146 0.221-0.146 0.354v1.5c0 0.276 0.224 0.5 0.5 0.5h9.5c0.133 0 0.26-0.053 0.354-0.146l3.322-3.322c0.261 0.091 0.539 0.138 0.824 0.138 0.669 0 1.297-0.259 1.768-0.73l3.586-3.586c0.195-0.195 0.195-0.512 0-0.707zM9.793 17h-8.793v-0.793l7.002-7.002c0.020 0.021 0.039 0.042 0.059 0.062l4.672 4.672c0.020 0.020 0.041 0.040 0.062 0.059l-3.002 3.002z" />\n</svg>\n',rectangle:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M1.5 0C.67 0 0 .67 0 1.5v17c0 .83.67 1.5 1.5 1.5h17c.83 0 1.5-.67 1.5-1.5v-17c0-.83-.67-1.5-1.5-1.5h-17zM2 1h16c.554 0 1 .446 1 1v16c0 .554-.446 1-1 1H2c-.554 0-1-.446-1-1V2c0-.554.446-1 1-1z" fill-rule="evenodd"/></svg>',rectangleFilled:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M1.5 0C.67 0 0 .67 0 1.5v17c0 .83.67 1.5 1.5 1.5h17c.83 0 1.5-.67 1.5-1.5v-17c0-.83-.67-1.5-1.5-1.5h-17zM2 1h16c.554 0 1 .446 1 1v16c0 .554-.446 1-1 1H2c-.554 0-1-.446-1-1V2c0-.554.446-1 1-1z" fill-rule="evenodd"/><path d="m 2.0000003,0.9999992 15.9999997,0 c 0.554,0 1,0.4460001 1,1.0000001 l 0,16.0000017 c 0,0.554 -0.446,1 -1,1 l -15.9999997,0 c -0.554,0 -1,-0.446 -1,-1 l 0,-16.0000017 c 0,-0.554 0.446,-1.0000001 1,-1.0000001 z" opacity=".3" fill-rule="evenodd"/></svg>',ellipse:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M 10 0 A 10 10 0 0 0 0 10 A 10 10 0 0 0 10 20 A 10 10 0 0 0 20 10 A 10 10 0 0 0 10 0 z M 10 1 A 9 9 0 0 1 19 10 A 9 9 0 0 1 10 19 A 9 9 0 0 1 1 10 A 9 9 0 0 1 10 1 z" fill-rule="evenodd"/></svg>',ellipseFilled:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M 10 0 A 10 10 0 0 0 0 10 A 10 10 0 0 0 10 20 A 10 10 0 0 0 20 10 A 10 10 0 0 0 10 0 z M 10 1 A 9 9 0 0 1 19 10 A 9 9 0 0 1 10 19 A 9 9 0 0 1 1 10 A 9 9 0 0 1 10 1 z" fill-rule="evenodd"/><path d="M 10,1.0000005 A 9,9 0 0 1 19,10.000001 9,9 0 0 1 10,19 9,9 0 0 1 0.9999999,10.000001 9,9 0 0 1 10,1.0000005 Z" opacity=".3" fill-rule="evenodd"/></svg>',lineStraight:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 21.999999 21.999999"><path d="m 20.449015,17.483493 -18.7500091,0 c -0.34375,0 -0.6250001,-0.2813 -0.6250001,-0.624999 0,-0.343801 0.2812501,-0.625001 0.6250001,-0.625001 l 18.7500091,0 c 0.34375,0 0.625,0.2812 0.625,0.625001 0,0.343699 -0.28125,0.624999 -0.625,0.624999"/><path d="M 17.383518,2.0332412 3.8674663,20.812601 c -0.247795,0.344288 -0.678849,0.461654 -0.957809,0.260879 -0.279042,-0.200835 -0.304534,-0.646791 -0.05674,-0.991079 L 16.368969,1.3030413 c 0.247795,-0.34428819 0.678768,-0.46171289 0.95781,-0.2608782 0.27896,0.2007752 0.304533,0.6467899 0.05674,0.9910781"/></svg>',mark:'<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24.999999 24.999999"><path d="M12.499999.625c-.34375 0-.625.2799999-.625.6249999l0 4.9999994c0 .345.28125.625.625.625.34375 0 .625-.28.625-.625l0-4.9999994c0-.345-.28125-.6249999-.625-.6249999M12.499999 18.124998c-.34375 0-.625.28-.625.625l0 4.999999c0 .345.28125.625.625.625.34375 0 .625-.28.625-.625l0-4.999999c0-.345-.28125-.625-.625-.625M6.8749994 12.499999c0-.345-.28125-.625-.625-.625l-4.9999994 0c-.34374994 0-.62499991.28-.62499991.625 0 .345.28124997.625.62499991.625l4.9999994 0c.34375 0 .625-.28.625-.625M23.749997 11.874999l-4.999999 0c-.34375 0-.625.28-.625.625 0 .345.28125.625.625.625l4.999999 0c.34375 0 .625-.28.625-.625 0-.345-.28125-.625-.625-.625M20.887378 10.624999c-.27 0-.5175-.175-.59875-.44625-.78375-2.6387498-2.82875-4.6824996-5.4675-5.4674995-.33125-.09875-.52-.4462499-.42125-.7774999.0975-.33125.44625-.5187499.77875-.4212499 1.4825.4412499 2.84875 1.2574998 3.95 2.3574997 1.10125 1.0999998 1.91625 2.4674997 2.3575 3.9512497.09875.3312499-.09.6787499-.42125.7774999-.05875.0175-.12.02625-.17875.02625l.0012 0zM14.999998 21.512378c-.27 0-.5175-.175-.59875-.44625-.1-.33125.09-.67875.42-.7775 2.63875-.785 4.68375-2.82875 5.46875-5.4675.09875-.33125.44625-.51875.7775-.42125.33125.0975.52.44625.42125.7775-.44125 1.48375-1.25625 2.85-2.3575 3.95125-1.1 1.10125-2.46625 1.91625-3.95 2.3575-.06125.0175-.12125.02625-.18.02625l-.0013 0zM9.999999 21.512378c-.05875 0-.12-.0087-.17875-.02625-1.4837498-.44125-2.8499997-1.25625-3.9524995-2.3575-1.1012499-1.10125-1.9149998-2.46625-2.3549997-3.95125-.10125-.33125.08875-.67875.4187499-.7775.3325-.09875.6787499.09.7799999.42125.7824999 2.6375 2.8274997 4.68125 5.4662494 5.46625.33125.09875.52.44625.42125.7775-.08125.27125-.33.4475-.59875.4475l-.00125 0zM4.1124997 10.624999c-.05875 0-.11875-.0088-.18-.02625-.33-.09875-.5174999-.44625-.4187499-.7774999C3.9537497 8.3374991 4.7699996 6.9712492 5.8687495 5.8699994 6.9699993 4.7687495 8.3362492 3.9537496 9.821249 3.5124997c.33125-.09875.67875.09.77625.4212499.10125.33125-.08875.6787499-.41875.7774999-2.6387497.7849999-4.6837495 2.8287497-5.4674994 5.4674995-.08125.27125-.3299999.4475-.5987499.4475l0-.0013z"/></svg>',resize:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n    <path d="M19.5 0h-5c-0.276 0-0.5 0.224-0.5 0.5s0.224 0.5 0.5 0.5h3.793l-6.146 6.146c-0.195 0.195-0.195 0.512 0 0.707 0.098 0.098 0.226 0.146 0.353 0.146s0.256-0.049 0.353-0.146l6.147-6.146v3.793c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-5c0-0.276-0.224-0.5-0.5-0.5z" />\n    <path d="M7.854 12.147c-0.195-0.195-0.512-0.195-0.707 0l-6.146 6.146v-3.793c0-0.276-0.224-0.5-0.5-0.5s-0.5 0.224-0.5 0.5v5c0 0.276 0.224 0.5 0.5 0.5h5c0.276 0 0.5-0.224 0.5-0.5s-0.224-0.5-0.5-0.5h-3.793l6.146-6.147c0.195-0.195 0.195-0.512 0-0.707z" />\n</svg>\n',rotate:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n    <path d="M2.49 4.49c1.605-1.605 3.74-2.49 6.010-2.49s4.405 0.884 6.010 2.49 2.49 3.74 2.49 6.010v1.293l2.146-2.146c0.195-0.195 0.512-0.195 0.707 0s0.195 0.512 0 0.707l-3 3c-0.098 0.098-0.226 0.146-0.354 0.146s-0.256-0.049-0.354-0.146l-3-3c-0.195-0.195-0.195-0.512 0-0.707s0.512-0.195 0.707 0l2.146 2.146v-1.293c0-4.136-3.364-7.5-7.5-7.5s-7.5 3.364-7.5 7.5c0 4.136 3.364 7.5 7.5 7.5 0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5c-2.27 0-4.405-0.884-6.010-2.49s-2.49-3.74-2.49-6.010c0-2.27 0.884-4.405 2.49-6.010z" />\n</svg>\n',settings:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M10 12c-0.066 0-0.132-0.013-0.194-0.039l-9.5-4c-0.185-0.078-0.306-0.26-0.306-0.461s0.121-0.383 0.306-0.461l9.5-4c0.124-0.052 0.264-0.052 0.388 0l9.5 4c0.185 0.078 0.306 0.26 0.306 0.461s-0.121 0.383-0.306 0.461l-9.5 4c-0.062 0.026-0.128 0.039-0.194 0.039zM1.788 7.5l8.212 3.457 8.212-3.457-8.212-3.457-8.212 3.457z" />\n    <path d="M10 15c-0.066 0-0.132-0.013-0.194-0.039l-9.5-4c-0.254-0.107-0.374-0.4-0.267-0.655s0.4-0.374 0.655-0.267l9.306 3.918 9.306-3.918c0.254-0.107 0.548 0.012 0.655 0.267s-0.012 0.548-0.267 0.655l-9.5 4c-0.062 0.026-0.128 0.039-0.194 0.039z" />\n    <path d="M10 18c-0.066 0-0.132-0.013-0.194-0.039l-9.5-4c-0.254-0.107-0.374-0.4-0.267-0.655s0.4-0.374 0.655-0.267l9.306 3.918 9.306-3.918c0.254-0.107 0.548 0.012 0.655 0.267s-0.012 0.548-0.267 0.655l-9.5 4c-0.062 0.026-0.128 0.039-0.194 0.039z" />\n</svg>\n',invite:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="share">\n    <path d="M18.5,20 L7.5,20 C6.673,20 6,19.327 6,18.5 C6,18.452 6.011,17.31 6.924,16.185 C7.449,15.539 8.165,15.027 9.052,14.663 C10.123,14.223 11.452,14.001 13,14.001 C14.548,14.001 15.876,14.224 16.948,14.663 C17.835,15.027 18.551,15.539 19.076,16.185 C19.99,17.31 20,18.452 20,18.5 C20,19.327 19.327,20 18.5,20 L18.5,20 Z M7,18.503 C7.001,18.778 7.225,19 7.5,19 L18.5,19 C18.775,19 18.999,18.777 19,18.503 C18.999,18.468 18.968,17.608 18.261,16.769 C17.287,15.612 15.468,15.001 13,15.001 C10.532,15.001 8.713,15.613 7.739,16.769 C7.032,17.609 7.001,18.468 7,18.503 L7,18.503 Z" />\n    <path d="M13,13 C10.794,13 9,11.206 9,9 C9,6.794 10.794,5 13,5 C15.206,5 17,6.794 17,9 C17,11.206 15.206,13 13,13 L13,13 Z M13,6 C11.346,6 10,7.346 10,9 C10,10.654 11.346,12 13,12 C14.654,12 16,10.654 16,9 C16,7.346 14.654,6 13,6 L13,6 Z" />\n    <path d="M4.5,20 L1.5,20 C0.673,20 0,19.327 0,18.5 C0,18.463 0.008,17.573 0.663,16.7 C1.041,16.195 1.557,15.796 2.196,15.512 C2.96,15.172 3.904,15 5.001,15 C5.18,15 5.357,15.005 5.528,15.014 C5.804,15.029 6.015,15.264 6.001,15.54 C5.987,15.816 5.751,16.028 5.475,16.013 C5.322,16.005 5.163,16.001 5.002,16.001 C1.108,16.001 1.005,18.38 1.002,18.504 C1.003,18.778 1.227,19.001 1.502,19.001 L4.502,19.001 C4.778,19.001 5.002,19.225 5.002,19.501 C5.002,19.777 4.778,20.001 4.502,20.001 L4.5,20 Z" />\n    <path d="M5,14 C3.346,14 2,12.654 2,11 C2,9.346 3.346,8 5,8 C6.654,8 8,9.346 8,11 C8,12.654 6.654,14 5,14 L5,14 Z M5,9 C3.897,9 3,9.897 3,11 C3,12.103 3.897,13 5,13 C6.103,13 7,12.103 7,11 C7,9.897 6.103,9 5,9 L5,9 Z" />\n    <g id="add" transform="translate(17.000000, 0.000000)">\n        <path d="M4.5,9 C2.01825,9 0,6.98175 0,4.5 C0,2.01825 2.01825,0 4.5,0 C6.98175,0 9,2.01825 9,4.5 C9,6.98175 6.98175,9 4.5,9 L4.5,9 Z M4.5,1 C2.57033333,1 1,2.57033333 1,4.5 C1,6.42966667 2.57033333,8 4.5,8 C6.42966667,8 8,6.42966667 8,4.5 C8,2.57033333 6.42966667,1 4.5,1 L4.5,1 Z" />\n        <path d="M4,4 L4,2.5 L4,2 L5,2 L5,2.5 L5,4 L6.5,4 L7,4 L7,5 L6.5,5 L5,5 L5,6.5 L5,7 L4,7 L4,6.5 L4,5 L2.5,5 L2,5 L2,4 L2.5,4 L4,4 Z" />\n    </g>\n</svg>\n',share:'<svg\n   xmlns="http://www.w3.org/2000/svg"\n   viewBox="0 0 20 20">\n  <path\n     d="m 16,19 c -1.654,0 -3,-1.346 -3,-3 0,-1.654 1.346,-3 3,-3 1.654,0 3,1.346 3,3 0,1.654 -1.346,3 -3,3 M 4.0000003,13 c -1.654,0 -3.0000001,-1.345999 -3.0000001,-3 0,-1.6539999 1.3460001,-2.9999999 3.0000001,-2.9999999 1.654,0 2.9999999,1.3460001 2.9999999,2.9999999 0,1.654001 -1.3459999,3 -2.9999999,3 M 16,1.0000001 c 1.654,0 3,1.346 3,3.0000001 0,1.6539999 -1.346,2.9999999 -3,2.9999999 -1.654,0 -3,-1.3459999 -3,-2.9999999 0,-1.6540001 1.346,-3.0000001 3,-3.0000001 M 16,12 c -1.384,0 -2.606,0.707 -3.325,1.779 L 7.7730003,11.328 C 7.9200002,10.912 8.0000002,10.466 8.0000002,10 c 0,-0.4659999 -0.08,-0.9119999 -0.2269999,-1.328 L 12.675,6.2210002 c 0.718,1.0719999 1.941,1.7789999 3.325,1.7789999 2.206,0 4,-1.794 4,-3.9999999 C 20,1.7940001 18.206,1.5715776e-7 16,1.5715776e-7 13.794,1.5715776e-7 12,1.7940001 12,4.0000002 c 0,0.465 0.08,0.9119999 0.227,1.3269999 L 7.3250003,7.7780002 c -0.7180001,-1.0720001 -1.9410001,-1.778 -3.325,-1.778 C 1.7940003,6.0000002 2.5254237e-7,7.7940001 2.5254237e-7,10 c 0,2.206 1.79400004745763,4 4.00000004745763,4 1.3839999,0 2.6059999,-0.706999 3.325,-1.778999 L 12.227,14.672 C 12.080001,15.088 12,15.534 12,16 c 0,2.206 1.794,4 4,4 2.206,0 4,-1.794 4,-4 0,-2.206 -1.794,-4 -4,-4"/>\n</svg>\n',size:'<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1664 896q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/>\n</svg>\n',spinner:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path opacity=".25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/><path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"></path></svg>\n',text:'<svg viewBox="0 0 13 15" xmlns="http://www.w3.org/2000/svg">\n<path d="M12.96,14.303 L10.39,8.307 C10.389,8.306 10.389,8.304 10.388,8.303 L6.96,0.303 C6.881,0.119 6.7,1.77635684e-15 6.5,1.77635684e-15 C6.3,1.77635684e-15 6.119,0.119 6.04,0.303 L2.612,8.303 C2.611,8.305 2.611,8.306 2.61,8.308 L0.04,14.304 C-0.069,14.558 0.049,14.852 0.303,14.961 C0.557,15.07 0.851,14.952 0.96,14.698 L3.402,9.001 L9.6,9.001 L12.042,14.698 C12.123,14.888 12.308,15.001 12.502,15.001 C12.568,15.001 12.635,14.988 12.699,14.96 C12.953,14.851 13.07,14.557 12.962,14.303 L12.96,14.303 Z M3.83,8 L6.5,1.769 L9.17,8 L3.829,8 L3.83,8 Z" />\n</svg>\n',trash:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M15.5 2h-3.5v-0.5c0-0.827-0.673-1.5-1.5-1.5h-2c-0.827 0-1.5 0.673-1.5 1.5v0.5h-3.5c-0.827 0-1.5 0.673-1.5 1.5v1c0 0.652 0.418 1.208 1 1.414v12.586c0 0.827 0.673 1.5 1.5 1.5h10c0.827 0 1.5-0.673 1.5-1.5v-12.586c0.582-0.206 1-0.762 1-1.414v-1c0-0.827-0.673-1.5-1.5-1.5zM8 1.5c0-0.276 0.224-0.5 0.5-0.5h2c0.276 0 0.5 0.224 0.5 0.5v0.5h-3v-0.5zM14.5 19h-10c-0.276 0-0.5-0.224-0.5-0.5v-12.5h11v12.5c0 0.276-0.224 0.5-0.5 0.5zM16 4.5c0 0.276-0.224 0.5-0.5 0.5h-12c-0.276 0-0.5-0.224-0.5-0.5v-1c0-0.276 0.224-0.5 0.5-0.5h12c0.276 0 0.5 0.224 0.5 0.5v1z" />\n    <path d="M12.5 7c-0.276 0-0.5 0.224-0.5 0.5v10c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-10c0-0.276-0.224-0.5-0.5-0.5z" />\n    <path d="M9.5 7c-0.276 0-0.5 0.224-0.5 0.5v10c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-10c0-0.276-0.224-0.5-0.5-0.5z" />\n    <path d="M6.5 7c-0.276 0-0.5 0.224-0.5 0.5v10c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-10c0-0.276-0.224-0.5-0.5-0.5z" />\n</svg>\n',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\n    <path d="M17.51 4.49c-1.605-1.605-3.74-2.49-6.010-2.49s-4.405 0.884-6.010 2.49-2.49 3.74-2.49 6.010v1.293l-2.146-2.146c-0.195-0.195-0.512-0.195-0.707 0s-0.195 0.512 0 0.707l3 3c0.098 0.098 0.226 0.146 0.354 0.146s0.256-0.049 0.354-0.146l3-3c0.195-0.195 0.195-0.512 0-0.707s-0.512-0.195-0.707 0l-2.146 2.146v-1.293c0-4.136 3.364-7.5 7.5-7.5s7.5 3.364 7.5 7.5-3.364 7.5-7.5 7.5c-0.276 0-0.5 0.224-0.5 0.5s0.224 0.5 0.5 0.5c2.27 0 4.405-0.884 6.010-2.49s2.49-3.74 2.49-6.010c0-2.27-0.884-4.405-2.49-6.010z" />\n</svg>\n',pan:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 20 20">\n<path d="M17 4c-0.364 0-0.706 0.098-1 0.269v-1.269c0-1.103-0.897-2-2-2-0.412 0-0.794 0.125-1.113 0.339-0.274-0.779-1.016-1.339-1.887-1.339s-1.614 0.56-1.887 1.339c-0.318-0.214-0.701-0.339-1.113-0.339-1.103 0-2 0.897-2 2v7.373l-1.346-2.333c-0.261-0.475-0.687-0.813-1.199-0.953-0.499-0.136-1.018-0.064-1.462 0.202-0.907 0.544-1.253 1.774-0.77 2.742 0.030 0.061 0.668 1.368 2.66 5.35 0.938 1.875 1.967 3.216 3.059 3.984 0.857 0.603 1.449 0.634 1.559 0.634h5c0.851 0 1.642-0.277 2.352-0.822 0.667-0.513 1.246-1.255 1.72-2.204 0.934-1.868 1.428-4.452 1.428-7.474v-3.5c0-1.103-0.897-2-2-2zM18 9.5c0 2.867-0.457 5.296-1.322 7.026-0.564 1.128-1.574 2.474-3.178 2.474h-4.99c-0.039-0.003-0.46-0.050-1.095-0.525-0.633-0.474-1.605-1.472-2.638-3.54-2.027-4.054-2.65-5.331-2.656-5.343-0.001-0.002-0.001-0.003-0.002-0.004-0.251-0.503-0.073-1.162 0.389-1.439 0.208-0.125 0.451-0.158 0.685-0.095 0.249 0.068 0.458 0.236 0.587 0.472 0.002 0.003 0.004 0.007 0.006 0.010l1.561 2.705c0.319 0.583 0.678 0.828 1.067 0.729 0.39-0.099 0.587-0.489 0.587-1.157v-7.813c0-0.551 0.449-1 1-1s1 0.449 1 1v6.5c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-7.5c0-0.551 0.449-1 1-1s1 0.449 1 1v7.5c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-6.5c0-0.551 0.449-1 1-1s1 0.449 1 1v7.5c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-4.5c0-0.551 0.449-1 1-1s1 0.449 1 1v3.5z" fill="#000000"></path>\n</svg>\n',colors:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">\n  <g\n     transform="matrix(0.80002,0,0,0.80002,-17.551537,-7.5151871)">\n    <path\n       d="m 30.116525,16.577765 c -0.345,0 -0.625,0.28 -0.625,0.625 0,0.345 0.28,0.625 0.625,0.625 0.345,0 0.625,-0.28 0.625,-0.625 0,-0.345 -0.28,-0.625 -0.625,-0.625 m 0,2.5 c -1.03375,0 -1.875,-0.84125 -1.875,-1.875 0,-1.03375 0.84125,-1.875 1.875,-1.875 1.03375,0 1.875,0.84125 1.875,1.875 0,1.03375 -0.84125,1.875 -1.875,1.875" />\n    <path\n       d="m 26.366525,20.327765 c -0.345,0 -0.625,0.28 -0.625,0.625 0,0.345 0.28,0.625 0.625,0.625 0.345,0 0.625,-0.28 0.625,-0.625 0,-0.345 -0.28,-0.625 -0.625,-0.625 m 0,2.5 c -1.03375,0 -1.875,-0.84125 -1.875,-1.875 0,-1.03375 0.84125,-1.875 1.875,-1.875 1.03375,0 1.875,0.84125 1.875,1.875 0,1.03375 -0.84125,1.875 -1.875,1.875" />\n    <path\n       d="m 35.116525,15.327765 c -0.345,0 -0.625,0.28 -0.625,0.625 0,0.345 0.28,0.625 0.625,0.625 0.345,0 0.625,-0.28 0.625,-0.625 0,-0.345 -0.28,-0.625 -0.625,-0.625 m 0,2.5 c -1.03375,0 -1.875,-0.84125 -1.875,-1.875 0,-1.03375 0.84125,-1.875 1.875,-1.875 1.03375,0 1.875,0.84125 1.875,1.875 0,1.03375 -0.84125,1.875 -1.875,1.875" />\n    <path\n       d="m 34.491525,12.827765 c -6.20375,0 -11.25,4.205 -11.25,9.375 0,5.17 5.04625,9.375 11.25,9.375 1.7075,0 3.0925,-0.19875 4.11625,-0.59125 0.81125,-0.31125 1.39625,-0.745 1.7375,-1.29 0.76375,-1.22 0.255,-2.855 -0.30625,-4.0125 -1.2,-2.475 -0.07875,-3.49125 0.46,-3.81375 0.3225,-0.1925 0.66375,-0.29125 1.01625,-0.29125 0.5725,0 1.4275,0.26625 2.25125,1.5325 0.47125,0.72375 0.9575,0.98125 1.23,0.98125 0.44625,0 0.74625,-0.76 0.74625,-1.89 0,-5.17 -5.04625,-9.375 -11.25,-9.375 l -0.0012,0 z m 0,20 c -3.31875,0 -6.44375,-1.0925 -8.8,-3.07625 -1.15625,-0.97375 -2.065,-2.10875 -2.70125,-3.37625 -0.66375,-1.32125 -1,-2.725 -1,-4.1725 0,-1.4475 0.33625,-2.8525 1,-4.1725 0.63625,-1.2675 1.545,-2.4025 2.70125,-3.37625 2.355,-1.98375 5.48,-3.07625 8.8,-3.07625 3.32,0 6.44375,1.0925 8.8,3.07625 1.15625,0.97375 2.065,2.10875 2.70125,3.37625 0.66375,1.32125 1,2.725 1,4.1725 0,2.315 -1.03125,3.14 -1.99625,3.14 -0.80625,0 -1.63625,-0.565 -2.2775,-1.54875 -0.405,-0.62125 -0.8325,-0.96375 -1.20375,-0.96375 -0.12375,0 -0.24625,0.0375 -0.37375,0.11375 -0.7025,0.42 -0.2875,1.55625 0.0225,2.195 1.0025,2.0675 1.085,3.8725 0.24,5.2225 -1.025,1.6375 -3.35125,2.4675 -6.9125,2.4675 l 0,-0.0012 z" />\n    <path\n       d="m 35.741525,25.327765 c -0.68875,0 -1.25,0.56125 -1.25,1.25 0,0.68875 0.56125,1.25 1.25,1.25 0.68875,0 1.25,-0.56125 1.25,-1.25 0,-0.68875 -0.56125,-1.25 -1.25,-1.25 m 0,3.75 c -1.37875,0 -2.5,-1.12125 -2.5,-2.5 0,-1.37875 1.12125,-2.5 2.5,-2.5 1.37875,0 2.5,1.12125 2.5,2.5 0,1.37875 -1.12125,2.5 -2.5,2.5" />\n  </g>\n</svg>\n',arrowLeft:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 20 20">\n  <path d="M14 20c0.128 0 0.256-0.049 0.354-0.146 0.195-0.195 0.195-0.512 0-0.707l-8.646-8.646 8.646-8.646c0.195-0.195 0.195-0.512 0-0.707s-0.512-0.195-0.707 0l-9 9c-0.195 0.195-0.195 0.512 0 0.707l9 9c0.098 0.098 0.226 0.146 0.354 0.146z" fill="#ffffff"></path>\n</svg>\n',arrowRight:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 20 20">\n  <path d="M5 20c-0.128 0-0.256-0.049-0.354-0.146-0.195-0.195-0.195-0.512 0-0.707l8.646-8.646-8.646-8.646c-0.195-0.195-0.195-0.512 0-0.707s0.512-0.195 0.707 0l9 9c0.195 0.195 0.195 0.512 0 0.707l-9 9c-0.098 0.098-0.226 0.146-0.354 0.146z" fill="#ffffff"></path>\n</svg>\n',plus:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20" height="20" viewBox="0 0 20 20">\n  <path d="M18.5 10h-8.5v-8.5c0-0.276-0.224-0.5-0.5-0.5s-0.5 0.224-0.5 0.5v8.5h-8.5c-0.276 0-0.5 0.224-0.5 0.5s0.224 0.5 0.5 0.5h8.5v8.5c0 0.276 0.224 0.5 0.5 0.5s0.5-0.224 0.5-0.5v-8.5h8.5c0.276 0 0.5-0.224 0.5-0.5s-0.224-0.5-0.5-0.5z" fill="#ffffff"></path>\n</svg>\n'},i='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\r\n	<path d="M11.5 7c-0.276 0-0.5-0.224-0.5-0.5 0-1.378-1.122-2.5-2.5-2.5-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5c1.378 0 2.5-1.122 2.5-2.5 0-0.276 0.224-0.5 0.5-0.5s0.5 0.224 0.5 0.5c0 1.378 1.122 2.5 2.5 2.5 0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5c-1.378 0-2.5 1.122-2.5 2.5 0 0.276-0.224 0.5-0.5 0.5zM10.301 3.5c0.49 0.296 0.903 0.708 1.199 1.199 0.296-0.49 0.708-0.903 1.199-1.199-0.49-0.296-0.903-0.708-1.199-1.199-0.296 0.49-0.708 0.903-1.199 1.199z" />\r\n	<path d="M1.5 10c-0.276 0-0.5-0.224-0.5-0.5s-0.224-0.5-0.5-0.5c-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5c0.276 0 0.5-0.224 0.5-0.5s0.224-0.5 0.5-0.5 0.5 0.224 0.5 0.5c0 0.276 0.224 0.5 0.5 0.5s0.5 0.224 0.5 0.5-0.224 0.5-0.5 0.5c-0.276 0-0.5 0.224-0.5 0.5s-0.224 0.5-0.5 0.5z" />\r\n	<path d="M18.147 15.939l-10.586-10.586c-0.283-0.283-0.659-0.438-1.061-0.438s-0.778 0.156-1.061 0.438l-0.586 0.586c-0.283 0.283-0.438 0.659-0.438 1.061s0.156 0.778 0.438 1.061l10.586 10.586c0.283 0.283 0.659 0.438 1.061 0.438s0.778-0.156 1.061-0.438l0.586-0.586c0.283-0.283 0.438-0.659 0.438-1.061s-0.156-0.778-0.438-1.061zM5.561 6.646l0.586-0.586c0.094-0.094 0.219-0.145 0.354-0.145s0.26 0.052 0.354 0.145l1.439 1.439-1.293 1.293-1.439-1.439c-0.195-0.195-0.195-0.512 0-0.707zM17.439 17.354l-0.586 0.586c-0.094 0.094-0.219 0.145-0.353 0.145s-0.26-0.052-0.353-0.145l-8.439-8.439 1.293-1.293 8.439 8.439c0.195 0.195 0.195 0.512 0 0.707z" />\r\n	<path d="M3.5 5c-0.276 0-0.5-0.224-0.5-0.5 0-0.827-0.673-1.5-1.5-1.5-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5c0.827 0 1.5-0.673 1.5-1.5 0-0.276 0.224-0.5 0.5-0.5s0.5 0.224 0.5 0.5c0 0.827 0.673 1.5 1.5 1.5 0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5c-0.827 0-1.5 0.673-1.5 1.5 0 0.276-0.224 0.5-0.5 0.5zM2.998 2.5c0.19 0.143 0.359 0.312 0.502 0.502 0.143-0.19 0.312-0.359 0.502-0.502-0.19-0.143-0.359-0.312-0.502-0.502-0.143 0.19-0.312 0.359-0.502 0.502z" />\r\n	<path d="M3.5 15c-0.276 0-0.5-0.224-0.5-0.5 0-0.827-0.673-1.5-1.5-1.5-0.276 0-0.5-0.224-0.5-0.5s0.224-0.5 0.5-0.5c0.827 0 1.5-0.673 1.5-1.5 0-0.276 0.224-0.5 0.5-0.5s0.5 0.224 0.5 0.5c0 0.827 0.673 1.5 1.5 1.5 0.276 0 0.5 0.224 0.5 0.5s-0.224 0.5-0.5 0.5c-0.827 0-1.5 0.673-1.5 1.5 0 0.276-0.224 0.5-0.5 0.5zM2.998 12.5c0.19 0.143 0.359 0.312 0.502 0.502 0.143-0.19 0.312-0.359 0.502-0.502-0.19-0.143-0.359-0.312-0.502-0.502-0.143 0.19-0.312 0.359-0.502 0.502z" />\r\n</svg>\r\n';
e.exports={icon:function(t){return r[t]||i},elHW:function(t){return n(r[t]||i)},el:function(t){return t=n(r[t]||i),t.removeAttribute("width"),t.removeAttribute("height"),t}}},{}],27:[function(t,e){"use strict";function n(t,e){return function(){t.emit("change-size",{size:e}),t.emit("change-font-size",{size:e})}}function r(t,e){return function(){t.emit("change-color",{color:e})}}function i(t,e){switch(e){case"undo":t.emit("do-undo");break;case"trash":t.emit("do-clear");break;case"share":t.emit("socket-toggle",{autojoin:!0});break;case"save":t.emit("download-picture");break;case"link":t.emit("share-picture")}}var o=t("observable"),a=t("hyperscript"),s=t("../lodash.custom"),c=t("../../../common/config"),u=t("./icon-definitions"),l=t("class-list"),d=t("dom-events"),h=t("component-closest"),p=(t("class-list"),"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),f="https://awwapp.com/".match(location.host),m=document.querySelector(".modal-loading-indicator");e.exports=function(t){function e(){x=y(),s.extend(x,C.menuItems),x=s.mapValues(x,w);var t="#aww-toolbar-window.aww-toolbar"+(p?".aww-is-touch":".aww-not-touch"),e=X.querySelector(t),n=a(t,{onclick:function(){return W.emit("close-menus")}},a(".aww-menu",{onclick:function(t){t.stopPropagation();var e=h(t.target,".aww-menu-item",!0,X);e&&W.emit("menu-item-activated",e),h(t.target,".aww-submenu-indicator",!0,t.currentTarget)||g(),setTimeout(function(){X.click()})}},C.menuOrder.map(function(t){return x[t]})));e&&e.parentNode.removeChild(e),X.appendChild(n),m&&(m.style.display="none"),W.emit("recompute-pagination")}function g(){var t=X.querySelector(".aww-menu-open");return t&&l(t).remove("aww-menu-open"),t}function v(t){var e=X.querySelector(".aww-menu-open"),n=t.currentTarget;W.emit("close-menus"),e!==n&&(h(t.target,".aww-submenu",!0,X)||l(n).add("aww-menu-open"))}function b(t,e){return o.compute([_.isAuthenticated,_.boardCanDo],function(n,r){var i;if(s.isArray(t)){var o=t.filter(function(t){return!r.advancedTools&&s.contains(c.ADVANCED_TOOLS,t)?!1:n||c.AUTH_ONLY[t]?r[t]!==!1?!0:!1:!0}),u=o.length;return i=o.map(function(t){return Z.apply(null,e(t))}),a(".aww-submenu.col-"+u,i)}return i=[],s.forEach(t,function(t){t=t.filter(function(t){return!r.advancedTools&&s.contains(c.ADVANCED_TOOLS,t)?!1:n||c.AUTH_ONLY[t]?r[t]!==!1?!0:!1:!0});for(var o=[];t.length;){var u=t.splice(0,8).map(function(t){return Z.apply(null,e(t))});o.push(u)}o[0]&&7===o[0].length&&_.boardCanDo().advancedTools?(o[0].push(a(".aww-menu-item.is-pro")),i.push(a(".aww-submenu-group.col-"+o[0].length,{style:"border-bottom: 1px solid #7D3BDB"},o[0]))):o.length>0&&s.each(o,function(t){t.length>0&&i.push(a(".aww-submenu-group.col-"+t.length,t))})}),a(".aww-submenu.row-"+i.length,i)})}function y(){var t="";return _.boardCanDo().advancedTools&&(t="is-pro"),{colors:{content:u.el("colors"),style:{background:Y.color},className:"aww-colors",submenu:b(C.colors,function(t){return[{onclick:r(W,t)},a(".aww-color-icon",{style:{background:t}})]}),title:"Change color"},tools:{content:j,className:"aww-tools",submenu:b(C.tools,function(t){return[{onclick:function(e){"undo"===t?W.emit("do-undo"):"trash"===t?(e&&e.stopPropagation(),g(),W.emit("widget-confirm-trash")):"image"===t?(e&&e.stopPropagation(),g(),W.emit("image-picker")):W.emit("change-tool",{tool:t})},title:function(){return"eraserArea"===t?"Erase area":"lineStraight"===t?"Line":"ellipseFilled"===t?"Filled ellipse":"rectangleFilled"===t?"Filled rectangle":"marker"===t?"Highlighter":"trash"===t?"Clear page":"presentation"===t?"PDF/PPT Upload":"postit"===t?"Sticky note":t.charAt(0).toUpperCase()+t.slice(1)}},u.el(t)]}),title:"Tools"},sizes:{content:a("div",{className:F},u.el("size")),className:"aww-sizes",submenu:b(C.sizes,function(t){return[{onclick:n(W,t)},a("div",{className:"aww-tool-size-"+C.sizes.indexOf(t)},u.el("size"))]}),title:"Change size"},utils:{content:u.el("settings"),submenu:b(c.SETTINGS,function(t){return[{onclick:i.bind(null,W,t)},u.el(t)]})},admin:{onclick:function(){return W.emit("widget-login")},style:{display:o.transform(_.boardInfo,function(t){return f?"block":t.isAdmin?"block":"none"})},content:u.el("admin"),title:"Account"},saveload:{onclick:function(){return W.emit("widget-save-load")},content:u.el("settings"),className:"is-pro",style:{display:o.transform(_.boardInfo,function(t){return t.isAdmin?"block":"none"})},title:"Save board"},share:{onclick:function(){W.emit("widget-general")},className:t,content:u.el("invite"),title:"Invite menu"},googleClassroom:{onclick:function(){W.emit("open-google-classroom-dialog"),u.el("invite")},style:{display:o.transform(_.boardCanDo,function(t){return t.enableClassroom&&_.boardInfo().isAdmin?"block":"none"}),padding:"15px"},className:"is-pro google-classroom-toolbar",content:a("img.icon",{src:"https://s3.eu-central-1.amazonaws.com/clubble/test/google-classroom-icon.png"}),title:"Google Classroom"},googleClassroomTurnIn:{onclick:function(){W.emit("turn-in-assignment")},style:{display:o.transform(_.boardInfo,function(t){return!t.classroomAssignmentId||!t.classroomCourseId||t.isAdmin&&t.isBoardAdmin?"none":"block"}),padding:"15px"},className:"turn-in google-classroom-toolbar",content:a("img.icon",{src:"https://s3.eu-central-1.amazonaws.com/clubble/test/google-classroom-icon.png"}),title:"Turn in the assignment"},help:{onclick:function(){W.emit("widget-help")},style:{display:"block",padding:"15px"},content:a("img.icon",{src:"/static/site/images/info-icon.png",style:{width:"80%"}}),title:"Help menu"}}}function w(t){var e=t.submenu,n=t.className||"";if(n.indexOf("aww-menu-item aww-submenu-indicator")<0&&(t.className=n+" aww-menu-item aww-modal-indicator"),e&&(t.onclick=v,n.indexOf("aww-menu-item aww-submenu-indicator")<0&&(t.className=n+" aww-menu-item aww-submenu-indicator"),"function"!=typeof e&&!e.nodeType)){var r=e.length;if(!r)throw new Error("Submenu should be a list");var i=e.map(function(t){var e=t.content;delete t.content;var n=Z(t,e);return t.content=e,n});e=a(".aww-submenu.col-"+r,i)}var o=t.content;delete t.content;var s=Z(t,o,e);return t.content=o,s}var x,W=t.dispatcher,_=t.board,L=t.canvas,C=t.options,X=t.el,I=t.canvasContainer,Y=L.operationState;if(X=C.toolbarEl||X,"string"==typeof X&&(X=document.querySelector(X),!X))throw new Error("Failed to insert toolbar, element not found");d.on(I,"mousedown",function(){return W.emit("close-menus")}),d.on(I,"touchstart",function(){return W.emit("close-menus")});var Z=a.bind(null,".aww-menu-item");W.on("close-menus",g),W.on("update-ui",e);var j=o.transform(Y.activeTool,function(t){return a("div",u.el(t))}),F=o.transform(Y.size,function(t){return"aww-tool-size-"+C.sizes.indexOf(t)});e()}},{"../../../common/config":1,"../lodash.custom":6,"./icon-definitions":26,"class-list":46,"component-closest":48,"dom-events":56,hyperscript:62,observable:68}],28:[function(t,e){"use strict";var n=function(t){var e=t.dispatcher,n=t.board,r=t.canvas,i=e.emit.bind(e),o=r.draw,a=r.canvas,s={_dispatcher:e,doResize:function(){i("do-resize")},doRedraw:function(){i("do-resize")},getCanvas:function(){return r.canvas},getImage:function(){var t=void 0===arguments[0]?"image/png":arguments[0];return a.toDataURL(t)},saveImage:function(){i("picture")},postImage:function(){},doDrawLine:function(t,e,n,r,a,s){var c={op:"line",eraser:"eraser"===t,color:t,size:e,points:[[n,r],[a,s]]};o.doOp(c),i("queue-op",c)},drawShape:function(t,e,n){var r={op:"line",eraser:"eraser"===t,color:t,size:e,points:n};o.doOp(r),i("queue-op",r)},drawArc:function(t,e,n,r,a,s,c){var u={op:"arc",color:t,x:e,y:n,rad:r,start:a,end:s,clockwise:c};o.doOp(u),i("queue-op",u)},fillRect:function(t,e,n,r,a,s){var c={op:"rect",color:t,size:e,x:n,y:r,w:a,h:s};o.doOp(c),i("queue-op",c)},drawQuadraticCurve:function(t,e,n,r,a,s,c,u){var l={op:"quadratic",color:t,size:e,x0:n,y0:r,cpx:a,cpy:s,x:c,y:u};o.doOp(l),i("queue-op",l)},drawBezierCurve:function(t,e,n,r,a,s,c,u,l,d){var h={op:"bezier",color:t,size:e,x0:n,y0:r,cp1x:a,cp1y:s,cp2x:c,cp2y:u,x:l,y:d};o.doOp(h),i("queue-op",h)},drawText:function(t,e,n,r,a){var s={op:"text",text:t,textPoint:[e,n],color:r,font:a};o.doOp(s),i("queue-op",s)},doClear:function(){i("do-clear")},doUndo:function(){i("do-undo")},gotoPage:function(t){return n.boardCanDo().advancedTools()&&n.userCanDraw()?(i("goto-page",t),void i("queue-op",{op:"gotoPage",pg:t})):void console.error("gotoPage(): user not allowed to switch pages")},getCurrentPage:function(){return n.currentPage()},getLastPage:function(){return n.getLastPage()},openImageDialog:function(){return i("change-tool",{tool:"image"})},openImageEditor:function(t){return t?i("change-tool",{tool:"image",src:t}):void console.error("No image URL specified")},openPresentationDialog:function(){return i("change-tool",{tool:"presentation"})},loadPresentation:function(t){return t?i("change-tool",{tool:"presentation",src:t}):void console.error("No presentation URL specified")},goToPage:function(t){return t?i("goto-page",t):void console.error("No page number specified")},addPage:function(){return i("goto-page",n.getLastPage()+1)},setNick:function(t){return t?i("change-user",{nick:t}):void console.error("No nickname specified")},changeTool:function(t){return t?i("change-tool",{tool:t}):void console.error("No tool specified")},drawImage:function(t,e,n){if(!t)throw new Error("No image URL specified");if("data:"===t.substr(0,5))throw new Error("URL can't be data URL");var r={op:"image",src:t,left:e,top:n};o.doOp(r),i("queue-op",r)},sendAndDrawImage:function(t,e,n){if(!t)throw new Error("No image URL specified");var r={op:"image",src:t,left:e,top:n};return o.doOp(r),i("queue-op",r)},toggleChatWindow:function(){i("chat-toggle")},getBoardInfo:function(){return n.boardInfo()},getLocalOps:function(){return n.localOps},getQueuedOps:function(){return n.queue()},joinBoard:function(t){return i("join-board",{boardLink:t})},leaveBoard:function(){return i("leave-board")},downloadBoardPicture:function(){return i("download-picture")},shareBoardPicture:function(){return i("share-picture")},getBoardPictureUrl:function(){return n.getBoardPictureUrl()},toggleVoiceChat:function(){return i("webrtc-toggle")},on:function(t,n){return e.on(t,n)}};return s};e.exports=n},{}],29:[function(t,e){"use strict";function n(){i.call(this)}var r=t("../lodash.custom"),i=t("wildemitter");n.prototype=new i,n.prototype.sub=n.prototype.on,n.prototype.subOnce=n.prototype.once,n.prototype.subMany=function(t){var e=this;r.each(t,function(t,n){e.on(n,t)})},e.exports=n},{"../lodash.custom":6,wildemitter:81}],30:[function(t,e){"use strict";function n(t,e,n){for(;t&&t!==n;t=t.parentNode){var r="string"==typeof t.className;if(r&&l(t,e))return t}}function r(t){var e=void 0===arguments[1]?function(){}:arguments[1];if(h("got module request:",t),m[t])return m[t].loaded?(h("module is already loaded",t),e()):(h("module is loading",t),void m[t].push(e));m[t]=[e];var n="https://awwapp.com/static/widget/js/modules/"+t;h("loading",n);var r=window.document.getElementsByTagName("script")[0],o=window.document.createElement("script");return o.src=n,o.async=!0,r.parentNode.insertBefore(o,r),o.onload=function(){i.each(m[t],function(t){return t()}),m[t].loaded=!0,h("module loaded",t)},o}var i=(t("bluebird"),t("../lodash.custom")),o=t("hyperscript"),a=t("observable"),s=t("query-string"),c="history"in window&&"pushState"in history,u=t("uuid").v4,l=t("amp-has-class"),d=t("xhr"),h=t("debug")("awwapp:utils:utils"),p=t("../ui/icon-definitions"),f=e.exports=function(e){function n(t,e){var n=t.url;return n.match(/^http/)||(n="https://awwapp.com/"+("/"===n[0]?n.substr(1):n)),t.query&&(n+="?"+s.stringify(t.query)),t.url=n,d(t,e)}function r(t,e,n){var r="https://s3.amazonaws.com/aww-imagedata/"+u.v4()+"."+e,i="data:"===t.substr(0,5);if(!i)return n(null,t);var o=f(t);return b(!0),d({method:"PUT",url:r,useXDR:!0,headers:{"Access-Control-Allow-Origin":"*","X-Amz-Storage-Class":"REDUCED_REDUNDANCY","Cache-Control":"max-age=31556940"},body:o},function(t){b(!1),n(t,r)})}function i(){var t=v.prettyLinks;if(t&&location.pathname.match(new RegExp("^"+t)))return location.pathname.replace(t,"").replace(/\//g,"");var e=s.parse(location.search.substr(1)).awwBoard;return e||(e=s.parse(location.hash.substr(1)).awwBoard),e}function l(t){if(v.prettyLinks){var e=v.prettyLinks,n=[location.origin,e,t,"/"].join("");return n}var r;c&&(r=s.parse(window.location.search.substr(1))),r.awwBoard=t;var i=[location.origin,location.pathname,"?",s.stringify(r),location.hash].join("");return i}function h(t){if(v.prettyLinks&&c){var e=v.prettyLinks+t+"/";return void window.history.pushState({link:t},"",e)}var n=s.parse(window.location.hash.substr(1));if(c&&(n=s.parse(window.location.search.substr(1))),n.awwBoard=t,c){var r=[location.pathname,"?",s.stringify(n),location.hash].join("");window.history.pushState({link:t},"",r)}else window.location.hash=s.stringify(n)}var f;try{f=t("data-uri-to-blob")}catch(m){console.error("Browser doesn't support Blob",m),f=function(){}}var g=e.canvasContainer,v=e.options,b=a.signal(!1),y=o(".loading-indicator",{style:{display:a.transform(b,function(t){return t?"block":"none"})}},p.el("spinner"));return g.appendChild(y),{fetch:n,s3upload:r,isLoading:b,getBoardLink:i,setBoardLink:h,getShareUrl:l}},m={};i.extend(f,{hasMatchingParent:n,loadjs:r})},{"../lodash.custom":6,"../ui/icon-definitions":26,"amp-has-class":36,bluebird:39,"data-uri-to-blob":52,debug:53,hyperscript:62,observable:68,"query-string":70,uuid:79,xhr:82}],31:[function(t,e){"use strict";var n=t("loads-css"),r=!1,i="https://awwapp.com/",o=t("hyperscript"),a=o.context(),s=t("observable"),c=t("class-list"),u=t("dom-events"),l=t("./lodash.custom"),d=t("component-closest"),h=function(t,e){return t.querySelector(e)},p=t("./ui/icon-definitions"),f="Microsoft Internet Explorer"!==navigator.appName;f=f&&!navigator.userAgent.match(/Trident\/7\./);var m="download"in document.createElement("a");e.exports=function(t){function e(){te.boardInfo().isAdmin?(K.emit("ga-send","Close tab popup","Registered user"),_()):(K.emit("ga-send","Close tab popup","Unregistered user"),W())}function g(t){var e=te.boardInfo().boardId,n=t.value;return n?(te.boardInfo.boardName=n,b(),e?void x(e,n):(K.emit("join-board"),void K.on("board-joined",function(t){e=t.boardId,x(e,n)}))):void c(t).add("error")}function v(t){return r?t():void n(i+"static/widget/css/widget.css",function(){r=!0,t()})}function b(){se||(a.cleanup(),c(ce).add("hide"),setTimeout(function(){ce.parentNode&&$.removeChild(ce)},200))}function y(t,e){return c(ce).remove("show"),c(ce).remove("hide"),ce.innerHTML=t,setTimeout(function(){c(ce).add("show")},50),U(ce.firstChild),e&&e(ce.firstChild),$.appendChild(ce),ce}function w(t,e){se=!0;var n,i="/api/v2/widgets/"+t+"/";v(function(){n&&y(n,e),se=!1}),oe({url:i,cors:!0,query:{apiKey:ae},withCredentials:!0},function(t,i,o){return t?void K.emit("error",t):i.statusCode&&200!==i.statusCode?void K.emit("error",new Error(o)):(r?y(o,e):n=o,void(se=!1))})}function x(t,e){var n="/api/v2/admin/boards/"+t+"/save/";oe({method:"post",cors:!0,json:{name:e,enableClassroom:te.boardCanDo().enableClassroom},withCredentials:!0,query:{apiKey:ae},url:n},function(t,e,n){t||e.statusCode&&200!==e.statusCode?K.emit("error",t||n.error):(te.boardInfo().boardName=n.boardName,K.emit("on-board-save",n))})}function W(){w("register",G)}function _(){w("save-load",function(t){var e=h(t,".ctrl-save-board"),n=h(t,".ctrl-board-name"),r=h(t,".ctrl-delete"),i=h(t,".ctrl-load"),o=h(t,".enter-board-name-label");e&&(te.boardCanDo().isPermanent&&te.boardCanDo().isSnapshot?(e.style.display="none",n.style.display="none",o.innerHTML="This board is already saved"):u.on(e,"click",function(){g(n)})),u.on(t,"click",function(e){var n=d(e.target,".ctrl-board-del",!0,t);if(n)return e.stopPropagation(),c(n.parentElement).toggle("delete"),l.each(t.querySelectorAll(".select"),function(t){c(t).remove("select")}),i.style.display="none",void(t.querySelectorAll(".delete")&&(r.style.display="block"));var o=d(e.target,".ctrl-board",!0,t);o&&(e.stopPropagation(),l.each(t.querySelectorAll(".delete, .select"),function(t){c(t).remove("delete","select")}),c(o).add("select"),i.style.display="block",r.style.display="none")}),u.on(i,"click",function(e){e.stopPropagation();var n=h(t,".select");if(n){var r=n.getAttribute("data-boardLink");r&&(K.emit("join-board",{boardLink:r}),b())}}),u.on(r,"click",function(){var e=t.querySelectorAll(".delete"),n=l.map(e,function(t){return t.getAttribute("data-id")}),r="/api/v2/admin/boards/delete/";oe({method:"DELETE",url:r,json:{boardIds:n},cors:!0,query:{apiKey:ae},withCredentials:!0},function(t,e){e.statusCode&&200!==e.statusCode||(te.boardCanDo().isPermanent=!1,te.boardCanDo().isSnapshot=!1,K.emit("on-board-delete",!1,!1),_())})})})}function L(t){function e(){gapi.load("client:auth2",n)}function n(){gapi.client.init({discoveryDocs:i,clientId:r,scope:o}).then(function(){gapi.auth2.getAuthInstance().isSignedIn.listen(C),C(gapi.auth2.getAuthInstance().isSignedIn.get(),t)})}re(!0);var r="547306870731-75bm564htihdjtts2tosjri9e1q6kb7s.apps.googleusercontent.com",i=["https://www.googleapis.com/discovery/v1/apis/classroom/v1/rest"],o="https://www.googleapis.com/auth/classroom.courses https://www.googleapis.com/auth/classroom.coursework.me https://www.googleapis.com/auth/classroom.coursework.students https://www.googleapis.com/auth/classroom.rosters",a=window.document.createElement("script");a.src="https://apis.google.com/js/api.js",a.async=!0,a.onload=function(){e()},document.body.appendChild(a)}function C(t,e){t?te.isConnected()||"create-assignment"!==e?I(e):(K.emit("close-menus"),re(!0),K.emit("socket-init",{autojoin:!0}),K.emit("join-board"),K.on("board-joined",function(t){te.boardCanDo().advancedTools?(x(t.boardId,"board_"+t.boardLink),K.on("on-board-save",function(){I(e)})):I(e)})):X(e)}function X(t){gapi.auth2.getAuthInstance().signIn().then(function(){C(!0,t)},function(t){t.error&&w("google-classroom-not-authenticated",Z)})}function I(t){"create-assignment"===t?w("google-classroom-share",Y):"turn-in-assignment"===t&&j()}function Y(t){re(!1);var e,n=h(t,".aww-dropdown#choose-course");if(n){var r,i,o,s,d,p,f,m,g,v,b,y,x,W,_,L,C,I,Y,j,F,R,k;!function(){var G=function(){x.style.display="block",c(W).add("active"),c(_).remove("active"),c(L).remove("active"),j=W.innerHTML},A=function(){x.style.display="none",c(_).add("active"),c(W).remove("active"),c(L).remove("active"),j=L.innerHTML},O=function(){x.style.display="none",c(L).add("active"),c(_).remove("active"),c(W).remove("active"),j=L.innerHTML},N=function(){k.init(f),u.on(f,"click",function(){k.showCalendar()}),E(n),S().then(function(r){if(!r)return void w("google-classroom-not-authenticated",Z);var i=r.result.courses;l.each(i,function(t){p.appendChild(a("a.course",{id:t.id,href:"#"},t.name))});var s=h(t,".course");u.on(s,"click",function(){o.innerHTML=this.innerHTML,e=this.id,c(n).remove("hover")})})},S=function(){return gapi.client.classroom.courses.list({pageSize:1e3}).then(function(t){return t},function(t){t.result.error&&X()})},M=function(t,e,n,r,i,o,a){a.style.display="inline-block";var s=gapi.client.classroom,c={courseId:t,title:e,description:n,materials:[{link:{url:"https://awwapp.com/b/"+r}}],workType:"ASSIGNMENT",state:"PUBLISHED"};i&&(c.dueDate=i,c.dueTime={hours:0,minutes:0,seconds:0,nanos:0}),s.courses.courseWork.create(c).then(function(n){var r=n.result.id,i=n.result.alternateLink;r?(z(t,r,e),o.href=i,o.style.display="inline-block",a.style.display="none"):o.innerHTML="Sorry. For some reason you can't create an assignment in Google Classroom"})};r=h(t,".button-group.choose-action"),i=h(t,".choose-course-button"),o=h(t,".choose-course-option-text"),s=h(t,".view-in-google-classroom"),d=h(t,".cssload-spin-box"),p=h(t,".aww-dropdown-content.courses"),f=h(t,"#due-date"),m=h(t,".google-classroom-title"),g=h(t,".google-classroom-instructions"),v=h(t,".allow-users-to-draw"),b=h(t,".allow-users-to-view"),y=h(t,".make-copy-for-each-user"),x=h(t,".create-assignment"),W=h(t,".create-assignment-option"),_=h(t,".make-an-announcement"),L=h(t,".ask-question"),C=h(t,".calendar-warning"),I=h(t,".go-button"),Y=y.innerHTML,F=te.boardInfo(),R=F.boardSnapshotLink,u.on(W,"click",function(){G()}),u.on(_,"click",function(){A()}),u.on(L,"click",function(){O()}),u.on(v,"click",function(){Q(!1),R=F.boardLink,c(v).add("active"),c(b).remove("active"),c(y).remove("active"),Y=v.innerHTML}),u.on(b,"click",function(){Q(!0),R=F.boardLink,c(b).add("active"),c(v).remove("active"),c(y).remove("active"),Y=b.innerHTML}),u.on(y,"click",function(){R=F.boardSnapshotLink,c(y).add("active"),c(v).remove("active"),c(b).remove("active"),Y=y.innerHTML}),u.on(I,"click",function(){if(j)if(j===W.innerHTML)m.value?e?M(e,m.value,g.innerHTML,R,k.date,s,d):i.style.border="2px solid #ed1c24":c(m).add("error");else{var t="https://awwapp.com/b/"+R;window.open("https://classroom.google.com/share?url="+encodeURIComponent(t),"Share to Google Classroom","height=1000,width=1000")}else c(r).add("error")}),k={month_names:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["S","M","T","W","T","F","S"],month_days:[31,28,31,30,31,30,31,31,30,31,30,31],today:new Date,opt:{},data:[],_calendar_active_instance:{},date:void 0,getStyle:function(t,e){if(t.currentStyle)var n=e.replace(/\-(\w)/g,function(t,e){return e.toUpperCase()}),r=t.currentStyle[e]||t.currentStyle[n];else if(window.getComputedStyle){e=e.replace(/([A-Z])/g,"-$1").toLowerCase();var r=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)}return"opacity"==e&&t.filter?r=parseFloat(t.filter.match(/opacity\=([^)]*)/)[1])/100:"width"==e&&isNaN(r)?r=t.clientWidth||t.offsetWidth:"height"==e&&isNaN(r)&&(r=t.clientHeight||t.offsetHeight),r},getPosition:function(t){for(var e=0,n=0;t;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;-1!=navigator.userAgent.indexOf("Mac")&&"undefined"!=typeof document.body.leftMargin&&(e+=document.body.leftMargin,offsetTop+=document.body.topMargin);var r=new Array(e,n);return r},selectDate:function(t){var e=this._calendar_active_instance,n=document.getElementById(e.opt.input);n.value=t,e.hideCalendar()},makeCalendar:function(t,e,n){var r=new Date;if(t<r.getYear()+1900||e<r.getMonth()&&t===r.getYear()+1900)return C.innerHTML="Due date must be in the future.",void(C.style.display="block");C.style.display="none",t=parseInt(t),e=parseInt(e),n=parseInt(n);var i=e+1,o=t;i>=12&&(i=0,o++);var s=e-1,c=t;0>s&&(s=11,c--);for(var u=[],l=0;l<this.month_names.length;l++){var d="";l==e&&(d="selected"),u.push(a("option",{value:l,selected:d},this.month_names[l]))}for(var h=a("select.calendar-month",{name:"calendar-month",onchange:function(){k.makeCalendar(t,this.value)}},u),p=a("a",{style:{"margin-right":"5px"},onclick:function(){k.makeCalendar(c,s)},title:this.month_names[s]+" "+c},"<"),f=a("a",{style:{"margin-left":"5px"},onclick:function(){k.makeCalendar(o,i)},title:this.month_names[i]+" "+o},">"),m=a("th.calendar-title",[p,h,f]),g=a("tr",m),v=[],b=0;7>b;b++)v.push(a("td",this.weekdays[b]));var y=a("tr.header",v),w=a("thead",[g,y]),x=new Date(t,e,1),W=x.getDay(),_=1,L=0;this.month_days[1]=t%4==0?29:28;for(var X=this.month_days[e],I=[],l=0;5>=l&&!(j>=X);l++){for(var Y=[],Z=0;7>Z;Z++)if(_>X?L=0:Z>=W&&!L&&(L=1),L){var j=_,F=e+1;10>j&&(j="0"+j),10>F&&(F="0"+F);var R="",G=this.today.getYear();1900>G&&(G+=1900),G==t&&this.today.getMonth()==e&&this.today.getDate()==_&&(R=" today"),n==_&&(R+=" selected"),R+=" "+this.weekdays[Z].toLowerCase();var n=a("td.days"+R,[a("a.aww-link",{date:F+"/"+j+"/"+t,year:t,month:F,day:j,onclick:function(){return r.getYear()+1900===this.year&&r.getMonth()===this.month-1&&r.getDate()>=this.day?(C.innerHTML="Due date must be in the future.",void(C.style.display="block")):(C.style.display="none",k.selectDate(this.date),void(k.date={year:this.year,month:this.month,day:this.day}))}},j)]);Y.push(n),_++}else Y.push(a("td.days"," "));var A=a("tr",Y);I.push(A)}var O=a("tbody",I),N=a("table",[w,O]),S=document.getElementById(this.opt.calendar);S.lastChild&&S.removeChild(S.lastChild),S.appendChild(N),this.data=[]},showCalendar:function(){var t=document.getElementById(this.opt.input),e=document.getElementById(this.opt.calendar);if(this.opt.display_element)var n=document.getElementById(this.opt.display_element);else var n=document.getElementById(this.opt.input);var r=this.getPosition(n),i=parseInt(this.getStyle(n,"width"));e.style.left=r[0]+i+10+"px",e.style.top=r[1]+"px";var o=new Date,a=t.value;if(a){var s=!1,c=a.split("-");3==c.length&&(c[1]--,s=new Date(c[0],c[1],c[2])),s&&!isNaN(s.getYear())&&(o=s)}var u=o.getYear();1900>u&&(u+=1900),k.makeCalendar(u,o.getMonth(),o.getDate()),document.getElementById(this.opt.calendar).style.display="inline-block",this._calendar_active_instance=this},hideCalendar:function(t){var e="";e=t?t.opt.calendar:this._calendar_active_instance.opt.calendar,e&&(document.getElementById(e).style.display="none"),this._calendar_active_instance={}},init:function(t){if(this.opt.input=t.id,!this.opt.calendar||!document.getElementById(this.opt.calendar)){this.opt.calendar||(this.opt.calendar="calender_div_"+Math.round(100*Math.random()));var e=a(".calendar#"+this.opt.calendar,{style:{display:"none"}});t.parentNode.appendChild(e)}}},N()}()}}function Z(t){re(!1);var e=h(t,".ctrl-authorize");u.on(e,"click",function(){b(),X()})}function j(){function t(t){function e(){o.style.display="inline-block";var t=gapi.client.classroom,e={courseId:te.boardInfo().classroomCourseId,courseWorkId:te.boardInfo().classroomAssignmentId};t.courses.courseWork.studentSubmissions.list(e).then(function(a){if(!a)return void w("google-classroom-not-authenticated",Z);var s=a.result.studentSubmissions[0].id;e.id=s,e.addAttachments=[{link:{url:"https://awwapp.com/b/"+te.boardInfo().boardLink}}],t.courses.courseWork.studentSubmissions.modifyAttachments(e).then(function(){delete e.addAttachments,t.courses.courseWork.studentSubmissions.turnIn(e).then(function(){n.innerHTML="Yay, you've successfully turned in the assignment",n.style.color="#3dc476",o.style.display="none",r.style.display="none",i.innerHTML="Close"})})})}var n=h(t,".aww-label"),r=h(t,".ctrl-confirm"),i=h(t,".ctrl-cancel"),o=h(t,".cssload-spin-box");u.on(r,"click",function(){e()}),u.on(i,"click",function(){b()}),re(!1)}re(!0),w("google-classroom-turn-in",t)}function F(t){var e="/api/v2/widgets/account/";oe({method:"post",url:e,json:t,cors:!0,withCredentials:!0},function(t,e,n){if(e.statusCode&&200!==e.statusCode)y(n.html,k);else{y(n.html,function(){}),k(ce);var r=te.boardInfo(),i=te.boardCanDo();r.isAdmin=!0,te.boardInfo(r),l.each(i,function(t,e){n.features&&n.features[e]&&(i[e]=n.features[e])}),te.boardCanDo(i),K.emit("update-ui"),K.emit("check-login")}})}function R(t){var e="/api/v2/widgets/forgot-password/";oe({method:"post",url:e,json:t,cors:!0,withCredentials:!0},function(t,e,n){e.statusCode&&200!==e.statusCode||y(n,A)})}function k(t){var e=h(t,".ctrl-login"),n=h(t,'input[name="password"]'),r=h(t,".ctrl-recover-pwd");if(!e){var i=h(t,".logout-button"),o=te.boardInfo();return o.isAdmin=!0,te.boardInfo(o),void u.on(i,"click",function(){K.emit("userLoggedOut")})}u.on(e,"click",function(){var e=h(t,"input[name=email]").value,n=h(t,"input[name=password]").value;F({email:e,password:n})}),u.on(r,"click",function(t){t&&t.preventDefault(),M()}),u.on(n,"keypress",function(t){("13"==t.keyCode||t.keyIdentifier&&"enter"==t.keyIdentifier.toLowerCase()||t.key&&"enter"==t.key.toLowerCase())&&e.click()})}function G(t){function e(t){var e=t.getElementsByTagName("label")[0].innerHTML.toLowerCase();c(r).remove("active"),c(i).remove("active"),c(o).remove("active"),c(t).add("active"),a.value=e}var n=h(t,".checkbox"),r=h(t,"#edu_butt"),i=h(t,"#business_butt"),o=h(t,"#pers_butt"),a=h(t,".accType"),s=h(t,".sign-up"),d=h(t,".button-group"),p=h(t,".email"),f=h(t,".password"),m=h(t,".ctrl-login");u.on(r,"click",function(){e(r)}),u.on(i,"click",function(){e(i)}),u.on(o,"click",function(){e(o)}),u.on(m,"click",function(){N()}),u.on(n,"click",function(){n.checked?(c(s).remove("aww-button-disabled"),s.removeAttribute("disabled")):(c(s).add("aww-button-disabled"),s.setAttribute("disabled","disabled"))}),u.on(s,"click",function(){if(!a.value)return void c(d).add("error");if(!p.value||p.value.indexOf("@")<0||p.value.substring(p.value.indexOf("@")).indexOf(".")<0)return void c(p).add("error");if(!f.value)return void c(f).add("error");var t="/register";oe({method:"post",url:t,json:{email:p.value,password:f.value,accountType:a.value,src:"widget"},cors:!0,withCredentials:!0},function(t,e,n){if(K.emit("ga-send","Close tab popup","Registration finished "+a.value),e.errors||e.statusCode&&200!==e.statusCode)y(e.body,G);else{var r=te.boardInfo(),i=te.boardCanDo();r.isAdmin=!0,te.boardInfo(r),l.each(i,function(t,e){n.features&&n.features[e]&&(i[e]=n.features[e])}),te.boardCanDo(i),K.emit("update-ui"),K.emit("check-login"),_()}})})}function A(t){var e=h(t,".ctrl-submit");e&&u.on(e,"click",function(){var e=h(t,"input[name=email]").value;R({email:e})})}function O(){var t=h(ce,".ctrl-browse-img"),e=h(ce,".ctrl-upload-img");u.on(t,"click",function(){K.emit("change-tool",{tool:"image"}),b()}),u.on(e,"click",function(){var t=h(ce,"input[name=image-url]").value,e="https://converter.awwapp.com/api/v1/get_picture/?url="+encodeURIComponent(t);K.emit("change-tool",{tool:"image",src:e}),b()})}function N(){w("account",k)}function S(){K.emit("ga-send","HELP","INFO (i) menu click");var t;w("help",function(e){var n=e.getElementsByClassName("aww-help-question-wrapper");l.each(n,function(e){var n=h(e,".aww-help-question");u.on(n,"click",function(){K.emit("ga-send","HELP",n.innerHTML);var r=h(e,".standalone-block");r.style.maxHeight="1000px",t&&(t.style.maxHeight="0px"),t=r})})})}function M(){w("forgot-password",A)}function T(){w("image-chooser",O)}function H(){function e(e,n,r,i,o,a,s,c,u,l,d){var h=ne.getShareUrl(i);e.value=h,a.value='<iframe width="100%" height="650px" src="'+h+'"></iframe>';var p="https://api.qrserver.com/v1/create-qr-code/?color=000000&bgcolor=FFFFFF&data="+encodeURIComponent(h)+"&qzone=1&margin=0&size=1000x1000&ecc=L";t.options.inviteViaQr&&(n.href=p),void 0!=o&&(o.href="https://classroom.google.com/share?url="+encodeURIComponent(h)),d&&(u.innerHTML=d,l.value=d),s&&(s.innerHTML=c);var f="Invite for a web whiteboard",m="Join my drawing at "+h;r.href=["mailto:?to=&subject=",encodeURIComponent(f),"&body=",encodeURIComponent(m)].join(""),e.select()}function n(t){var n=h(t,".board-link-input"),r=h(t,".iframe-input"),i=h(t,".share-via-qr"),o=te.boardInfo(),a=o.boardLink,s=a,l=h(t,".board-options"),d=h(t,".invite-board-name-parent"),p=h(t,".invite-board-name"),f=h(t,".invite-board-name-input"),m=h(t,".done"),g=te.boardInfo().boardName,v=h(t,".share-board-option-text"),b=h(t,".allow-users-to-draw"),y=h(t,".allow-users-to-view"),w=h(t,".make-copy-for-each-user"),x=h(t,".aww-dropdown"),W="Allow everyone to draw",_=h(t,".embed-questionmark"),L=h(t,".embed-explanation"),C=h(t,".ctrl-invite-mail"),X=h(t,".google-classroom"),I=te.boardCanDo().enableClassroom;void 0!=I&&I||(X.style.display="none",X=void 0),W=te.boardInfo().connectAllAsGuests?"Allow everyone to view":"Allow everyone to draw",E(x),u.on(b,"click",function(){Q(!1),s=o.boardLink,W="Allow everyone to draw",e(n,i,C,s,X,r,v,W),c(x).remove("hover")}),u.on(y,"click",function(){Q(!0),s=o.boardLink,W="Allow everyone to view",e(n,i,C,s,X,r,v,W),c(x).remove("hover")}),u.on(w,"click",function(){s=o.boardSnapshotLink,W="Share a copy for each user",e(n,i,C,s,X,r,v,W),c(x).remove("hover")}),u.on(_,"click",function(){"none"===L.style.display?(L.style.display="block",K.emit("ga-send","Embed explanation link in an invite dialog")):L.style.display="none"}),te.boardCanDo().advancedTools?(u.on(d,"click",function(){f.style.display="inline-block",m.style.display="inline-block",d.style.display="none"}),u.on(m,"click",function(){var t=f.value;t&&t!==g&&(q(t),g=t,e(n,i,C,s,X,r,v,W,p,f,g)),m.style.display="none",f.style.display="none",d.style.display="inline-block"
})):(l.style.display="none",x.style.display="none"),e(n,i,C,a,X,r,v,W,p,f,g)}te.isConnected()?w("invite",n):(K.emit("close-menus"),re(!0),K.emit("join-board"),K.on("board-joined",function(t){te.boardCanDo().advancedTools?(x(t.boardId,"board_"+t.boardLink),K.on("on-board-save",function(){w("invite",n),re(!1)})):(w("invite",n),re(!1))}))}function E(t){u.on(t,"mouseover",function(){c(t).add("hover")}),u.on(t,"mouseout",function(){c(t).remove("hover")})}function z(t,e,n){var r="/api/v2/admin/boards/"+te.boardInfo().boardId+"/set-assignment-id";oe({method:"post",cors:!0,withCredentials:!0,json:{courseId:t,assignmentId:e,courseTitle:n},url:r},function(t,e,n){(t||e.statusCode&&200!==e.statusCode)&&K.emit("error",t||n.error)})}function D(t){K.emit("export-pdf",t),K.emit("show-message","Your board is being exported. When finished, you'll get an email with a link to the PDF file.","success",7)}function B(){function t(t){if("0"===t.status)return"";e.uid===t.uid&&(t=e);var n,r=".aww-label-small.aww-user-id"+(t.uid===e.uid?".active":""),i=".aww-switch.ctrl-switch.aww-ctrl-users.right"+("RW"===t.status?".checked":""),o=a("span"+r,t.nick);return te.boardInfo().isBoardAdmin&&t!==e&&te.boardCanDo().advancedTools&&(n=a("a"+i,{href:"#","data-uid":t.uid})),a(".aww-user-list-item.ctrl-switch-control",[o,n])}var e=te.currentUser();w("users",function(e){var n=h(e,".ctrl-user-list-wrapper"),r=h(e,".save-name-button"),i=h(e,".ctrl-invite"),o=h(e,".user-permissions-message"),p=te.boardInfo().connectAllAsGuests?"":".checked";if(te.boardCanDo().advancedTools&&te.boardInfo().isBoardAdmin){var f=a(".aww-user-list-item.ctrl-switch-control",[a("span.aww-label-small.aww-user-id","All users"),a("a.aww-switch.ctrl-switch.right"+p,{href:"#","data-uid":"all-users"})]);n.appendChild(f)}else o.innerHTML=te.boardInfo().isBoardAdmin?te.boardCanDo().advancedTools?"":"Premium users can allow or disallow someone to draw.":"Only the creator of the board can allow or disallow someone to draw.";var m=function(e){return a("div",l.map(e,t))},g=a(".aww-user-list",s.transform(te.users,m));n.appendChild(g);var v=h(e,".ctrl-nick");v.value=te.currentUser().nick,u.on(v,"change",function(t){var e=t.target.value;K.emit("change-user",{nick:e})}),u.on(e,"click",function(t){"#"===t.target.href&&t.preventDefault();var n=d(t.target,".ctrl-switch",!0,e);if(n){var r=n.getAttribute("data-uid");if(r){var i=c(n).contains("checked"),o=[];if("all-users"===r){var a=window.document.getElementsByClassName("ctrl-user-list-wrapper")[0].getElementsByClassName("aww-ctrl-users");i?K.emit("set-connect-all-as-guests",!1):K.emit("set-connect-all-as-guests",!0),l.each(a,function(t){o.push(t.getAttribute("data-uid"))})}i?K.emit("promote-user",r,o):K.emit("demote-user",r,o)}}}),u.on(i,"click",function(){K.emit("widget-invite")}),u.on(r,"click",function(){K.emit("show-message","Name saved","success",3),b()})})}function P(){w("general",function(t){var e=te.isConnected(),n=te.boardInfo().isAdmin,r=te.boardCanDo().audio,i=te.boardCanDo().advancedTools,o=te.boardCanDo().audioEnabled,s=void 0!==(navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia),l=h(t,".ctrl-show-users"),p=h(t,".ctrl-board-controls"),g=h(t,".ctrl-voice"),v=h(t,".ctrl-export-pdf"),y=h(t,".ctrl-voice-toggle"),w=h(t,".ctrl-voice-label"),x=h(t,".ctrl-chat-toggle"),W=h(t,".ctrl-chat-label");e||(c(l).remove("aww-link"),l.style.display="block",l.style.padding="25px 24px",l.style.margin="0",l.style.borderBottom="1px solid #e2e2e2",l.style.color="#999",l.style.pointerEvents="none",l.innerHTML=l.innerHTML+" ",l.appendChild(a("span.aww-label-small","(Share board first)")),p.style.pointerEvents="none",g.style.pointerEvents="none",w.innerHTML=w.innerHTML+" (Share board first)",W.innerHTML=W.innerHTML+" (Share board first)"),i?c(l).add("is-pro"):v.style.display="none",s&&r&&(n||o)||(g.style.display="none");var _=h(t,".ctrl-download-picture");if(_.onclick=function(){e?K.emit("ga-send","download image","shared"):K.emit("ga-send","download image","root")},f&&m){var L;try{L=ee.getDataURL()}catch(C){_.style.display="none"}_.href=L}else u.on(_,"click",function(t){return t.preventDefault(),b(),K.emit("download-picture")});u.on(t,"click",function(t){return d(t.target,".ctrl-invite",!0)?K.emit("widget-invite"):d(t.target,".ctrl-show-users",!0)?B():d(t.target,".ctrl-share-picture",!0)?(b(),K.emit("share-picture")):void(d(t.target,".ctrl-export-pdf",!0)&&(b(),D(!0)))}),te.isAudioActive()&&c(y).add("checked"),u.on(y,"checked",function(){K.emit("webrtc-on"),V(!0)}),u.on(y,"unchecked",function(){K.emit("webrtc-off"),V(!1)}),te.isChatVisible()&&c(x).add("checked"),u.on(x,"checked",function(){return K.emit("chat-toggle")}),u.on(x,"unchecked",function(){return K.emit("chat-toggle")})})}function V(t){var e="/api/v2/admin/boards/"+te.boardInfo().boardId+"/audio/"+(t?"on":"off");oe({method:"post",cors:!0,withCredentials:!0,url:e},function(t,e,n){(t||e.statusCode&&200!==e.statusCode)&&K.emit("error",t||n.error)})}function J(){w("confirm-trash",function(t){var e=h(t,".ctrl-confirm"),n=h(t,".ctrl-cancel");u.on(e,"click",function(){K.emit("do-clear"),b()}),u.on(n,"click",function(){b()})})}function U(t){u.on(t,"click",function(e){var n=e.target,r=d(n,".ctrl-modal-close",!0,t);if(r)return void b();var i=d(n,".ctrl-switch-control",!0,t);i&&(i=h(i,".ctrl-switch"),i&&(c(i).contains("checked")?(c(i).remove("checked"),u.emit(i,"unchecked")):(c(i).add("checked"),u.emit(i,"checked"))))})}function Q(t){var e="/api/v2/admin/boards/"+te.boardInfo().boardId+"/connectAllAsGuests";oe({method:"post",cors:!0,withCredentials:!0,json:{connectAllAsGuests:t},url:e},function(e,n,r){e||n.statusCode&&200!==n.statusCode?K.emit("error",e||r.error):K.emit("set-connect-all-as-guests",t)})}function q(t){var e="/api/v2/admin/boards/"+te.boardInfo().boardId+"/change-name";oe({method:"post",cors:!0,withCredentials:!0,json:{boardName:t},url:e},function(t,e,n){t||e.statusCode&&200!==e.statusCode?K.emit("error",t||n.error):(te.boardInfo().boardName=n.boardName,K.emit("board-name-change",n.boardName))})}var K=t.dispatcher,$=t.canvasContainer,te=t.board,ee=t.canvas,ne=t.utils,re=s.signal(!1),ie=o(".loading-indicator",{style:{display:s.transform(re,function(t){return t?"block":"none"})}},p.el("spinner"));$.appendChild(ie);var oe=ne.fetch,ae=t.options.apiKey,se=!1,ce=o(".aww-dialog",{onclick:function(t){return t.target!==ce&&t.stopPropagation()},onmousedown:function(t){return t.target!==ce&&t.stopPropagation()},ontouchstart:function(t){return t.target!==ce&&t.stopPropagation()}});K.on("close-menus",b),K.on("save-board-on-close-window",e),K.on("widget-help",S),K.on("widget-login",N),K.on("widget-register",W),K.on("widget-save-load",_),K.on("widget-invite",H),K.on("widget-general",P),K.on("widget-confirm-trash",J),K.on("image-picker",T),K.on("turn-in-assignment",function(){return L("turn-in-assignment")}),K.on("open-google-classroom-dialog",function(){return L("create-assignment")})}},{"./lodash.custom":6,"./ui/icon-definitions":26,"class-list":46,"component-closest":48,"dom-events":56,hyperscript:62,"loads-css":66,observable:68}],32:[function(t,e){var n=t("amp-has-class"),r=t("amp-is-string"),i=t("amp-is-array"),o=t("amp-trim"),a=Array.prototype.slice,s=/\s{2,}/g,c=/\s+/;e.exports=function(t,e){if(e=2===arguments.length&&r(e)?o(e).split(c):i(e)?e:a.call(arguments,1),1===e.length&&t.classList)return e[0]&&t.classList.add(e[0]),t;for(var u,l=[],d=0,h=e.length,p=t.className;h>d;d++)u=e[d],u&&!n(p,u)&&l.push(u);return l.length&&(t.className=o((p+" "+l.join(" ")).replace(s," "))),t}},{"amp-has-class":36,"amp-is-array":33,"amp-is-string":34,"amp-trim":35}],33:[function(t,e){var n=Object.prototype.toString,r=Array.isArray;e.exports=r||function(t){return"[object Array]"===n.call(t)}},{}],34:[function(t,e){var n=Object.prototype.toString;e.exports=function(t){return"[object String]"===n.call(t)}},{}],35:[function(t,e){var n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;e.exports=function(t){return t.replace(n,"")}},{}],36:[function(t,e){var n=t("amp-is-string"),r=/[\t\r\n\f]/g;e.exports=function(t,e){var i=(n(t)?t:t.className).replace(r," ");return-1!==(" "+i+" ").indexOf(" "+e+" ")}},{"amp-is-string":37}],37:[function(t,e,n){arguments[4][34][0].apply(n,arguments)},{dup:34}],38:[function(t,e){e.exports=function(t,e,n){var r,i=window.URL,o=e,a={autoplay:!0,mirror:!1,muted:!1,audio:!1};if(n)for(r in n)a[r]=n[r];if(o?"audio"===o.tagName.toLowerCase()&&(a.audio=!0):o=document.createElement(a.audio?"audio":"video"),a.autoplay&&(o.autoplay="autoplay"),a.muted&&(o.muted=!0),!a.audio&&a.mirror&&["","moz","webkit","o","ms"].forEach(function(t){var e=t?t+"Transform":"transform";o.style[e]="scaleX(-1)"}),i&&i.createObjectURL)o.src=i.createObjectURL(t);else if(o.srcObject)o.srcObject=t;else{if(!o.mozSrcObject)return!1;o.mozSrcObject=t}return o}},{}],39:[function(t,e,n){(function(t,r){!function(t){if("object"==typeof n&&"undefined"!=typeof e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof r?i=r:"undefined"!=typeof self&&(i=self),i.Promise=t()}}(function(){var e,n,r;return function i(t,e,n){function r(a,s){if(!e[a]){if(!t[a]){var c="function"==typeof _dereq_&&_dereq_;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=e[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return r(n?n:e)},l,l.exports,i,t,e,n)}return e[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(t,e){"use strict";e.exports=function(t){function e(t){var e=new n(t),r=e.promise();return e.setHowMany(1),e.setUnwrap(),e.init(),r}var n=t._SomePromiseArray;t.any=function(t){return e(t)},t.prototype.any=function(){return e(this)}}},{}],2:[function(e,n){"use strict";function r(){this._isTickUsed=!1,this._lateQueue=new s(16),this._normalQueue=new s(16);var t=this;this.drainQueues=function(){t._drainQueues()},this._schedule=a.isStatic?a(this.drainQueues):a}var i;try{throw new Error}catch(o){i=o}var a=e("./schedule.js"),s=e("./queue.js"),c="undefined"!=typeof t?t:void 0;r.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},r.prototype._withDomain=function(t){return void 0===c||null==c.domain||t.domain||(t=c.domain.bind(t)),t},r.prototype.throwLater=function(t,e){if(1===arguments.length&&(e=t,t=function(){throw e}),t=this._withDomain(t),"undefined"!=typeof setTimeout)setTimeout(function(){t(e)},0);else try{this._schedule(function(){t(e)})}catch(n){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},r.prototype.invokeLater=function(t,e,n){t=this._withDomain(t),this._lateQueue.push(t,e,n),this._queueTick()},r.prototype.invokeFirst=function(t,e,n){t=this._withDomain(t),this._normalQueue.unshift(t,e,n),this._queueTick()},r.prototype.invoke=function(t,e,n){t=this._withDomain(t),this._normalQueue.push(t,e,n),this._queueTick()},r.prototype.settlePromises=function(t){this._normalQueue._pushOne(t),this._queueTick()},r.prototype._drainQueue=function(t){for(;t.length()>0;){var e=t.shift();if("function"==typeof e){var n=t.shift(),r=t.shift();e.call(n,r)}else e._settlePromises()}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},n.exports=new r,n.exports.firstLineError=i},{"./queue.js":28,"./schedule.js":31}],3:[function(t,e){"use strict";e.exports=function(t,e,n){var r=function(t,e){this._reject(e)},i=function(t,e){e.promiseRejectionQueued=!0,e.bindingPromise._then(r,r,null,this,t)},o=function(t,e){this._setBoundTo(t),this._isPending()&&this._resolveCallback(e.target)},a=function(t,e){e.promiseRejectionQueued||this._reject(t)};t.prototype.bind=function(r){var s=n(r),c=new t(e);c._propagateFrom(this,1);var u=this._target();if(s instanceof t){var l={promiseRejectionQueued:!1,promise:c,target:u,bindingPromise:s};u._then(e,i,c._progress,c,l),s._then(o,a,c._progress,c,l)}else c._setBoundTo(r),c._resolveCallback(u);return c},t.prototype._setBoundTo=function(t){void 0!==t?(this._bitField=131072|this._bitField,this._boundTo=t):this._bitField=-131073&this._bitField},t.prototype._isBound=function(){return 131072===(131072&this._bitField)},t.bind=function(r,i){var o=n(r),a=new t(e);return o instanceof t?o._then(function(t){a._setBoundTo(t),a._resolveCallback(i)},a._reject,a._progress,a,null):(a._setBoundTo(r),a._resolveCallback(i)),a}}},{}],4:[function(t,e){"use strict";function n(){try{Promise===i&&(Promise=r)}catch(t){}return i}var r;"undefined"!=typeof Promise&&(r=Promise);var i=t("./promise.js")();i.noConflict=n,e.exports=i},{"./promise.js":23}],5:[function(t,e){"use strict";var n=Object.create;if(n){var r=n(null),i=n(null);r[" size"]=i[" size"]=0}e.exports=function(e){function n(t,n){var r;if(null!=t&&(r=t[n]),"function"!=typeof r){var i="Object "+s.classString(t)+" has no method '"+s.toString(n)+"'";throw new e.TypeError(i)}return r}function r(t){var e=this.pop(),r=n(t,e);return r.apply(t,this)}function i(t){return t[this]}function o(t){var e=+this;return 0>e&&(e=Math.max(0,e+t.length)),t[e]}{var a,s=t("./util.js"),c=s.canEvaluate;s.isIdentifier}e.prototype.call=function(t){for(var e=arguments.length,n=new Array(e-1),i=1;e>i;++i)n[i-1]=arguments[i];return n.push(t),this._then(r,void 0,void 0,n,void 0)},e.prototype.get=function(t){var e,n="number"==typeof t;if(n)e=o;else if(c){var r=a(t);e=null!==r?r:i}else e=i;return this._then(e,void 0,void 0,t,void 0)}}},{"./util.js":38}],6:[function(t,e){"use strict";e.exports=function(e){var n=t("./errors.js"),r=t("./async.js"),i=n.CancellationError;e.prototype._cancel=function(t){if(!this.isCancellable())return this;for(var e,n=this;void 0!==(e=n._cancellationParent)&&e.isCancellable();)n=e;this._unsetCancellable(),n._target()._rejectCallback(t,!1,!0)},e.prototype.cancel=function(t){return this.isCancellable()?(void 0===t&&(t=new i),r.invokeLater(this._cancel,this,t),this):this},e.prototype.cancellable=function(){return this._cancellable()?this:(this._setCancellable(),this._cancellationParent=void 0,this)},e.prototype.uncancellable=function(){var t=this.then();return t._unsetCancellable(),t},e.prototype.fork=function(t,e,n){var r=this._then(t,e,n,void 0,void 0);return r._setCancellable(),r._cancellationParent=void 0,r}}},{"./async.js":2,"./errors.js":13}],7:[function(e,n){"use strict";n.exports=function(){function n(t){this._parent=t;var e=this._length=1+(void 0===t?0:t._length);x(this,n),e>32&&this.uncycle()}function r(t,e){for(var n=0;n<e.length-1;++n)e[n].push("From previous event:"),e[n]=e[n].join("\n");return n<e.length&&(e[n]=e[n].join("\n")),t+"\n"+e.join("\n")}function i(t){for(var e=0;e<t.length;++e)(0===t[e].length||e+1<t.length&&t[e][0]===t[e+1][0])&&(t.splice(e,1),e--)}function o(t){for(var e=t[0],n=1;n<t.length;++n){for(var r=t[n],i=e.length-1,o=e[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(var s=a;s>=0;--s){var c=r[s];if(e[i]!==c)break;e.pop(),i--}e=r}}function a(t){for(var e=[],n=0;n<t.length;++n){var r=t[n],i=m.test(r)||"    (No stack trace)"===r,o=i&&b(r);i&&!o&&(v&&" "!==r.charAt(0)&&(r="    "+r),e.push(r))}return e}function s(t){for(var e=t.stack.replace(/\s+$/g,"").split("\n"),n=0;n<e.length;++n){var r=e[n];if("    (No stack trace)"===r||m.test(r))break}return n>0&&(e=e.slice(n)),e}function c(t){var e;if("function"==typeof t)e="[function "+(t.name||"anonymous")+"]";else{e=t.toString();var n=/\[object [a-zA-Z0-9$_]+\]/;if(n.test(e))try{var r=JSON.stringify(t);e=r}catch(i){}0===e.length&&(e="(empty array)")}return"(<"+u(e)+">, no stack trace)"}function u(t){var e=41;return t.length<e?t:t.substr(0,e-3)+"..."}function l(t){var e=t.match(y);return e?{fileName:e[1],line:parseInt(e[2],10)}:void 0}var d,h=e("./async.js"),p=e("./util.js"),f=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,m=null,g=null,v=!1;p.inherits(n,Error),n.prototype.uncycle=function(){var t=this._length;if(!(2>t)){for(var e=[],n={},r=0,i=this;void 0!==i;++r)e.push(i),i=i._parent;t=this._length=r;for(var r=t-1;r>=0;--r){var o=e[r].stack;void 0===n[o]&&(n[o]=r)}for(var r=0;t>r;++r){var a=e[r].stack,s=n[a];if(void 0!==s&&s!==r){s>0&&(e[s-1]._parent=void 0,e[s-1]._length=1),e[r]._parent=void 0,e[r]._length=1;var c=r>0?e[r-1]:this;t-1>s?(c._parent=e[s+1],c._parent.uncycle(),c._length=c._parent._length+1):(c._parent=void 0,c._length=1);for(var u=c._length+1,l=r-2;l>=0;--l)e[l]._length=u,u++;return}}}},n.prototype.parent=function(){return this._parent},n.prototype.hasParent=function(){return void 0!==this._parent},n.prototype.attachExtraTrace=function(t){if(!t.__stackCleaned__){this.uncycle();for(var e=n.parseStackAndMessage(t),s=e.message,c=[e.stack],u=this;void 0!==u;)c.push(a(u.stack.split("\n"))),u=u._parent;o(c),i(c),t.stack=r(s,c),p.notEnumerableProp(t,"__stackCleaned__",!0)}},n.parseStackAndMessage=function(t){var e=t.stack,n=t.toString();return e="string"==typeof e&&e.length>0?s(t):["    (No stack trace)"],{message:n,stack:a(e)}},n.formatAndLogError=function(t,e){if("undefined"!=typeof console){var n;if("object"==typeof t||"function"==typeof t){var r=t.stack;n=e+g(r,t)}else n=e+String(t);"function"==typeof d?d(n):("function"==typeof console.log||"object"==typeof console.log)&&console.log(n)}},n.unhandledRejection=function(t){n.formatAndLogError(t,"^--- With additional stack trace: ")},n.isSupported=function(){return"function"==typeof x},n.fireRejectionEvent=function(t,e,r,i){var o=!1;try{"function"==typeof e&&(o=!0,"rejectionHandled"===t?e(i):e(r,i))}catch(a){h.throwLater(a)}var s=!1;try{s=W(t,r,i)}catch(a){s=!0,h.throwLater(a)}var c=!1;if(w)try{c=w(t.toLowerCase(),{reason:r,promise:i})}catch(a){c=!0,h.throwLater(a)}s||o||c||"unhandledRejection"!==t||n.formatAndLogError(r,"Unhandled rejection ")};var b=function(){return!1},y=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;n.setBounds=function(t,e){if(n.isSupported()){for(var r,i,o=t.stack.split("\n"),a=e.stack.split("\n"),s=-1,c=-1,u=0;u<o.length;++u){var d=l(o[u]);if(d){r=d.fileName,s=d.line;break}}for(var u=0;u<a.length;++u){var d=l(a[u]);if(d){i=d.fileName,c=d.line;break}}0>s||0>c||!r||!i||r!==i||s>=c||(b=function(t){if(f.test(t))return!0;var e=l(t);return e&&e.fileName===r&&s<=e.line&&e.line<=c?!0:!1})}};var w,x=function(){var t=/^\s*at\s*/,e=function(t,e){return"string"==typeof t?t:void 0!==e.name&&void 0!==e.message?e.toString():c(e)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,m=t,g=e;var n=Error.captureStackTrace;return b=function(t){return f.test(t)},function(t,e){Error.stackTraceLimit=Error.stackTraceLimit+6,n(t,e),Error.stackTraceLimit=Error.stackTraceLimit-6}}var r=new Error;if("string"==typeof r.stack&&r.stack.split("\n")[0].indexOf("stackDetection@")>=0)return m=/@/,g=e,v=!0,function(t){t.stack=(new Error).stack};var i;try{throw new Error}catch(o){i="stack"in o}return"stack"in r||!i?(g=function(t,e){return"string"==typeof t?t:"object"!=typeof e&&"function"!=typeof e||void 0===e.name||void 0===e.message?c(e):e.toString()},null):(m=t,g=e,function(t){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(e){t.stack=e.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),W=function(){if(p.isNode)return function(e,n,r){return"rejectionHandled"===e?t.emit(e,r):t.emit(e,n,r)};var e=!1,n=!0;try{var r=new self.CustomEvent("test");e=r instanceof CustomEvent}catch(i){}if(!e)try{var o=document.createEvent("CustomEvent");o.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(o)}catch(i){n=!1}n&&(w=function(t,n){var r;return e?r=new self.CustomEvent(t,{detail:n,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(r=document.createEvent("CustomEvent"),r.initCustomEvent(t,!1,!0,n)),r?!self.dispatchEvent(r):!1});var a={};return a.unhandledRejection="onunhandledRejection".toLowerCase(),a.rejectionHandled="onrejectionHandled".toLowerCase(),function(t,e,n){var r=a[t],i=self[r];return i?("rejectionHandled"===t?i.call(self,n):i.call(self,e,n),!0):!1}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(d=function(t){console.warn(t)},p.isNode&&t.stderr.isTTY?d=function(e){t.stderr.write("[31m"+e+"[39m\n")}:p.isNode||"string"!=typeof(new Error).stack||(d=function(t){console.warn("%c"+t,"color: red")})),n}},{"./async.js":2,"./util.js":38}],8:[function(t,e){"use strict";e.exports=function(e){function n(t,e,n){this._instances=t,this._callback=e,this._promise=n}function r(t,e){var n={},r=a(t).call(n,e);if(r===s)return r;var i=c(n);return i.length?(s.e=new u("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),s):r}var i=t("./util.js"),o=t("./errors.js"),a=i.tryCatch,s=i.errorObj,c=t("./es5.js").keys,u=o.TypeError;return n.prototype.doFilter=function(t){for(var n=this._callback,i=this._promise,o=i._boundTo,c=0,u=this._instances.length;u>c;++c){var l=this._instances[c],d=l===Error||null!=l&&l.prototype instanceof Error;if(d&&t instanceof l){var h=a(n).call(o,t);return h===s?(e.e=h.e,e):h}if("function"==typeof l&&!d){var p=r(l,t);if(p===s){t=s.e;break}if(p){var h=a(n).call(o,t);return h===s?(e.e=h.e,e):h}}}return e.e=t,e},n}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(t,e){"use strict";e.exports=function(t,e,n){function r(){this._trace=new e(o())}function i(){return n()?new r:void 0}function o(){var t=a.length-1;return t>=0?a[t]:void 0}var a=[];return r.prototype._pushContext=function(){n()&&void 0!==this._trace&&a.push(this._trace)},r.prototype._popContext=function(){n()&&void 0!==this._trace&&a.pop()},t.prototype._peekContext=o,t.prototype._pushContext=r.prototype._pushContext,t.prototype._popContext=r.prototype._popContext,i}},{}],10:[function(e,n){"use strict";n.exports=function(n,r){var i,o,a=e("./async.js"),s=e("./errors.js").Warning,c=e("./util.js"),u=c.canAttachTrace,l=!1||c.isNode&&(!!t.env.BLUEBIRD_DEBUG||"development"===t.env.NODE_ENV);return n.prototype._ensurePossibleRejectionHandled=function(){this._setRejectionIsUnhandled(),a.invokeLater(this._notifyUnhandledRejection,this,void 0)},n.prototype._notifyUnhandledRejectionIsHandled=function(){r.fireRejectionEvent("rejectionHandled",i,void 0,this)},n.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var t=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),r.fireRejectionEvent("unhandledRejection",o,t,this)}},n.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},n.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},n.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},n.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},n.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},n.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},n.prototype._setCarriedStackTrace=function(t){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=t},n.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},n.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},n.prototype._captureStackTrace=function(){return l&&(this._trace=new r(this._peekContext())),this},n.prototype._attachExtraTrace=function(t,e){if(l&&u(t)){var n=this._trace;if(void 0!==n&&e&&(n=n._parent),void 0!==n)n.attachExtraTrace(t);else if(!t.__stackCleaned__){var i=r.parseStackAndMessage(t);t.stack=i.message+"\n"+i.stack.join("\n"),c.notEnumerableProp(t,"__stackCleaned__",!0)}}},n.prototype._warn=function(t){var e=new s(t),n=this._peekContext();if(n)n.attachExtraTrace(e);else{var i=r.parseStackAndMessage(e);e.stack=i.message+"\n"+i.stack.join("\n")}r.formatAndLogError(e,"")},n.onPossiblyUnhandledRejection=function(t){o="function"==typeof t?t:void 0},n.onUnhandledRejectionHandled=function(t){i="function"==typeof t?t:void 0},n.longStackTraces=function(){if(a.haveItemsQueued()&&l===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");l=r.isSupported()},n.hasLongStackTraces=function(){return l&&r.isSupported()},r.isSupported()||(n.longStackTraces=function(){},l=!1),function(){return l}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(t,e){"use strict";var n=t("./util.js"),r=n.isPrimitive,i=n.wrapsPrimitiveReceiver;e.exports=function(t){var e=function(){return this},n=function(){throw this},o=function(t,e){return 1===e?function(){throw t}:2===e?function(){return t}:void 0};t.prototype["return"]=t.prototype.thenReturn=function(t){return i&&r(t)?this._then(o(t,2),void 0,void 0,void 0,void 0):this._then(e,void 0,void 0,t,void 0)},t.prototype["throw"]=t.prototype.thenThrow=function(t){return i&&r(t)?this._then(o(t,1),void 0,void 0,void 0,void 0):this._then(n,void 0,void 0,t,void 0)}}},{"./util.js":38}],12:[function(t,e){"use strict";e.exports=function(t,e){var n=t.reduce;t.prototype.each=function(t){return n(this,t,null,e)},t.each=function(t,r){return n(t,r,null,e)}}},{}],13:[function(t,e){"use strict";function n(t,e){function n(r){return this instanceof n?(l(this,"message","string"==typeof r?r:e),l(this,"name",t),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new n(r)}return u(n,Error),n}function r(t){return this instanceof r?(l(this,"name","OperationalError"),l(this,"message",t),this.cause=t,this.isOperational=!0,void(t instanceof Error?(l(this,"message",t.message),l(this,"stack",t.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new r(t)}var i,o,a=t("./es5.js"),s=a.freeze,c=t("./util.js"),u=c.inherits,l=c.notEnumerableProp,d=n("Warning","warning"),h=n("CancellationError","cancellation error"),p=n("TimeoutError","timeout error"),f=n("AggregateError","aggregate error");try{i=TypeError,o=RangeError}catch(m){i=n("TypeError","type error"),o=n("RangeError","range error")}for(var g="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<g.length;++v)"function"==typeof Array.prototype[g[v]]&&(f.prototype[g[v]]=Array.prototype[g[v]]);a.defineProperty(f.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),f.prototype.isOperational=!0;var b=0;f.prototype.toString=function(){var t=Array(4*b+1).join(" "),e="\n"+t+"AggregateError of:\n";b++,t=Array(4*b+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=t+i[o];r=i.join("\n"),e+=r+"\n"}return b--,e},u(r,Error);var y=Error.__BluebirdErrorTypes__;y||(y=s({CancellationError:h,TimeoutError:p,OperationalError:r,RejectionError:r,AggregateError:f}),l(Error,"__BluebirdErrorTypes__",y)),e.exports={Error:Error,TypeError:i,RangeError:o,CancellationError:y.CancellationError,OperationalError:y.OperationalError,TimeoutError:y.TimeoutError,AggregateError:y.AggregateError,Warning:d}},{"./es5.js":14,"./util.js":38}],14:[function(t,e){var n=function(){"use strict";return void 0===this}();if(n)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:n,propertyIsWritable:function(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return!(n&&!n.writable&&!n.set)}};else{var r={}.hasOwnProperty,i={}.toString,o={}.constructor.prototype,a=function(t){var e=[];for(var n in t)r.call(t,n)&&e.push(n);return e},s=function(t,e){return{value:t[e]}},c=function(t,e,n){return t[e]=n.value,t},u=function(t){return t},l=function(t){try{return Object(t).constructor.prototype}catch(e){return o}},d=function(t){try{return"[object Array]"===i.call(t)}catch(e){return!1}};e.exports={isArray:d,keys:a,names:a,defineProperty:c,getDescriptor:s,freeze:u,getPrototypeOf:l,isES5:n,propertyIsWritable:function(){return!0}}}},{}],15:[function(t,e){"use strict";e.exports=function(t,e){var n=t.map;t.prototype.filter=function(t,r){return n(this,t,r,e)},t.filter=function(t,r,i){return n(t,r,i,e)}}},{}],16:[function(t,e){"use strict";e.exports=function(e,n,r){function i(){return this}function o(){throw this}function a(t){return function(){return t}}function s(t){return function(){throw t}}function c(t,e,n){var r;return r=h&&p(e)?n?a(e):s(e):n?i:o,t._then(r,f,void 0,e,void 0)}function u(t){var i=this.promise,o=this.handler,a=i._isBound()?o.call(i._boundTo):o();if(void 0!==a){var s=r(a,i);if(s instanceof e)return s=s._target(),c(s,t,i.isFulfilled())}return i.isRejected()?(n.e=t,n):t}function l(t){var n=this.promise,i=this.handler,o=n._isBound()?i.call(n._boundTo,t):i(t);if(void 0!==o){var a=r(o,n);if(a instanceof e)return a=a._target(),c(a,t,!0)}return t}var d=t("./util.js"),h=d.wrapsPrimitiveReceiver,p=d.isPrimitive,f=d.thrower;e.prototype._passThroughHandler=function(t,e){if("function"!=typeof t)return this.then();var n={promise:this,handler:t};return this._then(e?u:l,e?u:void 0,void 0,n,void 0)},e.prototype.lastly=e.prototype["finally"]=function(t){return this._passThroughHandler(t,!0)},e.prototype.tap=function(t){return this._passThroughHandler(t,!1)}}},{"./util.js":38}],17:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=d(n[o])(t);if(r._popContext(),a===l){r._pushContext();var s=e.reject(l.e);return r._popContext(),s}var c=i(a,r);if(c instanceof e)return c}return null}function a(t,n,i,o){var a=this._promise=new e(r);a._captureStackTrace(),this._stack=o,this._generatorFunction=t,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(h):h}var s=t("./errors.js"),c=s.TypeError,u=t("./util.js"),l=u.errorObj,d=u.tryCatch,h=[];a.prototype.promise=function(){return this._promise},a.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},a.prototype._continue=function(t){if(t===l)return this._promise._rejectCallback(t.e,!1,!0);var n=t.value;if(t.done===!0)this._promise._resolveCallback(n);else{var r=i(n,this._promise);if(!(r instanceof e)&&(r=o(r,this._yieldHandlers,this._promise),null===r))return void this._throw(new c("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",n)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));r._then(this._next,this._throw,void 0,this,null)}},a.prototype._throw=function(t){this._promise._attachExtraTrace(t),this._promise._pushContext();var e=d(this._generator["throw"]).call(this._generator,t);this._promise._popContext(),this._continue(e)},a.prototype._next=function(t){this._promise._pushContext();var e=d(this._generator.next).call(this._generator,t);this._promise._popContext(),this._continue(e)},e.coroutine=function(t,e){if("function"!=typeof t)throw new c("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var n=Object(e).yieldHandler,r=a,i=(new Error).stack;return function(){var e=t.apply(this,arguments),o=new r(void 0,void 0,n,i);return o._generator=e,o._next(void 0),o.promise()}},e.coroutine.addYieldHandler=function(t){if("function"!=typeof t)throw new c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");h.push(t)},e.spawn=function(t){if("function"!=typeof t)return n("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var r=new a(t,this),i=r.promise();return r._run(e.spawn),i}
}},{"./errors.js":13,"./util.js":38}],18:[function(t,e){"use strict";e.exports=function(e,n,r,i){{var o=t("./util.js");o.canEvaluate,o.tryCatch,o.errorObj}e.join=function(){var t,e=arguments.length-1;if(e>0&&"function"==typeof arguments[e]){t=arguments[e];var r}for(var i=arguments.length,o=new Array(i),a=0;i>a;++a)o[a]=arguments[a];t&&o.pop();var r=new n(o).promise();return void 0!==t?r.spread(t):r}}},{"./util.js":38}],19:[function(t,e){"use strict";e.exports=function(e,n,r,i,o){function a(t,e,n,r){this.constructor$(t),this._promise._captureStackTrace(),this._callback=e,this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=n>=1?[]:f,u.invoke(s,this,void 0)}function s(){this._init$(void 0,-2)}function c(t,e,n,r){var i="object"==typeof n&&null!==n?n.concurrency:0;return i="number"==typeof i&&isFinite(i)&&i>=1?i:0,new a(t,e,i,r)}var u=t("./async.js"),l=t("./util.js"),d=l.tryCatch,h=l.errorObj,p={},f=[];l.inherits(a,n),a.prototype._init=function(){},a.prototype._promiseFulfilled=function(t,n){var r=this._values,o=this.length(),a=this._preservedValues,s=this._limit;if(r[n]===p){if(r[n]=t,s>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(s>=1&&this._inFlight>=s)return r[n]=t,void this._queue.push(n);null!==a&&(a[n]=t);var c=this._callback,u=this._promise._boundTo;this._promise._pushContext();var l=d(c).call(u,t,n,o);if(this._promise._popContext(),l===h)return this._reject(l.e);var f=i(l,this._promise);if(f instanceof e){if(f=f._target(),f._isPending())return s>=1&&this._inFlight++,r[n]=p,f._proxyPromiseArray(this,n);if(!f._isFulfilled())return this._reject(f._reason());l=f._value()}r[n]=l}var m=++this._totalResolved;m>=o&&(null!==a?this._filter(r,a):this._resolve(r))},a.prototype._drainQueue=function(){for(var t=this._queue,e=this._limit,n=this._values;t.length>0&&this._inFlight<e;){if(this._isResolved())return;var r=t.pop();this._promiseFulfilled(n[r],r)}},a.prototype._filter=function(t,e){for(var n=e.length,r=new Array(n),i=0,o=0;n>o;++o)t[o]&&(r[i++]=e[o]);r.length=i,this._resolve(r)},a.prototype.preservedValues=function(){return this._preservedValues},e.prototype.map=function(t,e){return"function"!=typeof t?r("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):c(this,t,e,null).promise()},e.map=function(t,e,n,i){return"function"!=typeof e?r("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):c(t,e,n,i).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(t,e){"use strict";e.exports=function(e,n,r,i){var o=t("./util.js"),a=o.tryCatch;e.method=function(t){if("function"!=typeof t)throw new e.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var r=new e(n);r._captureStackTrace(),r._pushContext();var i=a(t).apply(this,arguments);return r._popContext(),r._resolveFromSyncValue(i),r}},e.attempt=e["try"]=function(t,r,s){if("function"!=typeof t)return i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var c=new e(n);c._captureStackTrace(),c._pushContext();var u=o.isArray(r)?a(t).apply(s,r):a(t).call(s,r);return c._popContext(),c._resolveFromSyncValue(u),c},e.prototype._resolveFromSyncValue=function(t){t===o.errorObj?this._rejectCallback(t.e,!1,!0):this._resolveCallback(t,!0)}}},{"./util.js":38}],21:[function(t,e){"use strict";e.exports=function(e){function n(t,e){var n=this;if(!o.isArray(t))return r.call(n,t,e);var i=s(e).apply(n._boundTo,[null].concat(t));i===c&&a.throwLater(i.e)}function r(t,e){var n=this,r=n._boundTo,i=void 0===t?s(e).call(r,null):s(e).call(r,null,t);i===c&&a.throwLater(i.e)}function i(t,e){var n=this;if(!t){var r=n._target(),i=r._getCarriedStackTrace();i.cause=t,t=i}var o=s(e).call(n._boundTo,t);o===c&&a.throwLater(o.e)}var o=t("./util.js"),a=t("./async.js"),s=o.tryCatch,c=o.errorObj;e.prototype.nodeify=function(t,e){if("function"==typeof t){var o=r;void 0!==e&&Object(e).spread&&(o=n),this._then(o,i,void 0,this,t)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(t,e){"use strict";e.exports=function(e,n){var r=t("./util.js"),i=t("./async.js"),o=r.tryCatch,a=r.errorObj;e.prototype.progressed=function(t){return this._then(void 0,void 0,t,void 0,void 0)},e.prototype._progress=function(t){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(t)},e.prototype._progressHandlerAt=function(t){return 0===t?this._progressHandler0:this[(t<<2)+t-5+2]},e.prototype._doProgressWith=function(t){var n=t.value,i=t.handler,s=t.promise,c=t.receiver,u=o(i).call(c,n);if(u===a){if(null!=u.e&&"StopProgressPropagation"!==u.e.name){var l=r.canAttachTrace(u.e)?u.e:new Error(r.toString(u.e));s._attachExtraTrace(l),s._progress(u.e)}}else u instanceof e?u._then(s._progress,null,null,s,void 0):s._progress(u)},e.prototype._progressUnchecked=function(t){for(var r=this._length(),o=this._progress,a=0;r>a;a++){var s=this._progressHandlerAt(a),c=this._promiseAt(a);if(c instanceof e)"function"==typeof s?i.invoke(this._doProgressWith,this,{handler:s,promise:c,receiver:this._receiverAt(a),value:t}):i.invoke(o,c,t);else{var u=this._receiverAt(a);"function"==typeof s?s.call(u,t,c):u instanceof n&&!u._isResolved()&&u._promiseProgressed(t,c)}}}}},{"./async.js":2,"./util.js":38}],23:[function(t,e){"use strict";e.exports=function(){function e(t){if("function"!=typeof t)throw new u("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==e)throw new u("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,t!==l&&this._resolveFromResolver(t)}function n(t){var n=new e(l);n._fulfillmentHandler0=t,n._rejectionHandler0=t,n._progressHandler0=t,n._promise0=t,n._receiver0=t,n._settledValue=t}var r=function(){return new u("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},i=function(){return new e.PromiseInspection(this._target())},o=function(t){return e.reject(new u(t))},a=t("./util.js"),s=t("./async.js"),c=t("./errors.js"),u=e.TypeError=c.TypeError;e.RangeError=c.RangeError,e.CancellationError=c.CancellationError,e.TimeoutError=c.TimeoutError,e.OperationalError=c.OperationalError,e.RejectionError=c.OperationalError,e.AggregateError=c.AggregateError;var l=function(){},d={},h={e:null},p=t("./thenables.js")(e,l),f=t("./promise_array.js")(e,l,p,o),m=t("./captured_trace.js")(),g=t("./debuggability.js")(e,m),v=t("./context.js")(e,m,g),b=t("./catch_filter.js")(h),y=t("./promise_resolver.js"),w=y._nodebackForPromise,x=a.errorObj,W=a.tryCatch;return e.prototype.toString=function(){return"[object Promise]"},e.prototype.caught=e.prototype["catch"]=function(t){var n=arguments.length;if(n>1){var r,i=new Array(n-1),o=0;for(r=0;n-1>r;++r){var a=arguments[r];if("function"!=typeof a)return e.reject(new u("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));i[o++]=a}i.length=o,t=arguments[r];var s=new b(i,t,this);return this._then(void 0,s.doFilter,void 0,s,void 0)}return this._then(void 0,t,void 0,void 0,void 0)},e.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},e.prototype.then=function(t,e,n){if(g()&&arguments.length>0&&"function"!=typeof t&&"function"!=typeof e){var r=".then() only accepts functions but was passed: "+a.classString(t);arguments.length>1&&(r+=", "+a.classString(e)),this._warn(r)}return this._then(t,e,n,void 0,void 0)},e.prototype.done=function(t,e,n){var r=this._then(t,e,n,void 0,void 0);r._setIsFinal()},e.prototype.spread=function(t,e){return this.all()._then(t,e,void 0,d,void 0)},e.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},e.prototype.toJSON=function(){var t={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(t.fulfillmentValue=this.value(),t.isFulfilled=!0):this.isRejected()&&(t.rejectionReason=this.reason(),t.isRejected=!0),t},e.prototype.all=function(){return new f(this).promise()},e.prototype.error=function(t){return this.caught(a.originatesFromRejection,t)},e.is=function(t){return t instanceof e},e.fromNode=function(t){var n=new e(l),r=W(t)(w(n));return r===x&&n._rejectCallback(r.e,!0,!0),n},e.all=function(t){return new f(t).promise()},e.defer=e.pending=function(){var t=new e(l);return new y(t)},e.cast=function(t){var n=p(t);if(!(n instanceof e)){var r=n;n=new e(l),n._fulfillUnchecked(r)}return n},e.resolve=e.fulfilled=e.cast,e.reject=e.rejected=function(t){var n=new e(l);return n._captureStackTrace(),n._rejectCallback(t,!0),n},e.setScheduler=function(t){if("function"!=typeof t)throw new u("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var e=s._schedule;return s._schedule=t,e},e.prototype._then=function(t,n,r,i,o){var a=void 0!==o,c=a?o:new e(l);a||(c._propagateFrom(this,5),c._captureStackTrace());var u=this._target();u!==this&&(void 0===i&&(i=this._boundTo),a||c._setIsMigrated());var d=u._addCallbacks(t,n,r,c,i);return u._isResolved()&&!u._isSettlePromisesQueued()&&s.invoke(u._settlePromiseAtPostResolution,u,d),c},e.prototype._settlePromiseAtPostResolution=function(t){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(t)},e.prototype._length=function(){return 131071&this._bitField},e.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},e.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},e.prototype._setLength=function(t){this._bitField=-131072&this._bitField|131071&t},e.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},e.prototype._setRejected=function(){this._bitField=134217728|this._bitField},e.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},e.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},e.prototype._isFinal=function(){return(33554432&this._bitField)>0},e.prototype._cancellable=function(){return(67108864&this._bitField)>0},e.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},e.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},e.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},e.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},e.prototype._isMigrated=function(){return(4194304&this._bitField)>0},e.prototype._receiverAt=function(t){var e=0===t?this._receiver0:this[5*t-5+4];return void 0===e&&this._isBound()?this._boundTo:e},e.prototype._promiseAt=function(t){return 0===t?this._promise0:this[5*t-5+3]},e.prototype._fulfillmentHandlerAt=function(t){return 0===t?this._fulfillmentHandler0:this[5*t-5+0]},e.prototype._rejectionHandlerAt=function(t){return 0===t?this._rejectionHandler0:this[5*t-5+1]},e.prototype._migrateCallbacks=function(t,n){var r=t._fulfillmentHandlerAt(n),i=t._rejectionHandlerAt(n),o=t._progressHandlerAt(n),a=t._promiseAt(n),s=t._receiverAt(n);a instanceof e&&a._setIsMigrated(),this._addCallbacks(r,i,o,a,s)},e.prototype._addCallbacks=function(t,e,n,r,i){var o=this._length();if(o>=131066&&(o=0,this._setLength(0)),0===o)this._promise0=r,void 0!==i&&(this._receiver0=i),"function"!=typeof t||this._isCarryingStackTrace()||(this._fulfillmentHandler0=t),"function"==typeof e&&(this._rejectionHandler0=e),"function"==typeof n&&(this._progressHandler0=n);else{var a=5*o-5;this[a+3]=r,this[a+4]=i,"function"==typeof t&&(this[a+0]=t),"function"==typeof e&&(this[a+1]=e),"function"==typeof n&&(this[a+2]=n)}return this._setLength(o+1),o},e.prototype._setProxyHandlers=function(t,e){var n=this._length();if(n>=131066&&(n=0,this._setLength(0)),0===n)this._promise0=e,this._receiver0=t;else{var r=5*n-5;this[r+3]=e,this[r+4]=t}this._setLength(n+1)},e.prototype._proxyPromiseArray=function(t,e){this._setProxyHandlers(t,e)},e.prototype._resolveCallback=function(t,n){if(!this._isFollowingOrFulfilledOrRejected()){if(t===this)return this._rejectCallback(r(),!1,!0);var i=p(t,this);if(!(i instanceof e))return this._fulfill(t);var o=1|(n?4:0);this._propagateFrom(i,o);var a=i._target();if(a._isPending()){for(var s=this._length(),c=0;s>c;++c)a._migrateCallbacks(this,c);this._setFollowing(),this._setLength(0),this._setFollowee(a)}else a._isFulfilled()?this._fulfillUnchecked(a._value()):this._rejectUnchecked(a._reason(),a._getCarriedStackTrace())}},e.prototype._rejectCallback=function(t,e,n){n||a.markAsOriginatingFromRejection(t);var r=a.ensureErrorObject(t),i=r===t;this._attachExtraTrace(r,e?i:!1),this._reject(t,i?void 0:r)},e.prototype._resolveFromResolver=function(t){var e=this;this._captureStackTrace(),this._pushContext();var n=!0,r=W(t)(function(t){null!==e&&(e._resolveCallback(t),e=null)},function(t){null!==e&&(e._rejectCallback(t,n),e=null)});n=!1,this._popContext(),void 0!==r&&r===x&&null!==e&&(e._rejectCallback(r.e,!0,!0),e=null)},e.prototype._settlePromiseFromHandler=function(t,e,n,i){if(!i._isRejected()){i._pushContext();var o;if(o=e!==d||this._isRejected()?W(t).call(e,n):W(t).apply(this._boundTo,n),i._popContext(),o===x||o===i||o===h){var a=o===i?r():o.e;i._rejectCallback(a,!1,!0)}else i._resolveCallback(o)}},e.prototype._target=function(){for(var t=this;t._isFollowing();)t=t._followee();return t},e.prototype._followee=function(){return this._rejectionHandler0},e.prototype._setFollowee=function(t){this._rejectionHandler0=t},e.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},e.prototype._propagateFrom=function(t,e){(1&e)>0&&t._cancellable()&&(this._setCancellable(),this._cancellationParent=t),(4&e)>0&&t._isBound()&&this._setBoundTo(t._boundTo)},e.prototype._fulfill=function(t){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(t)},e.prototype._reject=function(t,e){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(t,e)},e.prototype._settlePromiseAt=function(t){var n=this._promiseAt(t),r=n instanceof e;if(r&&n._isMigrated())return n._unsetIsMigrated(),s.invoke(this._settlePromiseAt,this,t);var i=this._isFulfilled()?this._fulfillmentHandlerAt(t):this._rejectionHandlerAt(t),o=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,a=this._settledValue,c=this._receiverAt(t);this._clearCallbackDataAtIndex(t),"function"==typeof i?r?this._settlePromiseFromHandler(i,c,a,n):i.call(c,a,n):c instanceof f?c._isResolved()||(this._isFulfilled()?c._promiseFulfilled(a,n):c._promiseRejected(a,n)):r&&(this._isFulfilled()?n._fulfill(a):n._reject(a,o)),t>=4&&4===(31&t)&&s.invokeLater(this._setLength,this,0)},e.prototype._clearCallbackDataAtIndex=function(t){if(0===t)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var e=5*t-5;this[e+3]=this[e+4]=this[e+0]=this[e+1]=this[e+2]=void 0}},e.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},e.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},e.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},e.prototype._queueSettlePromises=function(){s.settlePromises(this),this._setSettlePromisesQueued()},e.prototype._fulfillUnchecked=function(t){if(t===this){var e=r();return this._attachExtraTrace(e),this._rejectUnchecked(e,void 0)}this._setFulfilled(),this._settledValue=t,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},e.prototype._rejectUncheckedCheckError=function(t){var e=a.ensureErrorObject(t);this._rejectUnchecked(t,e===t?void 0:e)},e.prototype._rejectUnchecked=function(t,e){if(t===this){var n=r();return this._attachExtraTrace(n),this._rejectUnchecked(n)}return this._setRejected(),this._settledValue=t,this._cleanValues(),this._isFinal()?void s.throwLater(function(t){throw"stack"in t&&s.invokeFirst(m.unhandledRejection,void 0,t),t},void 0===e?t:e):(void 0!==e&&e!==t&&this._setCarriedStackTrace(e),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},e.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var t=this._length(),e=0;t>e;e++)this._settlePromiseAt(e)},e._makeSelfResolutionError=r,t("./method.js")(e,l,p,o),t("./bind.js")(e,l,p),t("./finally.js")(e,h,p),t("./direct_resolve.js")(e),t("./synchronous_inspection.js")(e),t("./join.js")(e,f,p,l),e.Promise=e,t("./map.js")(e,f,o,p,l),t("./using.js")(e,o,p,v),t("./generators.js")(e,o,l,p),t("./nodeify.js")(e),t("./cancel.js")(e),t("./promisify.js")(e,l),t("./props.js")(e,f,p,o),t("./race.js")(e,l,p,o),t("./reduce.js")(e,f,o,p,l),t("./settle.js")(e,f),t("./call_get.js")(e),t("./some.js")(e,f,o),t("./progress.js")(e,f),t("./any.js")(e),t("./each.js")(e,l),t("./timers.js")(e,l),t("./filter.js")(e,l),a.toFastProperties(e),a.toFastProperties(e.prototype),n({a:1}),n({b:2}),n({c:3}),n(1),n(function(){}),n(void 0),n(!1),n(new e(l)),m.setBounds(s.firstLineError,a.lastLineError),e}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t){switch(t){case-2:return[];case-3:return{}}}function a(t){var r,i=this._promise=new e(n);t instanceof e&&(r=t,i._propagateFrom(r,5)),this._values=t,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var s=t("./util.js"),c=s.isArray;return a.prototype.length=function(){return this._length},a.prototype.promise=function(){return this._promise},a.prototype._init=function u(t,n){var a=r(this._values,this._promise);if(a instanceof e){if(a=a._target(),this._values=a,!a._isFulfilled())return a._isPending()?void a._then(u,this._reject,void 0,this,n):void this._reject(a._reason());if(a=a._value(),!c(a)){var s=new e.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(s)}}else if(!c(a))return void this._promise._reject(i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===a.length)return void(-5===n?this._resolveEmptyArray():this._resolve(o(n)));var l=this.getActualLength(a.length);this._length=l,this._values=this.shouldCopyValues()?new Array(l):this._values;for(var d=this._promise,h=0;l>h;++h){var p=this._isResolved(),f=r(a[h],d);f instanceof e?(f=f._target(),p?f._unsetRejectionIsUnhandled():f._isPending()?f._proxyPromiseArray(this,h):f._isFulfilled()?this._promiseFulfilled(f._value(),h):this._promiseRejected(f._reason(),h)):p||this._promiseFulfilled(f,h)}},a.prototype._isResolved=function(){return null===this._values},a.prototype._resolve=function(t){this._values=null,this._promise._fulfill(t)},a.prototype.__hardReject__=a.prototype._reject=function(t){this._values=null,this._promise._rejectCallback(t,!1,!0)},a.prototype._promiseProgressed=function(t,e){this._promise._progress({index:e,value:t})},a.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},a.prototype._promiseRejected=function(t){this._totalResolved++,this._reject(t)},a.prototype.shouldCopyValues=function(){return!0},a.prototype.getActualLength=function(t){return t},a}},{"./util.js":38}],25:[function(t,e){"use strict";function n(t){return t instanceof Error&&h.getPrototypeOf(t)===Error.prototype}function r(t){var e;if(n(t)){e=new l(t),e.name=t.name,e.message=t.message,e.stack=t.stack;for(var r=h.keys(t),i=0;i<r.length;++i){var o=r[i];p.test(o)||(e[o]=t[o])}return e}return a.markAsOriginatingFromRejection(t),t}function i(t){return function(e,n){if(null!==t){if(e){var i=r(s(e));t._attachExtraTrace(i),t._reject(i)}else if(arguments.length>2){for(var o=arguments.length,a=new Array(o-1),c=1;o>c;++c)a[c-1]=arguments[c];t._fulfill(a)}else t._fulfill(n);t=null}}}var o,a=t("./util.js"),s=a.maybeWrapAsError,c=t("./errors.js"),u=c.TimeoutError,l=c.OperationalError,d=a.haveGetters,h=t("./es5.js"),p=/^(?:name|message|stack|cause)$/;if(o=d?function(t){this.promise=t}:function(t){this.promise=t,this.asCallback=i(t),this.callback=this.asCallback},d){var f={get:function(){return i(this.promise)}};h.defineProperty(o.prototype,"asCallback",f),h.defineProperty(o.prototype,"callback",f)}o._nodebackForPromise=i,o.prototype.toString=function(){return"[object PromiseResolver]"},o.prototype.resolve=o.prototype.fulfill=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(t)},o.prototype.reject=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(t)},o.prototype.progress=function(t){if(!(this instanceof o))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(t)},o.prototype.cancel=function(t){this.promise.cancel(t)},o.prototype.timeout=function(){this.reject(new u("timeout"))},o.prototype.isResolved=function(){return this.promise.isResolved()},o.prototype.toJSON=function(){return this.promise.toJSON()},e.exports=o},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(t,e){"use strict";e.exports=function(e,n){function r(t){return!x.test(t)}function i(t){try{return t.__isPromisified__===!0}catch(e){return!1}}function o(t,e,n){var r=p.getDataPropertyOrDefault(t,e+n,w);return r?i(r):!1}function a(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<t.length;a+=2)if(t[a]===o)throw new b("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",e))}}function s(t,e,n,r){for(var s=p.inheritedDataKeys(t),c=[],u=0;u<s.length;++u){var l=s[u],d=t[l],h=r===W?!0:W(l,d,t);"function"!=typeof d||i(d)||o(t,l,e)||!r(l,d,t,h)||c.push(l,d)}return a(c,e,n),c}function c(t,r,i,o){function a(){var i=r;r===h&&(i=this);var o=new e(n);o._captureStackTrace();var a="string"==typeof c&&this!==s?this[c]:t,u=f(o);try{a.apply(i,m(arguments,u))}catch(l){o._rejectCallback(g(l),!0,!0)}return o}var s=function(){return this}(),c=t;return"string"==typeof c&&(t=o),a.__isPromisified__=!0,a}function u(t,e,n,r){for(var i=new RegExp(_(e)+"$"),o=s(t,e,i,n),a=0,c=o.length;c>a;a+=2){var u=o[a],l=o[a+1],d=u+e;t[d]=r===L?L(u,h,u,l,e):r(l,function(){return L(u,h,u,l,e)})}return p.toFastProperties(t),t}function l(t,e){return L(t,e,void 0,t)}var d,h={},p=t("./util.js"),f=t("./promise_resolver.js")._nodebackForPromise,m=p.withAppended,g=p.maybeWrapAsError,v=p.canEvaluate,b=t("./errors").TypeError,y="Async",w={__isPromisified__:!0},x=/^(?:length|name|arguments|caller|prototype|__isPromisified__)$/,W=function(t,e){return p.isIdentifier(t)&&"_"!==t.charAt(0)&&!p.isClass(e)},_=function(t){return t.replace(/([$])/,"\\$")},L=v?d:c;e.promisify=function(t,e){if("function"!=typeof t)throw new b("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(i(t))return t;var n=l(t,arguments.length<2?h:e);return p.copyDescriptors(t,n,r),n},e.promisifyAll=function(t,e){if("function"!=typeof t&&"object"!=typeof t)throw new b("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");e=Object(e);var n=e.suffix;"string"!=typeof n&&(n=y);var r=e.filter;"function"!=typeof r&&(r=W);var i=e.promisifier;if("function"!=typeof i&&(i=L),!p.isIdentifier(n))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");for(var o=p.inheritedDataKeys(t),a=0;a<o.length;++a){var s=t[o[a]];"constructor"!==o[a]&&p.isClass(s)&&(u(s.prototype,n,r,i),u(s,n,r,i))}return u(t,n,r,i)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t){for(var e=u.keys(t),n=e.length,r=new Array(2*n),i=0;n>i;++i){var o=e[i];r[i]=t[o],r[i+n]=o}this.constructor$(r)}function a(t){var n,a=r(t);return c(a)?(n=a instanceof e?a._then(e.props,void 0,void 0,void 0,void 0):new o(a).promise(),a instanceof e&&n._propagateFrom(a,4),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var s=t("./util.js"),c=s.isObject,u=t("./es5.js");s.inherits(o,n),o.prototype._init=function(){this._init$(void 0,-3)},o.prototype._promiseFulfilled=function(t,e){this._values[e]=t;var n=++this._totalResolved;if(n>=this._length){for(var r={},i=this.length(),o=0,a=this.length();a>o;++o)r[this._values[o+i]]=this._values[o];this._resolve(r)}},o.prototype._promiseProgressed=function(t,e){this._promise._progress({key:this._values[e+this.length()],value:t})},o.prototype.shouldCopyValues=function(){return!1},o.prototype.getActualLength=function(t){return t>>1},e.prototype.props=function(){return a(this)},e.props=function(t){return a(t)}}},{"./es5.js":14,"./util.js":38}],28:[function(t,e){"use strict";function n(t,e,n,r,i){for(var o=0;i>o;++o)n[o+r]=t[o+e],t[o+e]=void 0}function r(t){this._capacity=t,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(t){return this._capacity<t},r.prototype._pushOne=function(t){var e=this.length();this._checkCapacity(e+1);var n=this._front+e&this._capacity-1;this[n]=t,this._length=e+1},r.prototype._unshiftOne=function(t){var e=this._capacity;this._checkCapacity(this.length()+1);var n=this._front,r=(n-1&e-1^e)-e;this[r]=t,this._front=r,this._length=this.length()+1},r.prototype.unshift=function(t,e,n){this._unshiftOne(n),this._unshiftOne(e),this._unshiftOne(t)},r.prototype.push=function(t,e,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(t),this._pushOne(e),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=t,this[i+1&o]=e,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var t=this._front,e=this[t];return this[t]=void 0,this._front=t+1&this._capacity-1,this._length--,e},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(t){this._capacity<t&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(t){var e=this._capacity;this._capacity=t;var r=this._front,i=this._length,o=r+i&e-1;n(this,0,this,e,o)},e.exports=r},{}],29:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t,o){var c=r(t);if(c instanceof e)return s(c);if(!a(t))return i("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var u=new e(n);void 0!==o&&u._propagateFrom(o,5);for(var l=u._fulfill,d=u._reject,h=0,p=t.length;p>h;++h){var f=t[h];(void 0!==f||h in t)&&e.cast(f)._then(l,d,void 0,u,null)}return u}var a=t("./util.js").isArray,s=function(t){return t.then(function(e){return o(e,t)})};e.race=function(t){return o(t,void 0)},e.prototype.race=function(){return o(this,void 0)}}},{"./util.js":38}],30:[function(t,e){"use strict";e.exports=function(e,n,r,i,o){function a(t,n,r,a){this.constructor$(t),this._promise._captureStackTrace(),this._preservedValues=a===o?[]:null,this._zerothIsAccum=void 0===r,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var c=i(r,this._promise),l=!1,d=c instanceof e;d&&(c=c._target(),c._isPending()?c._proxyPromiseArray(this,-1):c._isFulfilled()?(r=c._value(),this._gotAccum=!0):(this._reject(c._reason()),l=!0)),d||this._zerothIsAccum||(this._gotAccum=!0),this._callback=n,this._accum=r,l||u.invoke(s,this,void 0)}function s(){this._init$(void 0,-5)}function c(t,e,n,i){if("function"!=typeof e)return r("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var o=new a(t,e,n,i);return o.promise()}var u=t("./async.js"),l=t("./util.js"),d=l.tryCatch,h=l.errorObj;l.inherits(a,n),a.prototype._init=function(){},a.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},a.prototype._promiseFulfilled=function(t,n){var r=this._values;r[n]=t;var o,a=this.length(),s=this._preservedValues,c=null!==s,u=this._gotAccum,l=this._valuesPhase;if(!l)for(l=this._valuesPhase=new Array(a),o=0;a>o;++o)l[o]=0;if(o=l[n],0===n&&this._zerothIsAccum?(this._accum=t,this._gotAccum=u=!0,l[n]=0===o?1:2):-1===n?(this._accum=t,this._gotAccum=u=!0):0===o?l[n]=1:(l[n]=2,this._accum=t),u){for(var p,f=this._callback,m=this._promise._boundTo,g=this._reducingIndex;a>g;++g)if(o=l[g],2!==o){if(1!==o)return;if(t=r[g],this._promise._pushContext(),c?(s.push(t),p=d(f).call(m,t,g,a)):p=d(f).call(m,this._accum,t,g,a),this._promise._popContext(),p===h)return this._reject(p.e);var v=i(p,this._promise);if(v instanceof e){if(v=v._target(),v._isPending())return l[g]=4,v._proxyPromiseArray(this,g);if(!v._isFulfilled())return this._reject(v._reason());p=v._value()}this._reducingIndex=g+1,this._accum=p}else this._reducingIndex=g+1;this._resolve(c?s:this._accum)}},e.prototype.reduce=function(t,e){return c(this,t,e,null)},e.reduce=function(t,e,n,r){return c(t,e,n,r)}}},{"./async.js":2,"./util.js":38}],31:[function(e,n){"use strict";var r;e("./util.js").isNode?r=t.nextTick:"undefined"!=typeof MutationObserver?(r=function(t){var e=document.createElement("div"),n=new MutationObserver(t);return n.observe(e,{attributes:!0}),function(){e.classList.toggle("foo")}},r.isStatic=!0):r="undefined"!=typeof setTimeout?function(t){setTimeout(t,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")},n.exports=r},{"./util.js":38}],32:[function(t,e){"use strict";e.exports=function(e,n){function r(t){this.constructor$(t)}var i=e.PromiseInspection,o=t("./util.js");o.inherits(r,n),r.prototype._promiseResolved=function(t,e){this._values[t]=e;var n=++this._totalResolved;n>=this._length&&this._resolve(this._values)},r.prototype._promiseFulfilled=function(t,e){var n=new i;n._bitField=268435456,n._settledValue=t,this._promiseResolved(e,n)},r.prototype._promiseRejected=function(t,e){var n=new i;n._bitField=134217728,n._settledValue=t,this._promiseResolved(e,n)},e.settle=function(t){return new r(t).promise()},e.prototype.settle=function(){return new r(this).promise()}}},{"./util.js":38}],33:[function(t,e){"use strict";e.exports=function(e,n,r){function i(t){this.constructor$(t),this._howMany=0,this._unwrap=!1,this._initialized=!1}function o(t,e){if((0|e)!==e||0>e)return r("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var n=new i(t),o=n.promise();return n.setHowMany(e),n.init(),o}var a=t("./util.js"),s=t("./errors.js").RangeError,c=t("./errors.js").AggregateError,u=a.isArray;a.inherits(i,n),i.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var t=u(this._values);!this._isResolved()&&t&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},i.prototype.init=function(){this._initialized=!0,this._init()},i.prototype.setUnwrap=function(){this._unwrap=!0},i.prototype.howMany=function(){return this._howMany},i.prototype.setHowMany=function(t){this._howMany=t},i.prototype._promiseFulfilled=function(t){this._addFulfilled(t),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this._resolve(1===this.howMany()&&this._unwrap?this._values[0]:this._values))},i.prototype._promiseRejected=function(t){if(this._addRejected(t),this.howMany()>this._canPossiblyFulfill()){for(var e=new c,n=this.length();n<this._values.length;++n)e.push(this._values[n]);
this._reject(e)}},i.prototype._fulfilled=function(){return this._totalResolved},i.prototype._rejected=function(){return this._values.length-this.length()},i.prototype._addRejected=function(t){this._values.push(t)},i.prototype._addFulfilled=function(t){this._values[this._totalResolved++]=t},i.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},i.prototype._getRangeError=function(t){var e="Input array must contain at least "+this._howMany+" items but contains only "+t+" items";return new s(e)},i.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},e.some=function(t,e){return o(t,e)},e.prototype.some=function(t){return o(this,t)},e._SomePromiseArray=i}},{"./errors.js":13,"./util.js":38}],34:[function(t,e){"use strict";e.exports=function(t){function e(t){void 0!==t?(t=t._target(),this._bitField=t._bitField,this._settledValue=t._settledValue):(this._bitField=0,this._settledValue=void 0)}e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},e.prototype.isFulfilled=t.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},e.prototype.isRejected=t.prototype._isRejected=function(){return(134217728&this._bitField)>0},e.prototype.isPending=t.prototype._isPending=function(){return 0===(402653184&this._bitField)},e.prototype.isResolved=t.prototype._isResolved=function(){return(402653184&this._bitField)>0},t.prototype.isPending=function(){return this._target()._isPending()},t.prototype.isRejected=function(){return this._target()._isRejected()},t.prototype.isFulfilled=function(){return this._target()._isFulfilled()},t.prototype.isResolved=function(){return this._target()._isResolved()},t.prototype._value=function(){return this._settledValue},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},t.prototype.value=function(){var t=this._target();if(!t.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return t._settledValue},t.prototype.reason=function(){var t=this._target();if(!t.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return t._unsetRejectionIsUnhandled(),t._settledValue},t.PromiseInspection=e}},{}],35:[function(t,e){"use strict";e.exports=function(e,n){function r(t,r){if(u(t)){if(t instanceof e)return t;if(o(t)){var l=new e(n);return t._then(l._fulfillUnchecked,l._rejectUncheckedCheckError,l._progressUnchecked,l,null),l}var d=s.tryCatch(i)(t);if(d===c){r&&r._pushContext();var l=e.reject(d.e);return r&&r._popContext(),l}if("function"==typeof d)return a(t,d,r)}return t}function i(t){return t.then}function o(t){return l.call(t,"_promise0")}function a(t,r,i){function o(n){l&&(t===n?l._rejectCallback(e._makeSelfResolutionError(),!1,!0):l._resolveCallback(n),l=null)}function a(t){l&&(l._rejectCallback(t,h,!0),l=null)}function u(t){l&&"function"==typeof l._progress&&l._progress(t)}var l=new e(n),d=l;i&&i._pushContext(),l._captureStackTrace(),i&&i._popContext();var h=!0,p=s.tryCatch(r).call(t,o,a,u);return h=!1,l&&p===c&&(l._rejectCallback(p.e,!0,!0),l=null),d}var s=t("./util.js"),c=s.errorObj,u=s.isObject,l={}.hasOwnProperty;return r}},{"./util.js":38}],36:[function(t,e){"use strict";e.exports=function(e,n){function r(t){var e=this;return e instanceof Number&&(e=+e),clearTimeout(e),t}function i(t){var e=this;throw e instanceof Number&&(e=+e),clearTimeout(e),t}var o=t("./util.js"),a=e.TimeoutError,s=function(t,e){if(t.isPending()){"string"!=typeof e&&(e="operation timed out");var n=new a(e);o.markAsOriginatingFromRejection(n),t._attachExtraTrace(n),t._cancel(n)}},c=function(t){return u(+this).thenReturn(t)},u=e.delay=function(t,r){if(void 0===r){r=t,t=void 0;var i=new e(n);return setTimeout(function(){i._fulfill()},r),i}return r=+r,e.resolve(t)._then(c,null,null,r,void 0)};e.prototype.delay=function(t){return u(this,t)},e.prototype.timeout=function(t,e){t=+t;var n=this.then().cancellable();n._cancellationParent=this;var o=setTimeout(function(){s(n,e)},t);return n._then(r,i,void 0,o,void 0)}}},{"./util.js":38}],37:[function(t,e){"use strict";e.exports=function(e,n,r,i){function o(t){for(var n=t.length,r=0;n>r;++r){var i=t[r];if(i.isRejected())return e.reject(i.error());t[r]=i._settledValue}return t}function a(t){setTimeout(function(){throw t},0)}function s(t){var e=r(t);return e!==t&&"function"==typeof t._isDisposable&&"function"==typeof t._getDisposer&&t._isDisposable()&&e._setDisposable(t._getDisposer()),e}function c(t,n){function i(){if(o>=c)return u.resolve();var l=s(t[o++]);if(l instanceof e&&l._isDisposable()){try{l=r(l._getDisposer().tryDispose(n),t.promise)}catch(d){return a(d)}if(l instanceof e)return l._then(i,a,null,null,null)}i()}var o=0,c=t.length,u=e.defer();return i(),u.promise}function u(t){var e=new g;return e._settledValue=t,e._bitField=268435456,c(this,e).thenReturn(t)}function l(t){var e=new g;return e._settledValue=t,e._bitField=134217728,c(this,e).thenThrow(t)}function d(t,e,n){this._data=t,this._promise=e,this._context=n}function h(t,e,n){this.constructor$(t,e,n)}function p(t){return d.isDisposer(t)?(this.resources[this.index]._setDisposable(t),t.promise()):t}var f=t("./errors.js").TypeError,m=t("./util.js").inherits,g=e.PromiseInspection;d.prototype.data=function(){return this._data},d.prototype.promise=function(){return this._promise},d.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},d.prototype.tryDispose=function(t){var e=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=null!==e?this.doDispose(e,t):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},d.isDisposer=function(t){return null!=t&&"function"==typeof t.resource&&"function"==typeof t.tryDispose},m(h,d),h.prototype.doDispose=function(t,e){var n=this.data();return n.call(t,t,e)},e.using=function(){var t=arguments.length;if(2>t)return n("you must pass at least 2 arguments to Promise.using");var i=arguments[t-1];if("function"!=typeof i)return n("fn must be a function\n\n    See http://goo.gl/916lJJ\n");t--;for(var a=new Array(t),s=0;t>s;++s){var c=arguments[s];if(d.isDisposer(c)){var h=c;c=c.promise(),c._setDisposable(h)}else{var f=r(c);f instanceof e&&(c=f._then(p,null,null,{resources:a,index:s},void 0))}a[s]=c}var m=e.settle(a).then(o).then(function(t){m._pushContext();var e;try{e=i.apply(void 0,t)}finally{m._popContext()}return e})._then(u,l,void 0,a,void 0);return a.promise=m,m},e.prototype._setDisposable=function(t){this._bitField=262144|this._bitField,this._disposer=t},e.prototype._isDisposable=function(){return(262144&this._bitField)>0},e.prototype._getDisposer=function(){return this._disposer},e.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},e.prototype.disposer=function(t){if("function"==typeof t)return new h(t,this,i());throw new f}}},{"./errors.js":13,"./util.js":38}],38:[function(e,n,r){"use strict";function i(){try{return I.apply(this,arguments)}catch(t){return X.e=t,X}}function o(t){return I=t,i}function a(t){return null==t||t===!0||t===!1||"string"==typeof t||"number"==typeof t}function s(t){return!a(t)}function c(t){return a(t)?new Error(v(t)):t}function u(t,e){var n,r=t.length,i=new Array(r+1);for(n=0;r>n;++n)i[n]=t[n];return i[n]=e,i}function l(t,e,n){if(!_.isES5)return{}.hasOwnProperty.call(t,e)?t[e]:void 0;var r=Object.getOwnPropertyDescriptor(t,e);return null!=r?null==r.get&&null==r.set?r.value:n:void 0}function d(t,e,n){if(a(t))return t;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return _.defineProperty(t,e,r),t}function h(t){throw t}function p(t){try{if("function"==typeof t){var e=_.names(t.prototype);return _.isES5?e.length>1:e.length>0&&!(1===e.length&&"constructor"===e[0])}return!1}catch(n){return!1}}function f(t){function e(){}return e.prototype=t,e}function m(t){return F.test(t)}function g(t,e,n){for(var r=new Array(t),i=0;t>i;++i)r[i]=e+i+n;return r}function v(t){try{return t+""}catch(e){return"[no string representation]"}}function b(t){try{d(t,"isOperational",!0)}catch(e){}}function y(t){return null==t?!1:t instanceof Error.__BluebirdErrorTypes__.OperationalError||t.isOperational===!0}function w(t){return t instanceof Error&&_.propertyIsWritable(t,"stack")}function x(t){return{}.toString.call(t)}function W(t,e,n){for(var r=_.names(t),i=0;i<r.length;++i){var o=r[i];n(o)&&_.defineProperty(e,o,_.getDescriptor(t,o))}}var _=e("./es5.js"),L="undefined"==typeof navigator,C=function(){try{var t={};return _.defineProperty(t,"f",{get:function(){return 3}}),3===t.f}catch(e){return!1}}(),X={e:{}},I,Y=function(t,e){function n(){this.constructor=t,this.constructor$=e;for(var n in e.prototype)r.call(e.prototype,n)&&"$"!==n.charAt(n.length-1)&&(this[n+"$"]=e.prototype[n])}var r={}.hasOwnProperty;return n.prototype=e.prototype,t.prototype=new n,t.prototype},Z=function(){return"string"!==this}.call("string"),j=function(){if(_.isES5){var t=Object.prototype,e=Object.getOwnPropertyNames;return function(n){for(var r=[],i=Object.create(null);null!=n&&n!==t;){var o;try{o=e(n)}catch(a){return r}for(var s=0;s<o.length;++s){var c=o[s];if(!i[c]){i[c]=!0;var u=Object.getOwnPropertyDescriptor(n,c);null!=u&&null==u.get&&null==u.set&&r.push(c)}}n=_.getPrototypeOf(n)}return r}}return function(t){var e=[];for(var n in t)e.push(n);return e}}(),F=/^[a-z$_][a-z$_0-9]*$/i,R=function(){return"stack"in new Error?function(t){return w(t)?t:new Error(v(t))}:function(t){if(w(t))return t;try{throw new Error(v(t))}catch(e){return e}}}(),k={isClass:p,isIdentifier:m,inheritedDataKeys:j,getDataPropertyOrDefault:l,thrower:h,isArray:_.isArray,haveGetters:C,notEnumerableProp:d,isPrimitive:a,isObject:s,canEvaluate:L,errorObj:X,tryCatch:o,inherits:Y,withAppended:u,maybeWrapAsError:c,wrapsPrimitiveReceiver:Z,toFastProperties:f,filledRange:g,toString:v,canAttachTrace:w,ensureErrorObject:R,originatesFromRejection:y,markAsOriginatingFromRejection:b,classString:x,copyDescriptors:W,isNode:"undefined"!=typeof t&&"[object process]"===x(t).toLowerCase()};try{throw new Error}catch(G){k.lastLineError=G}n.exports=k},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:45}],40:[function(){},{}],41:[function(t,e,n){function r(t,e){var n=this;if(!(n instanceof r))return new r(t,e);var i,o=typeof t;if("number"===o)i=+t;else if("string"===o)i=r.byteLength(t,e);else{if("object"!==o||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&O(t.data)&&(t=t.data),i=+t.length}if(i>N)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+N.toString(16)+" bytes");0>i?i=0:i>>>=0,r.TYPED_ARRAY_SUPPORT?n=r._augment(new Uint8Array(i)):(n.length=i,n._isBuffer=!0);var a;if(r.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)n._set(t);else if(X(t))if(r.isBuffer(t))for(a=0;i>a;a++)n[a]=t.readUInt8(a);else for(a=0;i>a;a++)n[a]=(t[a]%256+256)%256;else if("string"===o)n.write(t,0,e);else if("number"===o&&!r.TYPED_ARRAY_SUPPORT)for(a=0;i>a;a++)n[a]=0;return i>0&&i<=r.poolSize&&(n.parent=S),n}function i(t,e){if(!(this instanceof i))return new i(t,e);var n=new r(t,e);return delete n.parent,n}function o(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;r>a;a++){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");t[n+a]=s}return a}function a(t,e,n,r){var i=R(Y(e,t.length-n),t,n,r);return i}function s(t,e,n,r){var i=R(Z(e),t,n,r);return i}function c(t,e,n,r){return s(t,e,n,r)}function u(t,e,n,r){var i=R(F(e),t,n,r);return i}function l(t,e,n,r){var i=R(j(e,t.length-n),t,n,r);return i}function d(t,e,n){return G.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function h(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;n>o;o++)t[o]<=127?(r+=k(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+k(i)}function p(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(127&t[i]);return r}function f(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;n>i;i++)r+=String.fromCharCode(t[i]);return r}function m(t,e,n){var r=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>r)&&(n=r);for(var i="",o=e;n>o;o++)i+=I(t[o]);return i}function g(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function v(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function b(t,e,n,i,o,a){if(!r.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||a>e)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range")}function y(t,e,n,r){0>e&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);o>i;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function w(t,e,n,r){0>e&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);o>i;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function x(t,e,n,r,i,o){if(e>i||o>e)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function W(t,e,n,r,i){return i||x(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),A.write(t,e,n,r,23,4),n+4}function _(t,e,n,r,i){return i||x(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),A.write(t,e,n,r,52,8),n+8}function L(t){if(t=C(t).replace(T,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function C(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function X(t){return O(t)||r.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function I(t){return 16>t?"0"+t.toString(16):t.toString(16)}function Y(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;r>a;a++){if(n=t.charCodeAt(a),n>55295&&57344>n){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(56320>n){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((e-=3)>-1&&o.push(239,191,189),i=null);if(128>n){if((e-=1)<0)break;o.push(n)}else if(2048>n){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(2097152>n))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function j(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);a++)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function F(t){return G.toByteArray(L(t))}function R(t,e,n,r){for(var i=0;r>i&&!(i+n>=e.length||i>=t.length);i++)e[i+n]=t[i];return i}function k(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}var G=t("base64-js"),A=t("ieee754"),O=t("is-array");n.Buffer=r,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var N=1073741823,S={};r.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);a>o&&t[o]===e[o];o++);return o!==a&&(n=t[o],i=e[o]),i>n?-1:n>i?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!O(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new r(0);if(1===t.length)return t[0];var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new r(e),o=0;for(n=0;n<t.length;n++){var a=t[n];a.copy(i,o),o+=a.length}return i},r.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":n=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;case"hex":n=t.length>>>1;break;case"utf8":case"utf-8":n=Y(t).length;break;case"base64":n=F(t).length;break;default:n=t.length}return n},r.prototype.length=void 0,r.prototype.parent=void 0,r.prototype.toString=function(t,e,n){var r=!1;if(e>>>=0,n=void 0===n||1/0===n?this.length:n>>>0,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return m(this,e,n);case"utf8":case"utf-8":return h(this,e,n);case"ascii":return p(this,e,n);case"binary":return f(this,e,n);case"base64":return d(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===r.compare(this,t)},r.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:r.compare(this,t)},r.prototype.indexOf=function(t,e){function n(t,e,n){for(var r=-1,i=0;n+i<t.length;i++)if(t[n+i]===e[-1===r?0:i-r]){if(-1===r&&(r=i),i-r+1===e.length)return n+r}else r=-1;return-1}if(e>2147483647?e=2147483647:-2147483648>e&&(e=-2147483648),e>>=0,0===this.length)return-1;if(e>=this.length)return-1;if(0>e&&(e=Math.max(this.length+e,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,e);if(r.isBuffer(t))return n(this,t,e);if("number"==typeof t)return r.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,e):n(this,[t],e);throw new TypeError("val must be string, number or Buffer")},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var i=r;r=e,e=n,n=i}if(e=Number(e)||0,0>n||0>e||e>this.length)throw new RangeError("attempt to write outside buffer bounds");var d=this.length-e;n?(n=Number(n),n>d&&(n=d)):n=d,r=String(r||"utf8").toLowerCase();var h;switch(r){case"hex":h=o(this,t,e,n);break;case"utf8":case"utf-8":h=a(this,t,e,n);break;case"ascii":h=s(this,t,e,n);break;case"binary":h=c(this,t,e,n);break;case"base64":h=u(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":h=l(this,t,e,n);break;default:throw new TypeError("Unknown encoding: "+r)}return h},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t);var i;if(r.TYPED_ARRAY_SUPPORT)i=r._augment(this.subarray(t,e));else{var o=e-t;i=new r(o,void 0);for(var a=0;o>a;a++)i[a]=this[a+t]}return i.length&&(i.parent=this.parent||this),i},r.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||v(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},r.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||v(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},r.prototype.readUInt8=function(t,e){return e||v(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return e||v(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return e||v(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return e||v(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return e||v(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||v(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},r.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||v(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},r.prototype.readInt8=function(t,e){return e||v(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},r.prototype.readInt16LE=function(t,e){e||v(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(t,e){e||v(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(t,e){return e||v(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return e||v(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return e||v(t,4,this.length),A.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||v(t,4,this.length),A.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||v(t,8,this.length),A.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return e||v(t,8,this.length),A.read(this,t,!1,52,8)},r.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||b(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i>>>0&255;return e+n},r.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||b(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o>>>0&255;return e+n},r.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},r.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):y(this,t,e,!0),e+2},r.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):y(this,t,e,!1),e+2},r.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):w(this,t,e,!0),e+4},r.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):w(this,t,e,!1),e+4},r.prototype.writeIntLE=function(t,e,n,r){t=+t,e>>>=0,r||b(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=0,o=1,a=0>t?1:0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=(t/o>>0)-a&255;return e+n},r.prototype.writeIntBE=function(t,e,n,r){t=+t,e>>>=0,r||b(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=n-1,o=1,a=0>t?1:0;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=(t/o>>0)-a&255;return e+n},r.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t,e+1},r.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):y(this,t,e,!0),e+2},r.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):y(this,t,e,!1),e+2},r.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):w(this,t,e,!0),e+4},r.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):w(this,t,e,!1),e+4},r.prototype.writeFloatLE=function(t,e,n){return W(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){return W(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){return _(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){return _(this,t,e,!1,n)},r.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&n>i&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(0>e)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>i)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n;if(1e3>o||!r.TYPED_ARRAY_SUPPORT)for(var a=0;o>a;a++)t[a+e]=this[a+n];else t._set(this.subarray(n,n+o),e);return o},r.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;n>r;r++)this[r]=t;else{var i=Y(t.toString()),o=i.length;for(r=e;n>r;r++)this[r]=i[r%o]}return this}},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var M=r.prototype;r._augment=function(t){return t.constructor=r,t._isBuffer=!0,t._set=t.set,t.get=M.get,t.set=M.set,t.write=M.write,t.toString=M.toString,t.toLocaleString=M.toString,t.toJSON=M.toJSON,t.equals=M.equals,t.compare=M.compare,t.indexOf=M.indexOf,t.copy=M.copy,t.slice=M.slice,t.readUIntLE=M.readUIntLE,t.readUIntBE=M.readUIntBE,t.readUInt8=M.readUInt8,t.readUInt16LE=M.readUInt16LE,t.readUInt16BE=M.readUInt16BE,t.readUInt32LE=M.readUInt32LE,t.readUInt32BE=M.readUInt32BE,t.readIntLE=M.readIntLE,t.readIntBE=M.readIntBE,t.readInt8=M.readInt8,t.readInt16LE=M.readInt16LE,t.readInt16BE=M.readInt16BE,t.readInt32LE=M.readInt32LE,t.readInt32BE=M.readInt32BE,t.readFloatLE=M.readFloatLE,t.readFloatBE=M.readFloatBE,t.readDoubleLE=M.readDoubleLE,t.readDoubleBE=M.readDoubleBE,t.writeUInt8=M.writeUInt8,t.writeUIntLE=M.writeUIntLE,t.writeUIntBE=M.writeUIntBE,t.writeUInt16LE=M.writeUInt16LE,t.writeUInt16BE=M.writeUInt16BE,t.writeUInt32LE=M.writeUInt32LE,t.writeUInt32BE=M.writeUInt32BE,t.writeIntLE=M.writeIntLE,t.writeIntBE=M.writeIntBE,t.writeInt8=M.writeInt8,t.writeInt16LE=M.writeInt16LE,t.writeInt16BE=M.writeInt16BE,t.writeInt32LE=M.writeInt32LE,t.writeInt32BE=M.writeInt32BE,t.writeFloatLE=M.writeFloatLE,t.writeFloatBE=M.writeFloatBE,t.writeDoubleLE=M.writeDoubleLE,t.writeDoubleBE=M.writeDoubleBE,t.fill=M.fill,t.inspect=M.inspect,t.toArrayBuffer=M.toArrayBuffer,t};var T=/[^+\/0-9A-z\-]/g},{"base64-js":42,ieee754:43,"is-array":44}],42:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===a||e===d?62:e===s||e===h?63:c>e?-1:c+10>e?e-c+26+26:l+26>e?e-l:u+26>e?e-u+26:void 0}function n(t){function n(t){u[d++]=t}var r,i,a,s,c,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;c="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,u=new o(3*t.length/4-c),a=c>0?t.length-4:t.length;var d=0;for(r=0,i=0;a>r;r+=4,i+=3)s=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===c?(s=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&s)):1===c&&(s=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(s>>8&255),n(255&s)),u}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,a,s=t.length%3,c="";for(i=0,a=t.length-s;a>i;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],c+=n(o);switch(s){case 1:o=t[t.length-1],c+=e(o>>2),c+=e(o<<4&63),c+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],c+=e(o>>10),c+=e(o>>4&63),c+=e(o<<2&63),c+="="}return c}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),c="0".charCodeAt(0),u="a".charCodeAt(0),l="A".charCodeAt(0),d="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],43:[function(t,e,n){n.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,c=(1<<s)-1,u=c>>1,l=-7,d=n?i-1:0,h=n?-1:1,p=t[e+d];for(d+=h,o=p&(1<<-l)-1,p>>=-l,l+=s;l>0;o=256*o+t[e+d],d+=h,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+t[e+d],d+=h,l-=8);if(0===o)o=1-u;else{if(o===c)return a?0/0:1/0*(p?-1:1);a+=Math.pow(2,r),o-=u}return(p?-1:1)*a*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var a,s,c,u=8*o-i-1,l=(1<<u)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),e+=a+d>=1?h/c:h*Math.pow(2,1-d),e*c>=2&&(a++,c/=2),a+d>=l?(s=0,a=l):a+d>=1?(s=(e*c-1)*Math.pow(2,i),a+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;t[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[n+p]=255&a,p+=f,a/=256,u-=8);t[n+p-f]|=128*m}},{}],44:[function(t,e){var n=Array.isArray,r=Object.prototype.toString;e.exports=n||function(t){return!!t&&"[object Array]"==r.call(t)}},{}],45:[function(t,e){function n(){if(!a){a=!0;for(var t,e=o.length;e;){t=o,o=[];for(var n=-1;++n<e;)t[n]();e=o.length}a=!1}}function r(){}var i=e.exports={},o=[],a=!1;i.nextTick=function(t){o.push(t),a||setTimeout(n,0)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],46:[function(t,e){function n(t){function e(t){var e=l();o(e,t)>-1||(e.push(t),d(e))}function n(t){var e=l(),n=o(e,t);-1!==n&&(e.splice(n,1),d(e))}function a(t){return o(l(),t)>-1}function s(t){return a(t)?(n(t),!1):(e(t),!0)}function c(){return t.className}function u(t){var e=l();return e[t]||null}function l(){var e=t.className;return r(e.split(" "),i)}function d(e){var n=e.length;t.className=e.join(" "),p.length=n;for(var r=0;r<e.length;r++)p[r]=e[r];delete e[n]}var h=t.classList;if(h)return h;var p={add:e,remove:n,contains:a,toggle:s,toString:c,length:0,item:u};return p}function r(t,e){for(var n=[],r=0;r<t.length;r++)e(t[r])&&n.push(t[r]);return n}function i(t){return!!t}var o=t("indexof");e.exports=n},{indexof:47}],47:[function(t,e){var n=[].indexOf;e.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},{}],48:[function(t,e){var n=t("matches-selector");e.exports=function(t,e,r,i){for(t=r?{parentNode:t}:t,i=i||document;(t=t.parentNode)&&t!==document;){if(n(t,e))return t;if(t===i)return}}},{"matches-selector":49}],49:[function(t,e){function n(t,e){if(!t||1!==t.nodeType)return!1;if(o)return o.call(t,e);for(var n=r.all(e,t.parentNode),i=0;i<n.length;++i)if(n[i]==t)return!0;return!1}var r=t("query"),i=Element.prototype,o=i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;
e.exports=n},{query:50}],50:[function(t,e,n){function r(t,e){return e.querySelector(t)}n=e.exports=function(t,e){return e=e||document,r(t,e)},n.all=function(t,e){return e=e||document,e.querySelectorAll(t)},n.engine=function(t){if(!t.one)throw new Error(".one callback required");if(!t.all)throw new Error(".all callback required");return r=t.one,n.all=t.all,n}},{}],51:[function(t,e){var n=function(t,e,n){n=n||{};var r=n.encode||i,o=[t+"="+r(e)];if(null!=n.maxAge){var a=n.maxAge-0;if(isNaN(a))throw new Error("maxAge should be a Number");o.push("Max-Age="+a)}return n.domain&&o.push("Domain="+n.domain),n.path&&o.push("Path="+n.path),n.expires&&o.push("Expires="+n.expires.toUTCString()),n.httpOnly&&o.push("HttpOnly"),n.secure&&o.push("Secure"),o.join("; ")},r=function(t,e){e=e||{};var n={},r=t.split(/; */),i=e.decode||o;return r.forEach(function(t){var e=t.indexOf("=");if(!(0>e)){var r=t.substr(0,e).trim(),o=t.substr(++e,t.length).trim();if('"'==o[0]&&(o=o.slice(1,-1)),void 0==n[r])try{n[r]=i(o)}catch(a){n[r]=o}}}),n},i=encodeURIComponent,o=decodeURIComponent;e.exports.serialize=n,e.exports.parse=r},{}],52:[function(t,e){function n(t){return t.split(";")[0].slice(5)}var r=window.Blob,i=100==new r([new Uint8Array(100)]).size;e.exports=function(t){for(var e=t.split(",")[1],o=atob(e),a=new ArrayBuffer(o.length),s=new Uint8Array(a),c=0;c<o.length;c++)s[c]=o.charCodeAt(c);i||(s=a);var u=new r([s],{type:n(t)});return u.slice=u.slice||u.webkitSlice,u}},{}],53:[function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r),t}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(t){try{null==t?u.removeItem("debug"):u.debug=t}catch(e){}}function s(){var t;try{t=u.debug}catch(e){}return t}function c(){try{return window.localStorage}catch(t){}}n=e.exports=t("./debug"),n.log=o,n.formatArgs=i,n.save=a,n.load=s,n.useColors=r;var u;u="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:c(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(s())},{"./debug":54}],54:[function(t,e,n){function r(){return n.colors[l++%n.colors.length]}function i(t){function e(){}function i(){var t=i,e=+new Date,o=e-(u||e);t.diff=o,t.prev=u,t.curr=e,u=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=r());var a=Array.prototype.slice.call(arguments);a[0]=n.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(e,r){if("%%"===e)return e;s++;var i=n.formatters[r];if("function"==typeof i){var o=a[s];e=i.call(t,o),a.splice(s,1),s--}return e}),"function"==typeof n.formatArgs&&(a=n.formatArgs.apply(t,a));var c=i.log||n.log||console.log.bind(console);c.apply(t,a)}e.enabled=!1,i.enabled=!0;var o=n.enabled(t)?i:e;return o.namespace=t,o}function o(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;r>i;i++)e[i]&&(t=e[i].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function a(){n.enable("")}function s(t){var e,r;for(e=0,r=n.skips.length;r>e;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;r>e;e++)if(n.names[e].test(t))return!0;return!1}function c(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=i,n.coerce=c,n.disable=a,n.enable=o,n.enabled=s,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var u,l=0},{ms:55}],55:[function(t,e){function n(t){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*l;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}function r(t){return t>=u?Math.round(t/u)+"d":t>=c?Math.round(t/c)+"h":t>=s?Math.round(t/s)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function i(t){return o(t,u,"day")||o(t,c,"hour")||o(t,s,"minute")||o(t,a,"second")||t+" ms"}function o(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,s=60*a,c=60*s,u=24*c,l=365.25*u;e.exports=function(t,e){return e=e||{},"string"==typeof t?n(t):e["long"]?i(t):r(t)}},{}],56:[function(t,e){var n=t("synthetic-dom-events"),r=function(t,e,n,r){return t.addEventListener(e,n,r||!1)},i=function(t,e,n,r){return t.removeEventListener(e,n,r||!1)},o=function(t,e,n,o){function a(r){i(t,e,a,o),n(r)}r(t,e,a,o)},a=function(t,e,r){var i=n(e,r);t.dispatchEvent(i)};document.addEventListener||(r=function(t,e,n){return t.attachEvent("on"+e,n)}),document.removeEventListener||(i=function(t,e,n){return t.detachEvent("on"+e,n)}),document.dispatchEvent||(a=function(t,e,r){var i=n(e,r);return t.fireEvent("on"+i.type,i)}),e.exports={on:r,off:i,once:o,emit:a}},{"synthetic-dom-events":57}],57:[function(t,e){function n(t,e){return(t.ctrlKey!=(e.ctrlKey||!1)||t.altKey!=(e.altKey||!1)||t.shiftKey!=(e.shiftKey||!1)||t.metaKey!=(e.metaKey||!1)||t.keyCode!=(e.keyCode||0)||t.charCode!=(e.charCode||0))&&(t=document.createEvent("Event"),t.initEvent(e.type,e.bubbles,e.cancelable),t.ctrlKey=e.ctrlKey||!1,t.altKey=e.altKey||!1,t.shiftKey=e.shiftKey||!1,t.metaKey=e.metaKey||!1,t.keyCode=e.keyCode||0,t.charCode=e.charCode||0),t}var r=(window,document||{}),i=(r.documentElement||{},!0);try{r.createEvent("KeyEvents")}catch(o){i=!1}var a=function(t,e){e=e||{};var o=l(t),a=o;"KeyboardEvent"===o&&i&&(o="KeyEvents",a="KeyEvent");var s=r.createEvent(o),u="init"+a,d="function"==typeof s[u]?u:"initEvent",h=c[d],p=[],f={};e.type=t;for(var m=0;m<h.length;++m){var g=h[m],v=e[g];void 0===v&&(v=s[g]),f[g]=!0,p.push(v)}s[d].apply(s,p),"KeyboardEvent"===o&&(s=n(s,e));for(var g in e)f[g]||(s[g]=e[g]);return s},s=function(t,e){e=e||{};var n=r.createEventObject();n.type=t;for(var i in e)void 0!==e[i]&&(n[i]=e[i]);return n};e.exports=r.createEvent?a:s;var c=t("./init.json"),u=t("./types.json"),l=function(){var t={};for(var e in u)for(var n=u[e],r=0;r<n.length;r++)t[n[r]]=e;return function(e){return t[e]||"Event"}}()},{"./init.json":58,"./types.json":59}],58:[function(t,e){e.exports={initEvent:["type","bubbles","cancelable"],initUIEvent:["type","bubbles","cancelable","view","detail"],initMouseEvent:["type","bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget"],initMutationEvent:["type","bubbles","cancelable","relatedNode","prevValue","newValue","attrName","attrChange"],initKeyboardEvent:["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"],initKeyEvent:["type","bubbles","cancelable","view","ctrlKey","altKey","shiftKey","metaKey","keyCode","charCode"]}},{}],59:[function(t,e){e.exports={MouseEvent:["click","mousedown","mouseup","mouseover","mousemove","mouseout"],KeyboardEvent:["keydown","keyup","keypress"],MutationEvent:["DOMSubtreeModified","DOMNodeInserted","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMNodeInsertedIntoDocument","DOMAttrModified","DOMCharacterDataModified"],HTMLEvents:["load","unload","abort","error","select","change","submit","reset","focus","blur","resize","scroll"],UIEvent:["DOMFocusIn","DOMFocusOut","DOMActivate"]}},{}],60:[function(t,e,r){(function(){function t(t){return!!t.exifdata}function i(t,e){e=e||t.match(/^data\:([^\;]+)\;base64,/im)[1]||"",t=t.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var n=atob(t),r=n.length,i=new ArrayBuffer(r),o=new Uint8Array(i),a=0;r>a;a++)o[a]=n.charCodeAt(a);return i}function o(t,e){var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="blob",n.onload=function(){(200==this.status||0===this.status)&&e(this.response)},n.send()}function a(t,e){function n(n){var r=s(n),i=c(n);t.exifdata=r||{},t.iptcdata=i||{},e&&e.call(t)}if(t.src)if(/^data\:/i.test(t.src)){var r=i(t.src);n(r)}else if(/^blob\:/i.test(t.src)){var a=new FileReader;a.onload=function(t){n(t.target.result)},o(t.src,function(t){a.readAsArrayBuffer(t)})}else{var u=new XMLHttpRequest;u.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";n(u.response),u=null},u.open("GET",t.src,!0),u.responseType="arraybuffer",u.send(null)}else if(window.FileReader&&(t instanceof window.Blob||t instanceof window.File)){var a=new FileReader;a.onload=function(t){f&&console.log("Got file of length "+t.target.result.byteLength),n(t.target.result)},a.readAsArrayBuffer(t)}}function s(t){var e=new DataView(t);if(f&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return f&&console.log("Not a valid JPEG"),!1;for(var n,r=2,i=t.byteLength;i>r;){if(255!=e.getUint8(r))return f&&console.log("Not a valid marker at offset "+r+", found: "+e.getUint8(r)),!1;if(n=e.getUint8(r+1),f&&console.log(n),225==n)return f&&console.log("Found 0xFFE1 marker"),p(e,r+4,e.getUint16(r+2)-2);r+=2+e.getUint16(r+2)}}function c(t){var e=new DataView(t);if(f&&console.log("Got file of length "+t.byteLength),255!=e.getUint8(0)||216!=e.getUint8(1))return f&&console.log("Not a valid JPEG"),!1;for(var n=2,r=t.byteLength,i=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};r>n;){if(i(e,n)){var o=e.getUint8(n+7);o%2!==0&&(o+=1),0===o&&(o=4);var a=n+8+o,s=e.getUint16(n+6+o);return u(t,a,s)}n++}}function u(t,e,n){for(var r,i,o,a,s,c=new DataView(t),u={},l=e;e+n>l;)28===c.getUint8(l)&&2===c.getUint8(l+1)&&(a=c.getUint8(l+2),a in x&&(o=c.getInt16(l+3),s=o+5,i=x[a],r=h(c,l+5,o),u.hasOwnProperty(i)?u[i]instanceof Array?u[i].push(r):u[i]=[u[i],r]:u[i]=r)),l++;return u}function l(t,e,n,r,i){var o,a,s,c=t.getUint16(n,!i),u={};for(s=0;c>s;s++)o=n+12*s+2,a=r[t.getUint16(o,!i)],!a&&f&&console.log("Unknown tag: "+t.getUint16(o,!i)),u[a]=d(t,o,e,n,i);return u}function d(t,e,n,r,i){var o,a,s,c,u,l,d=t.getUint16(e+2,!i),p=t.getUint32(e+4,!i),f=t.getUint32(e+8,!i)+n;switch(d){case 1:case 7:if(1==p)return t.getUint8(e+8,!i);for(o=p>4?f:e+8,a=[],c=0;p>c;c++)a[c]=t.getUint8(o+c);return a;case 2:return o=p>4?f:e+8,h(t,o,p-1);case 3:if(1==p)return t.getUint16(e+8,!i);for(o=p>2?f:e+8,a=[],c=0;p>c;c++)a[c]=t.getUint16(o+2*c,!i);return a;case 4:if(1==p)return t.getUint32(e+8,!i);for(a=[],c=0;p>c;c++)a[c]=t.getUint32(f+4*c,!i);return a;case 5:if(1==p)return u=t.getUint32(f,!i),l=t.getUint32(f+4,!i),s=new Number(u/l),s.numerator=u,s.denominator=l,s;for(a=[],c=0;p>c;c++)u=t.getUint32(f+8*c,!i),l=t.getUint32(f+4+8*c,!i),a[c]=new Number(u/l),a[c].numerator=u,a[c].denominator=l;return a;case 9:if(1==p)return t.getInt32(e+8,!i);for(a=[],c=0;p>c;c++)a[c]=t.getInt32(f+4*c,!i);return a;case 10:if(1==p)return t.getInt32(f,!i)/t.getInt32(f+4,!i);for(a=[],c=0;p>c;c++)a[c]=t.getInt32(f+8*c,!i)/t.getInt32(f+4+8*c,!i);return a}}function h(t,e,r){var i="";for(n=e;n<e+r;n++)i+=String.fromCharCode(t.getUint8(n));return i}function p(t,e){if("Exif"!=h(t,e,4))return f&&console.log("Not valid EXIF data! "+h(t,e,4)),!1;var n,r,i,o,a,s=e+6;if(18761==t.getUint16(s))n=!1;else{if(19789!=t.getUint16(s))return f&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!=t.getUint16(s+2,!n))return f&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var c=t.getUint32(s+4,!n);if(8>c)return f&&console.log("Not valid TIFF data! (First offset less than 8)",t.getUint32(s+4,!n)),!1;if(r=l(t,s,s+c,b,n),r.ExifIFDPointer){o=l(t,s,s+r.ExifIFDPointer,v,n);for(i in o){switch(i){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[i]=w[i][o[i]];break;case"ExifVersion":case"FlashpixVersion":o[i]=String.fromCharCode(o[i][0],o[i][1],o[i][2],o[i][3]);break;case"ComponentsConfiguration":o[i]=w.Components[o[i][0]]+w.Components[o[i][1]]+w.Components[o[i][2]]+w.Components[o[i][3]]}r[i]=o[i]}}if(r.GPSInfoIFDPointer){a=l(t,s,s+r.GPSInfoIFDPointer,y,n);for(i in a){switch(i){case"GPSVersionID":a[i]=a[i][0]+"."+a[i][1]+"."+a[i][2]+"."+a[i][3]}r[i]=a[i]}}return r}var f=!1,m=this,g=function(t){return t instanceof g?t:this instanceof g?void(this.EXIFwrapped=t):new g(t)};"undefined"!=typeof r?("undefined"!=typeof e&&e.exports&&(r=e.exports=g),r.EXIF=g):m.EXIF=g;var v=g.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},b=g.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},y=g.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},w=g.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},x={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};g.getData=function(e,n){return(e instanceof Image||e instanceof HTMLImageElement)&&!e.complete?!1:(t(e)?n&&n.call(e):a(e,n),!0)},g.getTag=function(e,n){return t(e)?e.exifdata[n]:void 0},g.getAllTags=function(e){if(!t(e))return{};var n,r=e.exifdata,i={};for(n in r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i},g.pretty=function(e){if(!t(e))return"";var n,r=e.exifdata,i="";for(n in r)r.hasOwnProperty(n)&&(i+="object"==typeof r[n]?r[n]instanceof Number?n+" : "+r[n]+" ["+r[n].numerator+"/"+r[n].denominator+"]\r\n":n+" : ["+r[n].length+" values]\r\n":n+" : "+r[n]+"\r\n");return i},g.readFromBinaryFile=function(t){return s(t)},"function"==typeof define&&define.amd&&define("exif-js",[],function(){return g})}).call(this)},{}],61:[function(t,e){function n(t,e){var n=-1/0;t.getFloatFrequencyData(e);for(var r=4,i=e.length;i>r;r++)e[r]>n&&e[r]<0&&(n=e[r]);return n}var r=t("wildemitter"),i=window.AudioContext||window.webkitAudioContext,o=null;e.exports=function(t,e){var a=new r;if(!i)return a;var e=e||{},s=e.smoothing||.1,c=e.interval||50,u=e.threshold,l=e.play,d=e.history||10,h=!0;o||(o=new i);var p,f,m;m=o.createAnalyser(),m.fftSize=512,m.smoothingTimeConstant=s,f=new Float32Array(m.fftSize),t.jquery&&(t=t[0]),t instanceof HTMLAudioElement||t instanceof HTMLVideoElement?(p=o.createMediaElementSource(t),"undefined"==typeof l&&(l=!0),u=u||-50):(p=o.createMediaStreamSource(t),u=u||-50),p.connect(m),l&&m.connect(o.destination),a.speaking=!1,a.setThreshold=function(t){u=t},a.setInterval=function(t){c=t},a.stop=function(){h=!1,a.emit("volume_change",-100,u),a.speaking&&(a.speaking=!1,a.emit("stopped_speaking"))},a.speakingHistory=[];for(var g=0;d>g;g++)a.speakingHistory.push(0);var v=function(){setTimeout(function(){if(h){var t=n(m,f);a.emit("volume_change",t,u);var e=0;if(t>u&&!a.speaking){for(var r=a.speakingHistory.length-3;r<a.speakingHistory.length;r++)e+=a.speakingHistory[r];e>=2&&(a.speaking=!0,a.emit("speaking"))}else if(u>t&&a.speaking){for(var r=0;r<a.speakingHistory.length;r++)e+=a.speakingHistory[r];0==e&&(a.speaking=!1,a.emit("stopped_speaking"))}a.speakingHistory.shift(),a.speakingHistory.push(0+(t>u)),v()}},c)};return v(),a}},{wildemitter:81}],62:[function(t,e){function n(){function t(){function t(n){function u(t){var e=a(t,/([\.#]?[a-zA-Z0-9_:-]+)/);/^\.|#/.test(e[1])&&(c=document.createElement("div")),i(e,function(t){var e=t.substring(1,t.length);t&&(c?"."===t[0]?s(c).add(e):"#"===t[0]&&c.setAttribute("id",e):c=document.createElement(t))})}var l;if(null==n);else if("string"==typeof n)c?c.appendChild(l=document.createTextNode(n)):u(n);else if("number"==typeof n||"boolean"==typeof n||n instanceof Date||n instanceof RegExp)c.appendChild(l=document.createTextNode(n.toString()));else if(o(n))i(n,t);else if(r(n))c.appendChild(l=n);else if(n instanceof Text)c.appendChild(l=n);else if("object"==typeof n)for(var d in n)if("function"==typeof n[d])/^on\w+/.test(d)?!function(t,n){c.addEventListener?(c.addEventListener(t.substring(2),n[t],!1),e.push(function(){c.removeEventListener(t.substring(2),n[t],!1)})):(c.attachEvent(t,n[t]),e.push(function(){c.detachEvent(t,n[t])}))}(d,n):(c[d]=n[d](),e.push(n[d](function(t){c[d]=t})));else if("style"===d)if("string"==typeof n[d])c.style.cssText=n[d];else for(var h in n[d])(function(t,r){"function"==typeof r?(c.style.setProperty(t,r()),e.push(r(function(e){c.style.setProperty(t,e)}))):c.style.setProperty(t,n[d][t])})(h,n[d][h]);else"data-"===d.substr(0,5)?c.setAttribute(d,n[d]):c[d]=n[d];else if("function"==typeof n){var p=n();c.appendChild(l=r(p)?p:document.createTextNode(p)),e.push(n(function(t){r(t)&&l.parentElement?(l.parentElement.replaceChild(t,l),l=t):l.textContent=t}))}return l}for(var n=[].slice.call(arguments),c=null;n.length;)t(n.shift());return c}var e=[];return t.cleanup=function(){for(var t=0;t<e.length;t++)e[t]();e.length=0},t}function r(t){return t&&t.nodeName&&t.nodeType}function i(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n)}function o(t){return"[object Array]"==Object.prototype.toString.call(t)}var a=t("browser-split"),s=t("class-list");t("html-element");var c=e.exports=n();c.context=n},{"browser-split":63,"class-list":46,"html-element":40}],63:[function(t,e){e.exports=function(t){var e,n=String.prototype.split,r=/()??/.exec("")[1]===t;return e=function(e,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return n.call(e,i,o);var a,s,c,u,l=[],d=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),h=0,i=new RegExp(i.source,d+"g");for(e+="",r||(a=new RegExp("^"+i.source+"$(?!\\s)",d)),o=o===t?-1>>>0:o>>>0;(s=i.exec(e))&&(c=s.index+s[0].length,!(c>h&&(l.push(e.slice(h,s.index)),!r&&s.length>1&&s[0].replace(a,function(){for(var e=1;e<arguments.length-2;e++)arguments[e]===t&&(s[e]=t)}),s.length>1&&s.index<e.length&&Array.prototype.push.apply(l,s.slice(1)),u=s[0].length,h=c,l.length>=o)));)i.lastIndex===s.index&&i.lastIndex++;return h===e.length?(u||!i.test(""))&&l.push(""):l.push(e.slice(h)),l.length>o?l.slice(0,o):l}}()},{}],64:[function(t,e){function n(t,e){function n(){o?t.detachEvent("onload",n):t.removeEventListener("load",n,!1),e(null,!1)}var i,o;return t.nodeName?"img"!==t.nodeName.toLowerCase()?e(new Error("Element supplied is not an image")):t.src&&t.complete&&void 0!==t.naturalWidth?e(null,!0):(o=!t.addEventListener,o?t.attachEvent("onload",n):t.addEventListener("load",n,!1),void((t.readyState||t.complete)&&(i=t.src,t.src=r,t.src=i))):e(new Error("First argument must be an image element"))}var r="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.exports=n},{}],65:[function(t,e){var n={};e.exports=function(t,e){if(!n[t]){n[t]=!0;var r=document.createElement("style");r.setAttribute("type","text/css"),"textContent"in r?r.textContent=t:r.styleSheet.cssText=t;var i=document.getElementsByTagName("head")[0];e&&e.prepend?i.insertBefore(r,i.childNodes[0]):i.appendChild(r)}}},{}],66:[function(t,e){"use strict";function n(t,e){function n(){for(var i,a=0;a<o.length;a++)o[a].href&&o[a].href.indexOf(t)>-1&&(i=!0);i?(r.media="all",e()):setTimeout(n)}var r=window.document.createElement("link"),i=window.document.getElementsByTagName("script")[0],o=window.document.styleSheets;return r.rel="stylesheet",r.href=t,r.media="only x",i.parentNode.insertBefore(r,i),n(),r}e.exports=n},{}],67:[function(t,e,n){(function(t){(function(){function r(t,e){if(t!==e){var n=t===t,r=e===e;if(t>e||!n||"undefined"==typeof t&&r)return 1;if(e>t||!r||"undefined"==typeof e&&n)return-1}return 0}function i(t,e,n){if(e!==e)return m(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function o(t){return"function"==typeof t||!1}function a(t){return"string"==typeof t?t:null==t?"":t+""}function s(t){return t.charCodeAt(0)}function c(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function u(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function l(t,e){return r(t.criteria,e.criteria)||t.index-e.index}function d(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,c=n.length;++i<s;){var u=r(o[i],a[i]);if(u)return i>=c?u:u*(n[i]?1:-1)}return t.index-e.index}function h(t){return He[t]}function p(t){return Ee[t]}function f(t){return"\\"+Be[t]}function m(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function g(t){return t&&"object"==typeof t||!1}function v(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function b(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=z,o[++i]=n);return o}function y(t,e){for(var n,r=-1,i=t.length,o=-1,a=[];++r<i;){var s=t[r],c=e?e(s,r,t):s;r&&n===c||(n=c,a[++o]=s)}return a}function w(t){for(var e=-1,n=t.length;++e<n&&v(t.charCodeAt(e)););return e}function x(t){for(var e=t.length;e--&&v(t.charCodeAt(e)););return e}function W(t){return ze[t]}function _(t){function e(t){if(g(t)&&!nc(t)&&!(t instanceof Q)){if(t instanceof v)return t;if(as.call(t,"__chain__")&&as.call(t,"__wrapped__"))return Mr(t)}return new v(t)}function n(){}function v(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Q(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=Os,this.__views__=null}function te(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,r=new Q(this.__wrapped__);return r.__actions__=t?Qe(t):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=e?Qe(e):null,r.__takeCount__=this.__takeCount__,r.__views__=n?Qe(n):null,r}function ne(){if(this.__filtered__){var t=new Q(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function He(){var t=this.__wrapped__.value();if(!nc(t))return Kn(t,this.__actions__);var e=this.__dir__,n=0>e,r=Wr(0,t.length,this.__views__),i=r.start,o=r.end,a=o-i,s=n?o:i-1,c=js(a,this.__takeCount__),u=this.__iteratees__,l=u?u.length:0,d=0,h=[];t:for(;a--&&c>d;){s+=e;for(var p=-1,f=t[s];++p<l;){var m=u[p],g=m.iteratee,v=m.type;if(v==M){if(m.done&&(n?s>m.index:s<m.index)&&(m.count=0,m.done=!1),m.index=s,!m.done){var b=m.limit;if(!(m.done=b>-1?m.count++>=b:!g(f)))continue t}}else{var y=g(f);if(v==H)f=y;else if(!y){if(v==T)continue t;break t}}}h[d++]=f}return h}function Ee(){this.__data__={}}function ze(t){return this.has(t)&&delete this.__data__[t]}function De(t){return"__proto__"==t?L:this.__data__[t]}function Be(t){return"__proto__"!=t&&as.call(this.__data__,t)}function Pe(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Ve(t){var e=t?t.length:0;for(this.data={hash:Xs(null),set:new ys};e--;)this.push(t[e])}function Je(t,e){var n=t.data,r="string"==typeof e||jo(e)?n.set.has(e):n.hash[e];return r?0:-1}function Ue(t){var e=this.data;"string"==typeof t||jo(t)?e.set.add(t):e.hash[t]=!0}function Qe(t,e){var n=-1,r=t.length;for(e||(e=Da(r));++n<r;)e[n]=t[n];return e}function $e(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function tn(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function en(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function nn(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function rn(t,e){for(var n=-1,r=t.length,i=Da(r);++n<r;)i[n]=e(t[n],n,t);return i}function on(t){for(var e=-1,n=t.length,r=As;++e<n;){var i=t[e];i>r&&(r=i)}return r}function an(t){for(var e=-1,n=t.length,r=Os;++e<n;){var i=t[e];r>i&&(r=i)}return r}function sn(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function cn(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function un(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function ln(t,e){return"undefined"==typeof t?e:t}function dn(t,e,n,r){return"undefined"!=typeof t&&as.call(r,n)?t:e}function hn(t,e,n){var r=sc(e);if(!n)return fn(e,t,r);for(var i=-1,o=r.length;++i<o;){var a=r[i],s=t[a],c=n(s,e[a],a,t,e);(c===c?c===s:s!==s)&&("undefined"!=typeof s||a in t)||(t[a]=c)}return t}function pn(t,e){for(var n=-1,r=t.length,i=Zr(r),o=e.length,a=Da(o);++n<o;){var s=e[n];i?(s=parseFloat(s),a[n]=Ir(s,r)?t[s]:L):a[n]=t[s]}return a}function fn(t,e,n){n||(n=e,e={});for(var r=-1,i=n.length;++r<i;){var o=n[r];e[o]=t[o]}return e}function mn(t,e){for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=mr(t[i],X,t)}return t}function gn(t,e,n){var r=typeof t;return"function"==r?"undefined"!=typeof e&&Xr(t)?er(t,e,n):t:null==t?Fa:"object"==r?Sn(t):"undefined"==typeof e?En(t+""):Mn(t+"",e)}function vn(t,e,n,r,i,o,a){var s;if(n&&(s=i?n(t,r,i):n(t)),"undefined"!=typeof s)return s;if(!jo(t))return t;var c=nc(t);if(c){if(s=_r(t),!e)return Qe(t,s)}else{var u=cs.call(t),l=u==U;if(u!=K&&u!=D&&(!l||i))return Me[u]?Cr(t,u,e):i?t:{};if(s=Lr(l?{}:t),!e)return fn(t,s,sc(t))}o||(o=[]),a||(a=[]);for(var d=o.length;d--;)if(o[d]==t)return a[d];return o.push(t),a.push(s),(c?$e:jn)(t,function(r,i){s[i]=vn(r,e,n,i,t,o,a)}),s}function bn(t,e,n,r){if("function"!=typeof t)throw new $a(E);return ws(function(){t.apply(L,Pn(n,r))},e)}function yn(t,e){var n=t?t.length:0,r=[];if(!n)return r;var o=-1,a=xr(),s=a==i,c=s&&e.length>=200?Ps(e):null,u=e.length;c&&(a=Je,s=!1,e=c);t:for(;++o<n;){var l=t[o];if(s&&l===l){for(var d=u;d--;)if(e[d]===l)continue t;r.push(l)}else a(e,l,0)<0&&r.push(l)}return r}function wn(t,e){var n=t?t.length:0;if(!Zr(n))return jn(t,e);for(var r=-1,i=Sr(t);++r<n&&e(i[r],r,i)!==!1;);return t}function xn(t,e){var n=t?t.length:0;if(!Zr(n))return Fn(t,e);for(var r=Sr(t);n--&&e(r[n],n,r)!==!1;);return t}function Wn(t,e){var n=!0;return wn(t,function(t,r,i){return n=!!e(t,r,i)}),n}function _n(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,0>n&&(n=-n>i?0:i+n),r="undefined"==typeof r||r>i?i:+r||0,0>r&&(r+=i),i=n>r?0:r>>>0,n>>>=0;i>n;)t[n++]=e;return t}function Ln(t,e){var n=[];return wn(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Cn(t,e,n,r){var i;return n(t,function(t,n,o){return e(t,n,o)?(i=r?n:t,!1):void 0}),i}function Xn(t,e,n,r){for(var i=r-1,o=t.length,a=-1,s=[];++i<o;){var c=t[i];if(g(c)&&Zr(c.length)&&(nc(c)||_o(c))){e&&(c=Xn(c,e,n,0));var u=-1,l=c.length;for(s.length+=l;++u<l;)s[++a]=c[u]
}else n||(s[++a]=c)}return s}function In(t,e,n){for(var r=-1,i=Sr(t),o=n(t),a=o.length;++r<a;){var s=o[r];if(e(i[s],s,i)===!1)break}return t}function Yn(t,e,n){for(var r=Sr(t),i=n(t),o=i.length;o--;){var a=i[o];if(e(r[a],a,r)===!1)break}return t}function Zn(t,e){return In(t,e,$o)}function jn(t,e){return In(t,e,sc)}function Fn(t,e){return Yn(t,e,sc)}function Rn(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];ic(t[a])&&(o[++i]=a)}return o}function kn(t,e,n){var r=-1,i="function"==typeof e,o=t?t.length:0,a=Zr(o)?Da(o):[];return wn(t,function(t){var o=i?e:null!=t&&t[e];a[++r]=o?o.apply(t,n):L}),a}function Gn(t,e,n,r,i,o){if(t===e)return 0!==t||1/t==1/e;var a=typeof t,s=typeof e;return"function"!=a&&"object"!=a&&"function"!=s&&"object"!=s||null==t||null==e?t!==t&&e!==e:An(t,e,Gn,n,r,i,o)}function An(t,e,n,r,i,o,a){var s=nc(t),c=nc(e),u=B,l=B;s||(u=cs.call(t),u==D?u=K:u!=K&&(s=So(t))),c||(l=cs.call(e),l==D?l=K:l!=K&&(c=So(e)));var d=u==K,h=l==K,p=u==l;if(p&&!s&&!d)return vr(t,e,u);var f=d&&as.call(t,"__wrapped__"),m=h&&as.call(e,"__wrapped__");if(f||m)return n(f?t.value():t,m?e.value():e,r,i,o,a);if(!p)return!1;o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==t)return a[g]==e;o.push(t),a.push(e);var v=(s?gr:br)(t,e,n,r,i,o,a);return o.pop(),a.pop(),v}function On(t,e,n,r,i){var o=e.length;if(null==t)return!o;for(var a=-1,s=!i;++a<o;)if(s&&r[a]?n[a]!==t[e[a]]:!as.call(t,e[a]))return!1;for(a=-1;++a<o;){var c=e[a];if(s&&r[a])var u=as.call(t,c);else{var l=t[c],d=n[a];u=i?i(l,d,c):L,"undefined"==typeof u&&(u=Gn(d,l,i,!0))}if(!u)return!1}return!0}function Nn(t,e){var n=[];return wn(t,function(t,r,i){n.push(e(t,r,i))}),n}function Sn(t){var e=sc(t),n=e.length;if(1==n){var r=e[0],i=t[r];if(jr(i))return function(t){return null!=t&&t[r]===i&&as.call(t,r)}}for(var o=Da(n),a=Da(n);n--;)i=t[e[n]],o[n]=i,a[n]=jr(i);return function(t){return On(t,e,o,a)}}function Mn(t,e){return jr(e)?function(n){return null!=n&&n[t]===e}:function(n){return null!=n&&Gn(e,n[t],null,!0)}}function Tn(t,e,n,r,i){if(!jo(t))return t;var o=Zr(e.length)&&(nc(e)||So(e));return(o?$e:jn)(e,function(e,a,s){if(g(e))return r||(r=[]),i||(i=[]),Hn(t,s,a,Tn,n,r,i);var c=t[a],u=n?n(c,e,a,t,s):L,l="undefined"==typeof u;l&&(u=e),!o&&"undefined"==typeof u||!l&&(u===u?u===c:c!==c)||(t[a]=u)}),t}function Hn(t,e,n,r,i,o,a){for(var s=o.length,c=e[n];s--;)if(o[s]==c)return void(t[n]=a[s]);var u=t[n],l=i?i(u,c,n,t,e):L,d="undefined"==typeof l;d&&(l=c,Zr(c.length)&&(nc(c)||So(c))?l=nc(u)?u:u?Qe(u):[]:oc(c)||_o(c)?l=_o(u)?Ho(u):oc(u)?u:{}:d=!1),o.push(c),a.push(l),d?t[n]=r(l,c,i,o,a):(l===l?l!==u:u===u)&&(t[n]=l)}function En(t){return function(e){return null==e?L:e[t]}}function zn(t,e){var n=e.length,i=pn(t,e);for(e.sort(r);n--;){var o=parseFloat(e[n]);if(o!=a&&Ir(o)){var a=o;xs.call(t,o,1)}}return i}function Dn(t,e){return t+ms(Gs()*(e-t+1))}function Bn(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Pn(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,0>e&&(e=-e>i?0:i+e),n="undefined"==typeof n||n>i?i:+n||0,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Da(i);++r<i;)o[r]=t[r+e];return o}function Vn(t,e){var n;return wn(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Jn(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Un(t,e,n){var r=-1,i=t.length,o=Zr(i)?Da(i):[];return wn(t,function(t){for(var n=e.length,i=Da(n);n--;)i[n]=null==t?L:t[e[n]];o[++r]={criteria:i,index:r,value:t}}),Jn(o,function(t,e){return d(t,e,n)})}function Qn(t,e){var n=-1,r=xr(),o=t.length,a=r==i,s=a&&o>=200,c=s?Ps():null,u=[];c?(r=Je,a=!1):(s=!1,c=e?[]:u);t:for(;++n<o;){var l=t[n],d=e?e(l,n,t):l;if(a&&l===l){for(var h=c.length;h--;)if(c[h]===d)continue t;e&&c.push(d),u.push(l)}else r(c,d,0)<0&&((e||s)&&c.push(d),u.push(l))}return u}function qn(t,e){for(var n=-1,r=e.length,i=Da(r);++n<r;)i[n]=t[e[n]];return i}function Kn(t,e){var n=t;n instanceof Q&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var o=[n],a=e[r];vs.apply(o,a.args),n=a.func.apply(a.thisArg,o)}return n}function $n(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&Ms>=i){for(;i>r;){var o=r+i>>>1,a=t[o];(n?e>=a:e>a)?r=o+1:i=o}return i}return tr(t,e,Fa,n)}function tr(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,a=e!==e,s="undefined"==typeof e;o>i;){var c=ms((i+o)/2),u=n(t[c]),l=u===u;if(a)var d=l||r;else d=s?l&&(r||"undefined"!=typeof u):r?e>=u:e>u;d?i=c+1:o=c}return js(o,Ss)}function er(t,e,n){if("function"!=typeof t)return Fa;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}function nr(t){return hs.call(t,0)}function rr(t,e,n){for(var r=n.length,i=-1,o=Zs(t.length-r,0),a=-1,s=e.length,c=Da(o+s);++a<s;)c[a]=e[a];for(;++i<r;)c[n[i]]=t[i];for(;o--;)c[a++]=t[i++];return c}function ir(t,e,n){for(var r=-1,i=n.length,o=-1,a=Zs(t.length-i,0),s=-1,c=e.length,u=Da(a+c);++o<a;)u[o]=t[o];for(var l=o;++s<c;)u[l+s]=e[s];for(;++r<i;)u[l+n[r]]=t[o++];return u}function or(t,e){return function(n,r,i){var o=e?e():{};if(r=wr(r,i,3),nc(n))for(var a=-1,s=n.length;++a<s;){var c=n[a];t(o,c,r(c,a,n),n)}else wn(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function ar(t){return function(){var e=arguments,n=e.length,r=e[0];if(2>n||null==r)return r;var i=e[n-2],o=e[n-1],a=e[3];n>3&&"function"==typeof i?(i=er(i,o,5),n-=2):(i=n>2&&"function"==typeof o?o:null,n-=i?1:0),a&&Yr(e[1],e[2],a)&&(i=3==n?null:i,n=2);for(var s=0;++s<n;){var c=e[s];c&&t(r,c,i)}return r}}function sr(t,e){function n(){var i=this&&this!==qe&&this instanceof n?r:t;return i.apply(e,arguments)}var r=lr(t);return n}function cr(t){return function(){var e=arguments.length,n=e,r=t?e-1:0;if(!e)return function(){return arguments[0]};for(var i=Da(e);n--;)if(i[n]=arguments[n],"function"!=typeof i[n])throw new $a(E);return function(){for(var n=r,o=i[n].apply(this,arguments);t?n--:++n<e;)o=i[n].call(this,o);return o}}}function ur(t){return function(e){for(var n=-1,r=Ia(da(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function lr(t){return function(){var e=Ds(t.prototype),n=t.apply(e,arguments);return jo(n)?n:e}}function dr(t,e){return function(n,r,i){i&&Yr(n,r,i)&&(r=null);var o=wr(),a=null==r;if(o===gn&&a||(a=!1,r=o(r,i,3)),a){var c=nc(n);if(c||!No(n))return t(c?n:Nr(n));r=s}return yr(n,r,e)}}function hr(t,e,n,r,i,o,a,s,c,u){function l(){for(var w=arguments.length,x=w,W=Da(w);x--;)W[x]=arguments[x];if(r&&(W=rr(W,r,i)),o&&(W=ir(W,o,a)),f||g){var _=l.placeholder,L=b(W,_);if(w-=L.length,u>w){var C=s?Qe(s):null,Y=Zs(u-w,0),Z=f?L:null,j=f?null:L,k=f?W:null,G=f?null:W;e|=f?F:R,e&=~(f?R:F),m||(e&=~(X|I));var A=hr(t,e,n,k,Z,G,j,C,c,Y);return A.placeholder=_,A}}var O=h?n:this;p&&(t=O[y]),s&&(W=Gr(W,s)),d&&c<W.length&&(W.length=c);var N=this&&this!==qe&&this instanceof l?v||lr(t):t;return N.apply(O,W)}var d=e&G,h=e&X,p=e&I,f=e&Z,m=e&Y,g=e&j,v=!p&&lr(t),y=t;return l}function pr(t,e,n){var r=t.length;if(e=+e,r>=e||!Is(e))return"";var i=e-r;return n=null==n?" ":n+"",ya(n,ps(i/n.length)).slice(0,i)}function fr(t,e,n,r){function i(){for(var e=-1,s=arguments.length,c=-1,u=r.length,l=Da(s+u);++c<u;)l[c]=r[c];for(;s--;)l[c++]=arguments[++e];var d=this&&this!==qe&&this instanceof i?a:t;return d.apply(o?n:this,l)}var o=e&X,a=lr(t);return i}function mr(t,e,n,r,i,o,a,s){var c=e&I;if(!c&&"function"!=typeof t)throw new $a(E);var u=r?r.length:0;if(u||(e&=~(F|R),r=i=null),u-=i?i.length:0,e&R){var l=r,d=i;r=i=null}var h=!c&&Vs(t),p=[t,e,n,r,i,l,d,o,a,s];if(h&&h!==!0&&(Fr(p,h),e=p[1],s=p[9]),p[9]=null==s?c?0:t.length:Zs(s-u,0)||0,e==X)var f=sr(p[0],p[2]);else f=e!=F&&e!=(X|F)||p[4].length?hr.apply(L,p):fr.apply(L,p);var m=h?Bs:Js;return m(f,p)}function gr(t,e,n,r,i,o,a){var s=-1,c=t.length,u=e.length,l=!0;if(c!=u&&!(i&&u>c))return!1;for(;l&&++s<c;){var d=t[s],h=e[s];if(l=L,r&&(l=i?r(h,d,s):r(d,h,s)),"undefined"==typeof l)if(i)for(var p=u;p--&&(h=e[p],!(l=d&&d===h||n(d,h,r,i,o,a))););else l=d&&d===h||n(d,h,r,i,o,a)}return!!l}function vr(t,e,n){switch(n){case P:case V:return+t==+e;case J:return t.name==e.name&&t.message==e.message;case q:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case $:case ee:return t==e+""}return!1}function br(t,e,n,r,i,o,a){var s=sc(t),c=s.length,u=sc(e),l=u.length;if(c!=l&&!i)return!1;for(var d,h=-1;++h<c;){var p=s[h],f=as.call(e,p);if(f){var m=t[p],g=e[p];f=L,r&&(f=i?r(g,m,p):r(m,g,p)),"undefined"==typeof f&&(f=m&&m===g||n(m,g,r,i,o,a))}if(!f)return!1;d||(d="constructor"==p)}if(!d){var v=t.constructor,b=e.constructor;if(v!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b))return!1}return!0}function yr(t,e,n){var r=n?Os:As,i=r,o=i;return wn(t,function(t,a,s){var c=e(t,a,s);((n?i>c:c>i)||c===r&&c===o)&&(i=c,o=t)}),o}function wr(t,n,r){var i=e.callback||Za;return i=i===Za?gn:i,r?i(t,n,r):i}function xr(t,n,r){var o=e.indexOf||$r;return o=o===$r?i:o,t?o(t,n,r):o}function Wr(t,e,n){for(var r=-1,i=n?n.length:0;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=js(e,t+a);break;case"takeRight":t=Zs(t,e-a)}}return{start:t,end:e}}function _r(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&as.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Lr(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Qa),new e}function Cr(t,e,n){var r=t.constructor;switch(e){case re:return nr(t);case P:case V:return new r(+t);case ie:case oe:case ae:case se:case ce:case ue:case le:case de:case he:var i=t.buffer;return new r(n?nr(i):i,t.byteOffset,t.length);case q:case ee:return new r(t);case $:var o=new r(t.source,Le.exec(t));o.lastIndex=t.lastIndex}return o}function Xr(t){var n=e.support,r=!(n.funcNames?t.name:n.funcDecomp);if(!r){var i=is.call(t);n.funcNames||(r=!Ce.test(i)),r||(r=Re.test(i)||ko(t),Bs(t,r))}return r}function Ir(t,e){return t=+t,e=null==e?Hs:e,t>-1&&t%1==0&&e>t}function Yr(t,e,n){if(!jo(n))return!1;var r=typeof e;if("number"==r)var i=n.length,o=Zr(i)&&Ir(e,i);else o="string"==r&&e in n;if(o){var a=n[e];return t===t?t===a:a!==a}return!1}function Zr(t){return"number"==typeof t&&t>-1&&t%1==0&&Hs>=t}function jr(t){return t===t&&(0===t?1/t>0:!jo(t))}function Fr(t,e){var n=t[1],r=e[1],i=n|r,o=G|k,a=X|I,s=o|a|Y|j,c=n&G&&!(r&G),u=n&k&&!(r&k),l=(u?t:e)[7],d=(c?t:e)[8],h=!(n>=k&&r>a||n>a&&r>=k),p=i>=o&&s>=i&&(k>n||(u||c)&&l.length<=d);if(!h&&!p)return t;r&X&&(t[2]=e[2],i|=n&X?0:Y);var f=e[3];if(f){var m=t[3];t[3]=m?rr(m,f,e[4]):Qe(f),t[4]=m?b(t[3],z):Qe(e[4])}return f=e[5],f&&(m=t[5],t[5]=m?ir(m,f,e[6]):Qe(f),t[6]=m?b(t[5],z):Qe(e[6])),f=e[7],f&&(t[7]=Qe(f)),r&G&&(t[8]=null==t[8]?e[8]:js(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Rr(t,e){t=Sr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function kr(t,e){var n={};return Zn(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function Gr(t,e){for(var n=t.length,r=js(e.length,n),i=Qe(t);r--;){var o=e[r];t[r]=Ir(o,n)?i[o]:L}return t}function Ar(t){{var n;e.support}if(!g(t)||cs.call(t)!=K||!as.call(t,"constructor")&&(n=t.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var r;return Zn(t,function(t,e){r=e}),"undefined"==typeof r||as.call(t,r)}function Or(t){for(var n=$o(t),r=n.length,i=r&&t.length,o=e.support,a=i&&Zr(i)&&(nc(t)||o.nonEnumArgs&&_o(t)),s=-1,c=[];++s<r;){var u=n[s];(a&&Ir(u,i)||as.call(t,u))&&c.push(u)}return c}function Nr(t){return null==t?[]:Zr(t.length)?jo(t)?t:Qa(t):aa(t)}function Sr(t){return jo(t)?t:Qa(t)}function Mr(t){return t instanceof Q?t.clone():new v(t.__wrapped__,t.__chain__,Qe(t.__actions__))}function Tr(t,e,n){e=(n?Yr(t,e,n):null==e)?1:Zs(+e||1,1);for(var r=0,i=t?t.length:0,o=-1,a=Da(ps(i/e));i>r;)a[++o]=Pn(t,r,r+=e);return a}function Hr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function Er(){for(var t=arguments,e=-1,n=t.length;++e<n;){var r=t[e];if(nc(r)||_o(r))break}return yn(r,Xn(t,!1,!0,++e))}function zr(t,e,n){var r=t?t.length:0;return r?((n?Yr(t,e,n):null==e)&&(e=1),Pn(t,0>e?0:e)):[]}function Dr(t,e,n){var r=t?t.length:0;return r?((n?Yr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Pn(t,0,0>e?0:e)):[]}function Br(t,e,n){var r=t?t.length:0;if(!r)return[];for(e=wr(e,n,3);r--&&e(t[r],r,t););return Pn(t,0,r+1)}function Pr(t,e,n){var r=t?t.length:0;if(!r)return[];var i=-1;for(e=wr(e,n,3);++i<r&&e(t[i],i,t););return Pn(t,i)}function Vr(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Yr(t,e,n)&&(n=0,r=i),_n(t,e,n,r)):[]}function Jr(t,e,n){var r=-1,i=t?t.length:0;for(e=wr(e,n,3);++r<i;)if(e(t[r],r,t))return r;return-1}function Ur(t,e,n){var r=t?t.length:0;for(e=wr(e,n,3);r--;)if(e(t[r],r,t))return r;return-1}function Qr(t){return t?t[0]:L}function qr(t,e,n){var r=t?t.length:0;return n&&Yr(t,e,n)&&(e=!1),r?Xn(t,e,!1,0):[]}function Kr(t){var e=t?t.length:0;return e?Xn(t,!0,!1,0):[]}function $r(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?Zs(r+n,0):n;else if(n){var o=$n(t,e),a=t[o];return(e===e?e===a:a!==a)?o:-1}return i(t,e,n||0)}function ti(t){return Dr(t,1)}function ei(){for(var t=[],e=-1,n=arguments.length,r=[],o=xr(),a=o==i;++e<n;){var s=arguments[e];(nc(s)||_o(s))&&(t.push(s),r.push(a&&s.length>=120?Ps(e&&s):null))}n=t.length;var c=t[0],u=-1,l=c?c.length:0,d=[],h=r[0];t:for(;++u<l;)if(s=c[u],(h?Je(h,s):o(d,s,0))<0){for(e=n;--e;){var p=r[e];if((p?Je(p,s):o(t[e],s,0))<0)continue t}h&&h.push(s),d.push(s)}return d}function ni(t){var e=t?t.length:0;return e?t[e-1]:L}function ri(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(0>n?Zs(r+n,0):js(n||0,r-1))+1;else if(n){i=$n(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return m(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function ii(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=xr(),i=t.length;++n<i;)for(var o=0,a=t[n];(o=r(e,a,o))>-1;)xs.call(e,o,1);return e}function oi(t){return zn(t||[],Xn(arguments,!1,!1,1))}function ai(t,e,n){var r=-1,i=t?t.length:0,o=[];for(e=wr(e,n,3);++r<i;){var a=t[r];e(a,r,t)&&(o.push(a),xs.call(t,r--,1),i--)}return o}function si(t){return zr(t,1)}function ci(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Yr(t,e,n)&&(e=0,n=r),Pn(t,e,n)):[]}function ui(t,e,n,r){var i=wr(n);return i===gn&&null==n?$n(t,e):tr(t,e,i(n,r,1))}function li(t,e,n,r){var i=wr(n);return i===gn&&null==n?$n(t,e,!0):tr(t,e,i(n,r,1),!0)}function di(t,e,n){var r=t?t.length:0;return r?((n?Yr(t,e,n):null==e)&&(e=1),Pn(t,0,0>e?0:e)):[]}function hi(t,e,n){var r=t?t.length:0;return r?((n?Yr(t,e,n):null==e)&&(e=1),e=r-(+e||0),Pn(t,0>e?0:e)):[]}function pi(t,e,n){var r=t?t.length:0;if(!r)return[];for(e=wr(e,n,3);r--&&e(t[r],r,t););return Pn(t,r+1)}function fi(t,e,n){var r=t?t.length:0;if(!r)return[];var i=-1;for(e=wr(e,n,3);++i<r&&e(t[i],i,t););return Pn(t,0,i)}function mi(){return Qn(Xn(arguments,!1,!0,0))}function gi(t,e,n,r){var o=t?t.length:0;if(!o)return[];null!=e&&"boolean"!=typeof e&&(r=n,n=Yr(t,e,r)?null:e,e=!1);var a=wr();return(a!==gn||null!=n)&&(n=a(n,r,3)),e&&xr()==i?y(t,n):Qn(t,n)}function vi(t){for(var e=-1,n=(t&&t.length&&on(rn(t,os)))>>>0,r=Da(n);++e<n;)r[e]=rn(t,En(e));return r}function bi(t){return yn(t,Pn(arguments,1))}function yi(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(nc(n)||_o(n))var r=r?yn(r,n).concat(yn(n,r)):n}return r?Qn(r):[]}function wi(){for(var t=arguments.length,e=Da(t);t--;)e[t]=arguments[t];return vi(e)}function xi(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||nc(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Wi(t){var n=e(t);return n.__chain__=!0,n}function _i(t,e,n){return e.call(n,t),t}function Li(t,e,n){return e.call(n,t)}function Ci(){return Wi(this)}function Xi(){return new v(this.value(),this.__chain__)}function Ii(t){for(var e,r=this;r instanceof n;){var i=Mr(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function Yi(){var t=this.__wrapped__;return t instanceof Q?(this.__actions__.length&&(t=new Q(this)),new v(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})}function Zi(){return this.value()+""}function ji(){return Kn(this.__wrapped__,this.__actions__)}function Fi(t){var e=t?t.length:0;return Zr(e)&&(t=Nr(t)),pn(t,Xn(arguments,!1,!1,1))}function Ri(t,e,n){var r=nc(t)?en:Wn;return("function"!=typeof e||"undefined"!=typeof n)&&(e=wr(e,n,3)),r(t,e)}function ki(t,e,n){var r=nc(t)?nn:Ln;return e=wr(e,n,3),r(t,e)}function Gi(t,e,n){if(nc(t)){var r=Jr(t,e,n);return r>-1?t[r]:L}return e=wr(e,n,3),Cn(t,e,wn)}function Ai(t,e,n){return e=wr(e,n,3),Cn(t,e,xn)}function Oi(t,e){return Gi(t,Sn(e))}function Ni(t,e,n){return"function"==typeof e&&"undefined"==typeof n&&nc(t)?$e(t,e):wn(t,er(e,n,3))}function Si(t,e,n){return"function"==typeof e&&"undefined"==typeof n&&nc(t)?tn(t,e):xn(t,er(e,n,3))}function Mi(t,e,n){var r=t?t.length:0;return Zr(r)||(t=aa(t),r=t.length),r?(n="number"==typeof n?0>n?Zs(r+n,0):n||0:0,"string"==typeof t||!nc(t)&&No(t)?r>n&&t.indexOf(e,n)>-1:xr(t,e,n)>-1):!1}function Ti(t,e){return kn(t,e,Pn(arguments,2))}function Hi(t,e,n){var r=nc(t)?rn:Nn;return e=wr(e,n,3),r(t,e)}function Ei(t,e){return Hi(t,En(e))}function zi(t,e,n,r){var i=nc(t)?sn:Bn;return i(t,wr(e,r,4),n,arguments.length<3,wn)}function Di(t,e,n,r){var i=nc(t)?cn:Bn;return i(t,wr(e,r,4),n,arguments.length<3,xn)}function Bi(t,e,n){var r=nc(t)?nn:Ln;return e=wr(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function Pi(t,e,n){if(n?Yr(t,e,n):null==e){t=Nr(t);var r=t.length;return r>0?t[Dn(0,r-1)]:L}var i=Vi(t);return i.length=js(0>e?0:+e||0,i.length),i}function Vi(t){t=Nr(t);for(var e=-1,n=t.length,r=Da(n);++e<n;){var i=Dn(0,e);e!=i&&(r[e]=r[i]),r[i]=t[e]}return r}function Ji(t){var e=t?t.length:0;return Zr(e)?e:sc(t).length}function Ui(t,e,n){var r=nc(t)?un:Vn;return("function"!=typeof e||"undefined"!=typeof n)&&(e=wr(e,n,3)),r(t,e)}function Qi(t,e,n){if(null==t)return[];var r=-1,i=t.length,o=Zr(i)?Da(i):[];return n&&Yr(t,e,n)&&(e=null),e=wr(e,n,3),wn(t,function(t,n,i){o[++r]={criteria:e(t,n,i),index:r,value:t}}),Jn(o,l)}function qi(t){if(null==t)return[];var e=arguments,n=e[3];return n&&Yr(e[1],e[2],n)&&(e=[t,e[1]]),Un(t,Xn(e,!1,!1,1),[])}function Ki(t,e,n,r){return null==t?[]:(r&&Yr(e,n,r)&&(n=null),nc(e)||(e=null==e?[]:[e]),nc(n)||(n=null==n?[]:[n]),Un(t,e,n))}function $i(t,e){return ki(t,Sn(e))}function to(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new $a(E);var n=t;t=e,e=n}return t=Is(t=+t)?t:0,function(){return--t<1?e.apply(this,arguments):void 0}}function eo(t,e,n){return n&&Yr(t,e,n)&&(e=null),e=t&&null==e?t.length:Zs(+e||0,0),mr(t,G,null,null,null,null,e)}function no(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new $a(E);var r=t;t=e,e=r}return function(){return--t>0?n=e.apply(this,arguments):e=null,n}}function ro(t,e){var n=X;if(arguments.length>2){var r=Pn(arguments,2),i=b(r,ro.placeholder);n|=F}return mr(t,n,e,r,i)}function io(t){return mn(t,arguments.length>1?Xn(arguments,!1,!1,1):Qo(t))}function oo(t,e){var n=X|I;if(arguments.length>2){var r=Pn(arguments,2),i=b(r,oo.placeholder);n|=F}return mr(e,n,t,r,i)}function ao(t,e,n){n&&Yr(t,e,n)&&(e=null);var r=mr(t,Z,null,null,null,null,null,e);return r.placeholder=ao.placeholder,r}function so(t,e,n){n&&Yr(t,e,n)&&(e=null);var r=mr(t,j,null,null,null,null,null,e);return r.placeholder=so.placeholder,r}function co(t,e,n){function r(){h&&fs(h),c&&fs(c),c=h=p=L}function i(){var n=e-($s()-l);if(0>=n||n>e){c&&fs(c);var r=p;c=h=p=L,r&&(f=$s(),u=t.apply(d,s),h||c||(s=d=null))}else h=ws(i,n)}function o(){h&&fs(h),c=h=p=L,(g||m!==e)&&(f=$s(),u=t.apply(d,s),h||c||(s=d=null))}function a(){if(s=arguments,l=$s(),d=this,p=g&&(h||!v),m===!1)var n=v&&!h;else{c||v||(f=l);var r=m-(l-f),a=0>=r||r>m;a?(c&&(c=fs(c)),f=l,u=t.apply(d,s)):c||(c=ws(o,r))}return a&&h?h=fs(h):h||e===m||(h=ws(i,e)),n&&(a=!0,u=t.apply(d,s)),!a||h||c||(s=d=null),u}var s,c,u,l,d,h,p,f=0,m=!1,g=!0;if("function"!=typeof t)throw new $a(E);if(e=0>e?0:+e||0,n===!0){var v=!0;g=!1}else jo(n)&&(v=n.leading,m="maxWait"in n&&Zs(+n.maxWait||0,e),g="trailing"in n?n.trailing:g);return a.cancel=r,a}function uo(t){return bn(t,1,arguments,1)}function lo(t,e){return bn(t,e,arguments,2)}function ho(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new $a(E);var n=function(){var r=arguments,i=n.cache,o=e?e.apply(this,r):r[0];if(i.has(o))return i.get(o);var a=t.apply(this,r);return i.set(o,a),a};return n.cache=new ho.Cache,n}function po(t){if("function"!=typeof t)throw new $a(E);return function(){return!t.apply(this,arguments)}}function fo(t){return no(t,2)}function mo(t){var e=Pn(arguments,1),n=b(e,mo.placeholder);return mr(t,F,null,e,n)}function go(t){var e=Pn(arguments,1),n=b(e,go.placeholder);return mr(t,R,null,e,n)}function vo(t){var e=Xn(arguments,!1,!1,1);return mr(t,k,null,null,null,e)}function bo(t){if("function"!=typeof t)throw new $a(E);return function(e){return t.apply(this,e)}}function yo(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new $a(E);return n===!1?r=!1:jo(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Te.leading=r,Te.maxWait=+e,Te.trailing=i,co(t,e,Te)}function wo(t,e){return e=null==e?Fa:e,mr(e,F,null,[t],[])}function xo(t,e,n,r){return e&&"boolean"!=typeof e&&Yr(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),n="function"==typeof n&&er(n,r,1),vn(t,e,n)}function Wo(t,e,n){return e="function"==typeof e&&er(e,n,1),vn(t,!0,e)}function _o(t){var e=g(t)?t.length:L;return Zr(e)&&cs.call(t)==D||!1}function Lo(t){return t===!0||t===!1||g(t)&&cs.call(t)==P||!1}function Co(t){return g(t)&&cs.call(t)==V||!1}function Xo(t){return t&&1===t.nodeType&&g(t)&&cs.call(t).indexOf("Element")>-1||!1}function Io(t){if(null==t)return!0;var e=t.length;return Zr(e)&&(nc(t)||No(t)||_o(t)||g(t)&&ic(t.splice))?!e:!sc(t).length}function Yo(t,e,n,r){if(n="function"==typeof n&&er(n,r,3),!n&&jr(t)&&jr(e))return t===e;var i=n?n(t,e):L;return"undefined"==typeof i?Gn(t,e,n):!!i}function Zo(t){return g(t)&&"string"==typeof t.message&&cs.call(t)==J||!1}function jo(t){var e=typeof t;return"function"==e||t&&"object"==e||!1}function Fo(t,e,n,r){var i=sc(e),o=i.length;if(n="function"==typeof n&&er(n,r,3),!n&&1==o){var a=i[0],s=e[a];if(jr(s))return null!=t&&s===t[a]&&as.call(t,a)}for(var c=Da(o),u=Da(o);o--;)s=c[o]=e[i[o]],u[o]=jr(s);return On(t,i,c,u,n)}function Ro(t){return Ao(t)&&t!=+t}function ko(t){return null==t?!1:cs.call(t)==U?ls.test(is.call(t)):g(t)&&Ie.test(t)||!1}function Go(t){return null===t}function Ao(t){return"number"==typeof t||g(t)&&cs.call(t)==q||!1}function Oo(t){return g(t)&&cs.call(t)==$||!1}function No(t){return"string"==typeof t||g(t)&&cs.call(t)==ee||!1}function So(t){return g(t)&&Zr(t.length)&&Se[cs.call(t)]||!1}function Mo(t){return"undefined"==typeof t}function To(t){var e=t?t.length:0;return Zr(e)?e?Qe(t):[]:aa(t)}function Ho(t){return fn(t,$o(t))}function Eo(t,e,n){var r=Ds(t);return n&&Yr(t,e,n)&&(e=null),e?fn(e,r,sc(e)):r}function zo(t){if(null==t)return t;var e=Qe(arguments);return e.push(ln),ac.apply(L,e)}function Do(t,e,n){return e=wr(e,n,3),Cn(t,e,jn,!0)}function Bo(t,e,n){return e=wr(e,n,3),Cn(t,e,Fn,!0)}function Po(t,e,n){return("function"!=typeof e||"undefined"!=typeof n)&&(e=er(e,n,3)),In(t,e,$o)}function Vo(t,e,n){return e=er(e,n,3),Yn(t,e,$o)}function Jo(t,e,n){return("function"!=typeof e||"undefined"!=typeof n)&&(e=er(e,n,3)),jn(t,e)}function Uo(t,e,n){return e=er(e,n,3),Yn(t,e,sc)}function Qo(t){return Rn(t,$o(t))}function qo(t,e){return t?as.call(t,e):!1}function Ko(t,e,n){n&&Yr(t,e,n)&&(e=null);for(var r=-1,i=sc(t),o=i.length,a={};++r<o;){var s=i[r],c=t[s];e?as.call(a,c)?a[c].push(s):a[c]=[s]:a[c]=s}return a}function $o(t){if(null==t)return[];jo(t)||(t=Qa(t));var e=t.length;e=e&&Zr(e)&&(nc(t)||zs.nonEnumArgs&&_o(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=Da(e),a=e>0;++r<e;)o[r]=r+"";for(var s in t)a&&Ir(s,e)||"constructor"==s&&(i||!as.call(t,s))||o.push(s);return o}function ta(t,e,n){var r={};return e=wr(e,n,3),jn(t,function(t,n,i){r[n]=e(t,n,i)}),r}function ea(t,e,n){if(null==t)return{};if("function"!=typeof e){var r=rn(Xn(arguments,!1,!1,1),Ka);return Rr(t,yn($o(t),r))}return e=er(e,n,3),kr(t,function(t,n,r){return!e(t,n,r)})}function na(t){for(var e=-1,n=sc(t),r=n.length,i=Da(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function ra(t,e,n){return null==t?{}:"function"==typeof e?kr(t,er(e,n,3)):Rr(t,Xn(arguments,!1,!1,1))}function ia(t,e,n){var r=null==t?L:t[e];return"undefined"==typeof r&&(r=n),ic(r)?r.call(t):r}function oa(t,e,n,r){var i=nc(t)||So(t);if(e=wr(e,r,4),null==n)if(i||jo(t)){var o=t.constructor;n=i?nc(t)?new o:[]:Ds(ic(o)&&o.prototype)}else n={};return(i?$e:jn)(t,function(t,r,i){return e(n,t,r,i)}),n}function aa(t){return qn(t,sc(t))}function sa(t){return qn(t,$o(t))}function ca(t,e,n){return e=+e||0,"undefined"==typeof n?(n=e,e=0):n=+n||0,t>=e&&n>t}function ua(t,e,n){n&&Yr(t,e,n)&&(e=n=null);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=Gs();return js(t+o*(e-t+parseFloat("1e-"+((o+"").length-1))),e)}return Dn(t,e)}function la(t){return t=a(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function da(t){return t=a(t),t&&t.replace(Ye,h)}function ha(t,e,n){t=a(t),e+="";var r=t.length;return n="undefined"==typeof n?r:js(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function pa(t){return t=a(t),t&&ye.test(t)?t.replace(ve,p):t}function fa(t){return t=a(t),t&&Fe.test(t)?t.replace(je,"\\$&"):t}function ma(t,e,n){t=a(t),e=+e;var r=t.length;if(r>=e||!Is(e))return t;var i=(e-r)/2,o=ms(i),s=ps(i);return n=pr("",s,n),n.slice(0,o)+t+n}function ga(t,e,n){return t=a(t),t&&pr(t,e,n)+t}function va(t,e,n){return t=a(t),t&&t+pr(t,e,n)}function ba(t,e,n){return n&&Yr(t,e,n)&&(e=0),ks(t,e)}function ya(t,e){var n="";if(t=a(t),e=+e,1>e||!t||!Is(e))return n;do e%2&&(n+=t),e=ms(e/2),t+=t;while(e);return n}function wa(t,e,n){return t=a(t),n=null==n?0:js(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function xa(t,n,r){var i=e.templateSettings;r&&Yr(t,n,r)&&(n=r=null),t=a(t),n=hn(hn({},r||n),i,dn);var o,s,c=hn(hn({},n.imports),i.imports,dn),u=sc(c),l=qn(c,u),d=0,h=n.interpolate||Ze,p="__p += '",m=qa((n.escape||Ze).source+"|"+h.source+"|"+(h===We?_e:Ze).source+"|"+(n.evaluate||Ze).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Ne+"]")+"\n";t.replace(m,function(e,n,r,i,a,c){return r||(r=i),p+=t.slice(d,c).replace(ke,f),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=c+e.length,e}),p+="';\n";var v=n.variable;v||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(pe,""):p).replace(fe,"$1").replace(me,"$1;"),p="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var b=Ya(function(){return Va(u,g+"return "+p).apply(L,l)});if(b.source=p,Zo(b))throw b;return b}function Wa(t,e,n){var r=t;return(t=a(t))?(n?Yr(r,e,n):null==e)?t.slice(w(t),x(t)+1):(e+="",t.slice(c(t,e),u(t,e)+1)):t}function _a(t,e,n){var r=t;return t=a(t),t?t.slice((n?Yr(r,e,n):null==e)?w(t):c(t,e+"")):t}function La(t,e,n){var r=t;return t=a(t),t?(n?Yr(r,e,n):null==e)?t.slice(0,x(t)+1):t.slice(0,u(t,e+"")+1):t}function Ca(t,e,n){n&&Yr(t,e,n)&&(e=null);var r=A,i=O;if(null!=e)if(jo(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?a(e.omission):i}else r=+e||0;if(t=a(t),r>=t.length)return t;var s=r-i.length;if(1>s)return i;var c=t.slice(0,s);if(null==o)return c+i;if(Oo(o)){if(t.slice(s).search(o)){var u,l,d=t.slice(0,s);for(o.global||(o=qa(o.source,(Le.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(d);)l=u.index;c=c.slice(0,null==l?s:l)}}else if(t.indexOf(o,s)!=s){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+i}function Xa(t){return t=a(t),t&&be.test(t)?t.replace(ge,W):t}function Ia(t,e,n){return n&&Yr(t,e,n)&&(e=null),t=a(t),t.match(e||Ge)||[]}function Ya(){for(var t=arguments[0],e=arguments.length,n=Da(e?e-1:0);--e>0;)n[e-1]=arguments[e];try{return t.apply(L,n)}catch(r){return Zo(r)?r:new Pa(r)}}function Za(t,e,n){return n&&Yr(t,e,n)&&(e=null),g(t)?Ra(t):gn(t,e)}function ja(t){return function(){return t}}function Fa(t){return t}function Ra(t){return Sn(vn(t,!0))}function ka(t,e){return Mn(t+"",vn(e,!0))}function Ga(t,e,n){if(null==n){var r=jo(e),i=r&&sc(e),o=i&&i.length&&Rn(e,i);(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Rn(e,sc(e)));var a=!0,s=-1,c=ic(t),u=o.length;n===!1?a=!1:jo(n)&&"chain"in n&&(a=n.chain);for(;++s<u;){var l=o[s],d=e[l];t[l]=d,c&&(t.prototype[l]=function(e){return function(){var n=this.__chain__;if(a||n){var r=t(this.__wrapped__);return(r.__actions__=Qe(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}var i=[this.value()];return vs.apply(i,arguments),e.apply(t,i)}}(d))}return t}function Aa(){return t._=us,this}function Oa(){}function Na(t){return En(t+"")}function Sa(t){return function(e){return null==t?L:t[e]}}function Ma(t,e,n){n&&Yr(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=Zs(ps((e-t)/(n||1)),0),o=Da(i);++r<i;)o[r]=t,t+=n;return o}function Ta(t,e,n){if(t=+t,1>t||!Is(t))return[];var r=-1,i=Da(js(t,Ns));for(e=er(e,n,1);++r<t;)Ns>r?i[r]=e(r):e(r);return i}function Ha(t){var e=++ss;return a(t)+e}function Ea(t,e){return t+e}function za(t){nc(t)||(t=Nr(t));for(var e=t.length,n=0;e--;)n+=+t[e]||0;return n}t=t?Ke.defaults(qe.Object(),t,Ke.pick(qe,Oe)):qe;var Da=t.Array,Ba=t.Date,Pa=t.Error,Va=t.Function,Ja=t.Math,Ua=t.Number,Qa=t.Object,qa=t.RegExp,Ka=t.String,$a=t.TypeError,ts=Da.prototype,es=Qa.prototype,ns=Ka.prototype,rs=(rs=t.window)&&rs.document,is=Va.prototype.toString,os=En("length"),as=es.hasOwnProperty,ss=0,cs=es.toString,us=t._,ls=qa("^"+fa(cs).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ds=ko(ds=t.ArrayBuffer)&&ds,hs=ko(hs=ds&&new ds(0).slice)&&hs,ps=Ja.ceil,fs=t.clearTimeout,ms=Ja.floor,gs=ko(gs=Qa.getPrototypeOf)&&gs,vs=ts.push,bs=es.propertyIsEnumerable,ys=ko(ys=t.Set)&&ys,ws=t.setTimeout,xs=ts.splice,Ws=ko(Ws=t.Uint8Array)&&Ws,_s=ko(_s=t.WeakMap)&&_s,Ls=function(){try{var e=ko(e=t.Float64Array)&&e,n=new e(new ds(10),0,1)&&e}catch(r){}return n}(),Cs=ko(Cs=Da.isArray)&&Cs,Xs=ko(Xs=Qa.create)&&Xs,Is=t.isFinite,Ys=ko(Ys=Qa.keys)&&Ys,Zs=Ja.max,js=Ja.min,Fs=ko(Fs=Ba.now)&&Fs,Rs=ko(Rs=Ua.isFinite)&&Rs,ks=t.parseInt,Gs=Ja.random,As=Ua.NEGATIVE_INFINITY,Os=Ua.POSITIVE_INFINITY,Ns=Ja.pow(2,32)-1,Ss=Ns-1,Ms=Ns>>>1,Ts=Ls?Ls.BYTES_PER_ELEMENT:0,Hs=Ja.pow(2,53)-1,Es=_s&&new _s,zs=e.support={};!function(){zs.funcDecomp=!ko(t.WinRTError)&&Re.test(_),zs.funcNames="string"==typeof Va.name;try{zs.dom=11===rs.createDocumentFragment().nodeType}catch(e){zs.dom=!1}try{zs.nonEnumArgs=!bs.call(arguments,1)}catch(e){zs.nonEnumArgs=!0}}(0,0),e.templateSettings={escape:we,evaluate:xe,interpolate:We,variable:"",imports:{_:e}};var Ds=function(){function e(){}return function(n){if(jo(n)){e.prototype=n;var r=new e;e.prototype=null}return r||t.Object()}}(),Bs=Es?function(t,e){return Es.set(t,e),t}:Fa;hs||(nr=ds&&Ws?function(t){var e=t.byteLength,n=Ls?ms(e/Ts):0,r=n*Ts,i=new ds(e);if(n){var o=new Ls(i,0,n);o.set(new Ls(t,0,n))}return e!=r&&(o=new Ws(i,r),o.set(new Ws(t,r))),i}:ja(null));var Ps=Xs&&ys?function(t){return new Ve(t)}:ja(null),Vs=Es?function(t){return Es.get(t)}:Oa,Js=function(){var t=0,e=0;return function(n,r){var i=$s(),o=S-(i-e);if(e=i,o>0){if(++t>=N)return n}else t=0;return Bs(n,r)}}(),Us=or(function(t,e,n){as.call(t,n)?++t[n]:t[n]=1}),Qs=or(function(t,e,n){as.call(t,n)?t[n].push(e):t[n]=[e]}),qs=or(function(t,e,n){t[n]=e}),Ks=or(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),$s=Fs||function(){return(new Ba).getTime()},tc=cr(),ec=cr(!0),nc=Cs||function(t){return g(t)&&Zr(t.length)&&cs.call(t)==B||!1
};zs.dom||(Xo=function(t){return t&&1===t.nodeType&&g(t)&&!oc(t)||!1});var rc=Rs||function(t){return"number"==typeof t&&Is(t)},ic=o(/x/)||Ws&&!o(Ws)?function(t){return cs.call(t)==U}:o,oc=gs?function(t){if(!t||cs.call(t)!=K)return!1;var e=t.valueOf,n=ko(e)&&(n=gs(e))&&gs(n);return n?t==n||gs(t)==n:Ar(t)}:Ar,ac=ar(hn),sc=Ys?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&n&&Zr(n)?Or(t):jo(t)?Ys(t):[]}:Or,cc=ar(Tn),uc=ur(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),lc=ur(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()});8!=ks(Ae+"08")&&(ba=function(t,e,n){return(n?Yr(t,e,n):null==e)?e=0:e&&(e=+e),t=Wa(t),ks(t,e||(Xe.test(t)?16:10))});var dc=ur(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),hc=ur(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),pc=dr(on),fc=dr(an,!0);return e.prototype=n.prototype,v.prototype=Ds(n.prototype),v.prototype.constructor=v,Q.prototype=Ds(n.prototype),Q.prototype.constructor=Q,Ee.prototype["delete"]=ze,Ee.prototype.get=De,Ee.prototype.has=Be,Ee.prototype.set=Pe,Ve.prototype.push=Ue,ho.Cache=Ee,e.after=to,e.ary=eo,e.assign=ac,e.at=Fi,e.before=no,e.bind=ro,e.bindAll=io,e.bindKey=oo,e.callback=Za,e.chain=Wi,e.chunk=Tr,e.compact=Hr,e.constant=ja,e.countBy=Us,e.create=Eo,e.curry=ao,e.curryRight=so,e.debounce=co,e.defaults=zo,e.defer=uo,e.delay=lo,e.difference=Er,e.drop=zr,e.dropRight=Dr,e.dropRightWhile=Br,e.dropWhile=Pr,e.fill=Vr,e.filter=ki,e.flatten=qr,e.flattenDeep=Kr,e.flow=tc,e.flowRight=ec,e.forEach=Ni,e.forEachRight=Si,e.forIn=Po,e.forInRight=Vo,e.forOwn=Jo,e.forOwnRight=Uo,e.functions=Qo,e.groupBy=Qs,e.indexBy=qs,e.initial=ti,e.intersection=ei,e.invert=Ko,e.invoke=Ti,e.keys=sc,e.keysIn=$o,e.map=Hi,e.mapValues=ta,e.matches=Ra,e.matchesProperty=ka,e.memoize=ho,e.merge=cc,e.mixin=Ga,e.negate=po,e.omit=ea,e.once=fo,e.pairs=na,e.partial=mo,e.partialRight=go,e.partition=Ks,e.pick=ra,e.pluck=Ei,e.property=Na,e.propertyOf=Sa,e.pull=ii,e.pullAt=oi,e.range=Ma,e.rearg=vo,e.reject=Bi,e.remove=ai,e.rest=si,e.shuffle=Vi,e.slice=ci,e.sortBy=Qi,e.sortByAll=qi,e.sortByOrder=Ki,e.spread=bo,e.take=di,e.takeRight=hi,e.takeRightWhile=pi,e.takeWhile=fi,e.tap=_i,e.throttle=yo,e.thru=Li,e.times=Ta,e.toArray=To,e.toPlainObject=Ho,e.transform=oa,e.union=mi,e.uniq=gi,e.unzip=vi,e.values=aa,e.valuesIn=sa,e.where=$i,e.without=bi,e.wrap=wo,e.xor=yi,e.zip=wi,e.zipObject=xi,e.backflow=ec,e.collect=Hi,e.compose=ec,e.each=Ni,e.eachRight=Si,e.extend=ac,e.iteratee=Za,e.methods=Qo,e.object=xi,e.select=ki,e.tail=si,e.unique=gi,Ga(e,e),e.add=Ea,e.attempt=Ya,e.camelCase=uc,e.capitalize=la,e.clone=xo,e.cloneDeep=Wo,e.deburr=da,e.endsWith=ha,e.escape=pa,e.escapeRegExp=fa,e.every=Ri,e.find=Gi,e.findIndex=Jr,e.findKey=Do,e.findLast=Ai,e.findLastIndex=Ur,e.findLastKey=Bo,e.findWhere=Oi,e.first=Qr,e.has=qo,e.identity=Fa,e.includes=Mi,e.indexOf=$r,e.inRange=ca,e.isArguments=_o,e.isArray=nc,e.isBoolean=Lo,e.isDate=Co,e.isElement=Xo,e.isEmpty=Io,e.isEqual=Yo,e.isError=Zo,e.isFinite=rc,e.isFunction=ic,e.isMatch=Fo,e.isNaN=Ro,e.isNative=ko,e.isNull=Go,e.isNumber=Ao,e.isObject=jo,e.isPlainObject=oc,e.isRegExp=Oo,e.isString=No,e.isTypedArray=So,e.isUndefined=Mo,e.kebabCase=lc,e.last=ni,e.lastIndexOf=ri,e.max=pc,e.min=fc,e.noConflict=Aa,e.noop=Oa,e.now=$s,e.pad=ma,e.padLeft=ga,e.padRight=va,e.parseInt=ba,e.random=ua,e.reduce=zi,e.reduceRight=Di,e.repeat=ya,e.result=ia,e.runInContext=_,e.size=Ji,e.snakeCase=dc,e.some=Ui,e.sortedIndex=ui,e.sortedLastIndex=li,e.startCase=hc,e.startsWith=wa,e.sum=za,e.template=xa,e.trim=Wa,e.trimLeft=_a,e.trimRight=La,e.trunc=Ca,e.unescape=Xa,e.uniqueId=Ha,e.words=Ia,e.all=Ri,e.any=Ui,e.contains=Mi,e.detect=Gi,e.foldl=zi,e.foldr=Di,e.head=Qr,e.include=Mi,e.inject=zi,Ga(e,function(){var t={};return jn(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=Pi,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Pi(e,t)}):Pi(this.value())},e.VERSION=C,$e(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),$e(["dropWhile","filter","map","takeWhile"],function(t,e){var n=e!=H,r=e==M;Q.prototype[t]=function(t,i){var o=this.__filtered__,a=o&&r?new Q(this):this.clone(),s=a.__iteratees__||(a.__iteratees__=[]);return s.push({done:!1,count:0,index:0,iteratee:wr(t,i,1),limit:-1,type:e}),a.__filtered__=o||n,a}}),$e(["drop","take"],function(t,e){var n=t+"While";Q.prototype[t]=function(n){var r=this.__filtered__,i=r&&!e?this.dropWhile():this.clone();if(n=null==n?1:Zs(ms(n)||0,0),r)e?i.__takeCount__=js(i.__takeCount__,n):ni(i.__iteratees__).limit=n;else{var o=i.__views__||(i.__views__=[]);o.push({size:n,type:t+(i.__dir__<0?"Right":"")})}return i},Q.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},Q.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[n](t,e).reverse()}}),$e(["first","last"],function(t,e){var n="take"+(e?"Right":"");Q.prototype[t]=function(){return this[n](1).value()[0]}}),$e(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Q.prototype[t]=function(){return this[n](1)}}),$e(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?Sn:En;Q.prototype[t]=function(t){return this[n](r(t))}}),Q.prototype.compact=function(){return this.filter(Fa)},Q.prototype.reject=function(t,e){return t=wr(t,e,1),this.filter(function(e){return!t(e)})},Q.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=0>t?this.takeRight(-t):this.drop(t);return"undefined"!=typeof e&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},Q.prototype.toArray=function(){return this.drop(0)},jn(Q.prototype,function(t,n){var r=e[n],i=/^(?:filter|map|reject)|While$/.test(n),o=/^(?:first|last)$/.test(n);e.prototype[n]=function(){var n=arguments,a=(n.length,this.__chain__),s=this.__wrapped__,c=!!this.__actions__.length,u=s instanceof Q,l=n[0],d=u||nc(s);d&&i&&"function"==typeof l&&1!=l.length&&(u=d=!1);var h=u&&!c;if(o&&!a)return h?t.call(s):r.call(e,this.value());var p=function(t){var i=[t];return vs.apply(i,n),r.apply(e,i)};if(d){var f=h?s:new Q(this),m=t.apply(f,n);if(!o&&(c||m.__actions__)){var g=m.__actions__||(m.__actions__=[]);g.push({func:Li,args:[p],thisArg:e})}return new v(m,a)}return this.thru(p)}}),$e(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?ns:ts)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Q.prototype.clone=te,Q.prototype.reverse=ne,Q.prototype.value=He,e.prototype.chain=Ci,e.prototype.commit=Xi,e.prototype.plant=Ii,e.prototype.reverse=Yi,e.prototype.toString=Zi,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=ji,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var L,C="3.5.0",X=1,I=2,Y=4,Z=8,j=16,F=32,R=64,k=128,G=256,A=30,O="...",N=150,S=16,M=0,T=1,H=2,E="Expected a function",z="__lodash_placeholder__",D="[object Arguments]",B="[object Array]",P="[object Boolean]",V="[object Date]",J="[object Error]",U="[object Function]",Q="[object Map]",q="[object Number]",K="[object Object]",$="[object RegExp]",te="[object Set]",ee="[object String]",ne="[object WeakMap]",re="[object ArrayBuffer]",ie="[object Float32Array]",oe="[object Float64Array]",ae="[object Int8Array]",se="[object Int16Array]",ce="[object Int32Array]",ue="[object Uint8Array]",le="[object Uint8ClampedArray]",de="[object Uint16Array]",he="[object Uint32Array]",pe=/\b__p \+= '';/g,fe=/\b(__p \+=) '' \+/g,me=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39|#96);/g,ve=/[&<>"'`]/g,be=RegExp(ge.source),ye=RegExp(ve.source),we=/<%-([\s\S]+?)%>/g,xe=/<%([\s\S]+?)%>/g,We=/<%=([\s\S]+?)%>/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Le=/\w*$/,Ce=/^\s*function[ \n\r\t]+\w/,Xe=/^0[xX]/,Ie=/^\[object .+?Constructor\]$/,Ye=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ze=/($^)/,je=/[.*+?^${}()|[\]\/\\]/g,Fe=RegExp(je.source),Re=/\bthis\b/,ke=/['\n\r\u2028\u2029\\]/g,Ge=function(){var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Ae=" 	\f \n\r\u2028\u2029 ",Oe=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window","WinRTError"],Ne=-1,Se={};Se[ie]=Se[oe]=Se[ae]=Se[se]=Se[ce]=Se[ue]=Se[le]=Se[de]=Se[he]=!0,Se[D]=Se[B]=Se[re]=Se[P]=Se[V]=Se[J]=Se[U]=Se[Q]=Se[q]=Se[K]=Se[$]=Se[te]=Se[ee]=Se[ne]=!1;var Me={};Me[D]=Me[B]=Me[re]=Me[P]=Me[V]=Me[ie]=Me[oe]=Me[ae]=Me[se]=Me[ce]=Me[q]=Me[K]=Me[$]=Me[ee]=Me[ue]=Me[le]=Me[de]=Me[he]=!0,Me[J]=Me[U]=Me[Q]=Me[te]=Me[ne]=!1;var Te={leading:!1,maxWait:0,trailing:!1},He={"":"A","":"A","":"A","":"A","":"A","":"A"," ":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},Ee={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},ze={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},De={"function":!0,object:!0},Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pe=De[typeof n]&&n&&!n.nodeType&&n,Ve=De[typeof e]&&e&&!e.nodeType&&e,Je=Pe&&Ve&&"object"==typeof t&&t,Ue=De[typeof window]&&window,Qe=Ve&&Ve.exports===Pe&&Pe,qe=Je||Ue!==(this&&this.window)&&Ue||this,Ke=_();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(qe._=Ke,define(function(){return Ke})):Pe&&Ve?Qe?(Ve.exports=Ke)._=Ke:Pe._=Ke:qe._=Ke}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],68:[function(t,e){!function(){function t(t,e){t(e()),e(t)}function n(t,e){e(t()),t(e),e(t)}function r(t){return void 0===t}function i(t){return"function"!=typeof t}function o(t){return"function"==typeof t}function a(t){if(!o(t))throw new Error("transform expects an observable");return t}function s(t,e){for(var n in t)t[n](e)}function c(t,e){delete t[t.indexOf(e)]}function u(t,e,n){(t.on||t.addEventListener).call(t,e,n,!1)}function l(t,e,n){(t.removeListener||t.removeEventListener||t.off).call(t,e,n,!1)}function d(t){function e(t){return r(t)?n:i(t)?s(o,n=t):(o.push(t),t(n),function(){c(o,t)})}var n=t,o=[];return e.set=function(t){s(o,n=t)},e}function h(t,e){return function(n){return r(n)?t.get(e):i(n)?t.set(e,n):(u(t,"change:"+e,n),n(t.get(e)),function(){l(t,"change:"+e,n)})}}function p(t,e,n){return a(t),function(o){return r(o)?e(t()):t(i(o)?(n||e)(o):function(t){o(e(t))})}}function f(t){return p(t,function(t){return!t})}function m(t,e,n,r){function i(){r(o(n)?n():t[n])}return u(t,e,i),i(),function(){l(t,e,i)}}function g(t,e,n){return e=e||"value",n=n||"input",function(o){return r(o)?t[e]:i(o)?t[e]=o:m(t,n,e,o)}}function v(t){function e(){return t[t.selectedIndex].value}function n(e){for(var n=0;n<t.options.length;n++)t.options[n].value==e&&(t.selectedIndex=n)}return function(o){return r(o)?t.options[t.selectedIndex].value:i(o)?n(o):m(t,"change",e,o)}}function b(t,e,n){var o=!1;return function(a){function s(){o||a(o=!0)}function c(){o&&a(o=!1)}return r(a)?o:i(a)?void 0:(u(t,e,s),u(t,n||e,c),a(o),function(){l(t,e,s),l(t,n||e,c)})}}function y(t,e){var n=t.map(function(t){return t()}),r=!0,i=d();return t.forEach(function(t,o){t(function(t){n[o]=t,r||i(e.apply(null,n))})}),i(e.apply(null,n)),r=!1,i(function(){e.apply(null,n)}),i}function w(t,e,n){return p(t,function(t){return t?e:n},function(t){return t==e?!0:!1})}function x(){var t,e=[];return function(n){return r(n)?t:i(n)?t!==n?s(e,t=n):"":(e.push(n),n(t),function(){c(e,n)})}}var W=d;W.bind1=t,W.bind2=n,W.value=d,W.not=f,W.property=h,W.input=W.attribute=g,W.select=v,W.compute=y,W.transform=p,W["boolean"]=w,W.toggle=b,W.hover=function(t){return b(t,"mouseover","mouseout")},W.focus=function(t){return b(t,"focus","blur")},W.signal=x,"object"==typeof e?e.exports=W:this.observable=W}()},{}],69:[function(){Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i})},{}],70:[function(t,e){!function(){"use strict";var t={};t.parse=function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#)/,""),t?t.trim().split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),r=n[0],i=n[1];return r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),t.hasOwnProperty(r)?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i,t},{}):{})},t.stringify=function(t){return t?Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"):encodeURIComponent(e)+"="+encodeURIComponent(n)}).join("&"):""},"function"==typeof define&&define.amd?define(function(){return t}):"undefined"!=typeof e&&e.exports?e.exports=t:window.queryString=t}()},{}],71:[function(t,e){!function(){function t(t){function e(){for(;s=l<u.length&&t>d;){var e=l++,n=u[e],o=r.call(n,1);o.push(i(e)),++d,n[0].apply(null,o)}}function i(t){return function(n,r){--d,null==p&&(null!=n?(p=n,l=h=0/0,o()):(u[t]=r,--h?s||e():o()))}}function o(){null!=p?f(p):c?f(p,u):f.apply(null,[p].concat(u))}var a,s,c,u=[],l=0,d=0,h=0,p=null,f=n;return t||(t=1/0),a={defer:function(){return p||(u.push(arguments),++h,e()),a},await:function(t){return f=t,c=!1,h||o(),a},awaitAll:function(t){return f=t,c=!0,h||o(),a}}}function n(){}var r=[].slice;t.version="1.0.7","function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof e&&e.exports?e.exports=t:this.queue=t}()},{}],72:[function(t,e){for(var n=t("performance-now"),r="undefined"==typeof window?{}:window,i=["moz","webkit"],o="AnimationFrame",a=r["request"+o],s=r["cancel"+o]||r["cancelRequest"+o],c=!0,u=0;u<i.length&&!a;u++)a=r[i[u]+"Request"+o],s=r[i[u]+"Cancel"+o]||r[i[u]+"CancelRequest"+o];if(!a||!s){c=!1;var l=0,d=0,h=[],p=1e3/60;a=function(t){if(0===h.length){var e=n(),r=Math.max(0,p-(e-l));l=r+e,setTimeout(function(){var t=h.slice(0);h.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(l)}catch(n){setTimeout(function(){throw n},0)}},Math.round(r))}return h.push({handle:++d,callback:t,cancelled:!1}),d},s=function(t){for(var e=0;e<h.length;e++)h[e].handle===t&&(h[e].cancelled=!0)}}e.exports=function(t){return c?a.call(r,function(){try{t.apply(this,arguments)}catch(e){setTimeout(function(){throw e},0)}}):a.call(r,t)},e.exports.cancel=function(){s.apply(r,arguments)}},{"performance-now":73}],73:[function(t,e){(function(t){(function(){var n,r,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},r=t.hrtime,n=function(){var t;return t=r(),1e9*t[0]+t[1]},i=n()):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,t("_process"))},{_process:45}],74:[function(t,e){var n=t("cookie"),r=t("./lib/setter");e.exports=function(t,e,i){var o=n.serialize(t,e,i);r(o,i)}},{"./lib/setter":75,cookie:51}],75:[function(t,e){e.exports=function(t){document.cookie=t}},{}],76:[function(t,e,n){!function(r,i){"function"==typeof define&&define.amd?define(i):"object"==typeof n?e.exports=i(t,n,e):r.SVG=i()}(this,function(){function t(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})}function e(t){return t.charAt(0).toUpperCase()+t.slice(1)}function n(t){return 4==t.length?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function r(t){var e=t.toString(16);return 1==e.length?"0"+e:e}function i(t,e,n){return null==n?n=t.height/t.width*e:null==e&&(e=t.width/t.height*n),{width:e,height:n}}function o(t,e,n){return{x:e*t.a+n*t.c+0,y:e*t.b+n*t.d+0}}function a(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}function s(t){return t instanceof m.Matrix||(t=new m.Matrix(t)),t}function c(t,e){t.cx=null==t.cx?e.bbox().cx:t.cx,t.cy=null==t.cy?e.bbox().cy:t.cy}function u(t){return t=t.replace(m.regex.whitespace,"").replace(m.regex.matrix,"").split(","),a(m.utils.map(t,function(t){return parseFloat(t)}))}function l(t,e){return"number"==typeof t.from?t.from+(t.to-t.from)*e:t instanceof m.Color||t instanceof m.Number||t instanceof m.Matrix?t.at(e):1>e?t.from:t.to}function d(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e][0],null!=t[e][1]&&(r+=t[e][1],null!=t[e][2]&&(r+=" ",r+=t[e][2],null!=t[e][3]&&(r+=" ",r+=t[e][3],r+=" ",r+=t[e][4],null!=t[e][5]&&(r+=" ",r+=t[e][5],r+=" ",r+=t[e][6],null!=t[e][7]&&(r+=" ",r+=t[e][7])))));return r+" "}function h(t){for(var e=t.childNodes.length-1;e>=0;e--)t.childNodes[e]instanceof SVGElement&&h(t.childNodes[e]);return m.adopt(t).id(m.eid(t.nodeName))}function p(t){return null==t.x&&(t.x=0,t.y=0,t.width=0,t.height=0),t.w=t.width,t.h=t.height,t.x2=t.x+t.width,t.y2=t.y+t.height,t.cx=t.x+t.width/2,t.cy=t.y+t.height/2,t}function f(t){var e=t.toString().match(m.regex.reference);return e?e[1]:void 0}var m=this.SVG=function(t){return m.supported?(t=new m.Doc(t),m.parser||m.prepare(t),t):void 0};if(m.ns="http://www.w3.org/2000/svg",m.xmlns="http://www.w3.org/2000/xmlns/",m.xlink="http://www.w3.org/1999/xlink",m.supported=function(){return!!document.createElementNS&&!!document.createElementNS(m.ns,"svg").createSVGRect}(),!m.supported)return!1;m.did=1e3,m.eid=function(t){return"Svgjs"+e(t)+m.did++},m.create=function(t){var e=document.createElementNS(this.ns,t);return e.setAttribute("id",this.eid(t)),e},m.extend=function(){var t,e,n,r;for(t=[].slice.call(arguments),e=t.pop(),r=t.length-1;r>=0;r--)if(t[r])for(n in e)t[r].prototype[n]=e[n];m.Set&&m.Set.inherit&&m.Set.inherit()},m.invent=function(t){var e="function"==typeof t.create?t.create:function(){this.constructor.call(this,m.create(t.create))};return t.inherit&&(e.prototype=new t.inherit),t.extend&&m.extend(e,t.extend),t.construct&&m.extend(t.parent||m.Container,t.construct),e},m.adopt=function(t){if(t.instance)return t.instance;var n;return n="svg"==t.nodeName?t.parentNode instanceof SVGElement?new m.Nested:new m.Doc:"lineairGradient"==t.nodeName?new m.Gradient("lineair"):"radialGradient"==t.nodeName?new m.Gradient("radial"):m[e(t.nodeName)]?new(m[e(t.nodeName)]):new m.Element(t),n.type=t.nodeName,n.node=t,t.instance=n,n instanceof m.Doc&&n.namespace().defs(),n},m.prepare=function(t){var e=document.getElementsByTagName("body")[0],n=(e?new m.Doc(e):t.nested()).size(2,0),r=m.create("path");n.node.appendChild(r),m.parser={body:e||t.parent(),draw:n.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:n.polyline().node,path:r}},m.regex={unit:/^(-?[\d\.]+)([a-z%]{0,2})$/,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,matrix:/matrix\(|\)/g,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^-?[\d\.]+$/,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i},m.utils={map:function(t,e){var n,r=t.length,i=[];for(n=0;r>n;n++)i.push(e(t[n]));return i},radians:function(t){return t%360*Math.PI/180},degrees:function(t){return 180*t/Math.PI%360},filterSVGElements:function(t){return[].filter.call(t,function(t){return t instanceof SVGElement})}},m.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}},m.Color=function(t){var e;this.r=0,this.g=0,this.b=0,"string"==typeof t?m.regex.isRgb.test(t)?(e=m.regex.rgb.exec(t.replace(/\s/g,"")),this.r=parseInt(e[1]),this.g=parseInt(e[2]),this.b=parseInt(e[3])):m.regex.isHex.test(t)&&(e=m.regex.hex.exec(n(t)),this.r=parseInt(e[1],16),this.g=parseInt(e[2],16),this.b=parseInt(e[3],16)):"object"==typeof t&&(this.r=t.r,this.g=t.g,this.b=t.b)},m.extend(m.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+r(this.r)+r(this.g)+r(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(t){return this.destination=new m.Color(t),this},at:function(t){return this.destination?(t=0>t?0:t>1?1:t,new m.Color({r:~~(this.r+(this.destination.r-this.r)*t),g:~~(this.g+(this.destination.g-this.g)*t),b:~~(this.b+(this.destination.b-this.b)*t)})):this}}),m.Color.test=function(t){return t+="",m.regex.isHex.test(t)||m.regex.isRgb.test(t)},m.Color.isRgb=function(t){return t&&"number"==typeof t.r&&"number"==typeof t.g&&"number"==typeof t.b},m.Color.isColor=function(t){return m.Color.isRgb(t)||m.Color.test(t)},m.Array=function(t,e){t=(t||[]).valueOf(),0==t.length&&e&&(t=e.valueOf()),this.value=this.parse(t)},m.extend(m.Array,{morph:function(t){if(this.destination=this.parse(t),this.value.length!=this.destination.length){for(var e=this.value[this.value.length-1],n=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(n);for(;this.value.length<this.destination.length;)this.value.push(e)}return this},settle:function(){for(var t=0,e=this.value.length,n=[];e>t;t++)-1==n.indexOf(this.value[t])&&n.push(this.value[t]);return this.value=n},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,r=[];n>e;e++)r.push(this.value[e]+(this.destination[e]-this.value[e])*t);return new m.Array(r)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(t){return t=t.valueOf(),Array.isArray(t)?t:this.split(t)},split:function(t){return t.trim().split(/\s+/)},reverse:function(){return this.value.reverse(),this}}),m.PointArray=function(t,e){this.constructor.call(this,t,e||[[0,0]])},m.PointArray.prototype=new m.Array,m.extend(m.PointArray,{toString:function(){for(var t=0,e=this.value.length,n=[];e>t;t++)n.push(this.value[t].join(","));return n.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(t){if(!this.destination)return this;for(var e=0,n=this.value.length,r=[];n>e;e++)r.push([this.value[e][0]+(this.destination[e][0]-this.value[e][0])*t,this.value[e][1]+(this.destination[e][1]-this.value[e][1])*t]);return new m.PointArray(r)},parse:function(t){if(t=t.valueOf(),Array.isArray(t))return t;t=this.split(t);for(var e,n=0,r=t.length,i=[];r>n;n++)e=t[n].split(","),i.push([parseFloat(e[0]),parseFloat(e[1])]);return i},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r=this.value.length-1;r>=0;r--)this.value[r]=[this.value[r][0]+t,this.value[r][1]+e];return this},size:function(t,e){var n,r=this.bbox();for(n=this.value.length-1;n>=0;n--)this.value[n][0]=(this.value[n][0]-r.x)*t/r.width+r.x,this.value[n][1]=(this.value[n][1]-r.y)*e/r.height+r.y;return this},bbox:function(){return m.parser.poly.setAttribute("points",this.toString()),m.parser.poly.getBBox()}}),m.PathArray=function(t,e){this.constructor.call(this,t,e||[["M",0,0]])},m.PathArray.prototype=new m.Array,m.extend(m.PathArray,{toString:function(){return d(this.value)},move:function(t,e){var n=this.bbox();if(t-=n.x,e-=n.y,!isNaN(t)&&!isNaN(e))for(var r,i=this.value.length-1;i>=0;i--)r=this.value[i][0],"M"==r||"L"==r||"T"==r?(this.value[i][1]+=t,this.value[i][2]+=e):"H"==r?this.value[i][1]+=t:"V"==r?this.value[i][1]+=e:"C"==r||"S"==r||"Q"==r?(this.value[i][1]+=t,this.value[i][2]+=e,this.value[i][3]+=t,this.value[i][4]+=e,"C"==r&&(this.value[i][5]+=t,this.value[i][6]+=e)):"A"==r&&(this.value[i][6]+=t,this.value[i][7]+=e);return this},size:function(t,e){var n,r,i=this.bbox();for(n=this.value.length-1;n>=0;n--)r=this.value[n][0],"M"==r||"L"==r||"T"==r?(this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*e/i.height+i.y):"H"==r?this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x:"V"==r?this.value[n][1]=(this.value[n][1]-i.y)*e/i.height+i.y:"C"==r||"S"==r||"Q"==r?(this.value[n][1]=(this.value[n][1]-i.x)*t/i.width+i.x,this.value[n][2]=(this.value[n][2]-i.y)*e/i.height+i.y,this.value[n][3]=(this.value[n][3]-i.x)*t/i.width+i.x,this.value[n][4]=(this.value[n][4]-i.y)*e/i.height+i.y,"C"==r&&(this.value[n][5]=(this.value[n][5]-i.x)*t/i.width+i.x,this.value[n][6]=(this.value[n][6]-i.y)*e/i.height+i.y)):"A"==r&&(this.value[n][1]=this.value[n][1]*t/i.width,this.value[n][2]=this.value[n][2]*e/i.height,this.value[n][6]=(this.value[n][6]-i.x)*t/i.width+i.x,this.value[n][7]=(this.value[n][7]-i.y)*e/i.height+i.y);return this},parse:function(t){if(t instanceof m.PathArray)return t.valueOf();var e,n,r,i,o,a,s,c,u,l,h,p=0,f=0;for(m.parser.path.setAttribute("d","string"==typeof t?t:d(t)),h=m.parser.path.pathSegList,e=0,n=h.numberOfItems;n>e;++e)l=h.getItem(e),u=l.pathSegTypeAsLetter,"M"==u||"L"==u||"H"==u||"V"==u||"C"==u||"S"==u||"Q"==u||"T"==u||"A"==u?("x"in l&&(p=l.x),"y"in l&&(f=l.y)):("x1"in l&&(o=p+l.x1),"x2"in l&&(s=p+l.x2),"y1"in l&&(a=f+l.y1),"y2"in l&&(c=f+l.y2),"x"in l&&(p+=l.x),"y"in l&&(f+=l.y),"m"==u?h.replaceItem(m.parser.path.createSVGPathSegMovetoAbs(p,f),e):"l"==u?h.replaceItem(m.parser.path.createSVGPathSegLinetoAbs(p,f),e):"h"==u?h.replaceItem(m.parser.path.createSVGPathSegLinetoHorizontalAbs(p),e):"v"==u?h.replaceItem(m.parser.path.createSVGPathSegLinetoVerticalAbs(f),e):"c"==u?h.replaceItem(m.parser.path.createSVGPathSegCurvetoCubicAbs(p,f,o,a,s,c),e):"s"==u?h.replaceItem(m.parser.path.createSVGPathSegCurvetoCubicSmoothAbs(p,f,s,c),e):"q"==u?h.replaceItem(m.parser.path.createSVGPathSegCurvetoQuadraticAbs(p,f,o,a),e):"t"==u?h.replaceItem(m.parser.path.createSVGPathSegCurvetoQuadraticSmoothAbs(p,f),e):"a"==u?h.replaceItem(m.parser.path.createSVGPathSegArcAbs(p,f,l.r1,l.r2,l.angle,l.largeArcFlag,l.sweepFlag),e):("z"==u||"Z"==u)&&(p=r,f=i)),("M"==u||"m"==u)&&(r=p,i=f);for(t=[],h=m.parser.path.pathSegList,e=0,n=h.numberOfItems;n>e;++e)l=h.getItem(e),u=l.pathSegTypeAsLetter,p=[u],"M"==u||"L"==u||"T"==u?p.push(l.x,l.y):"H"==u?p.push(l.x):"V"==u?p.push(l.y):"C"==u?p.push(l.x1,l.y1,l.x2,l.y2,l.x,l.y):"S"==u?p.push(l.x2,l.y2,l.x,l.y):"Q"==u?p.push(l.x1,l.y1,l.x,l.y):"A"==u&&p.push(l.r1,l.r2,l.angle,0|l.largeArcFlag,0|l.sweepFlag,l.x,l.y),t.push(p);return t},bbox:function(){return m.parser.path.setAttribute("d",this.toString()),m.parser.path.getBBox()}}),m.Number=m.invent({create:function(t,e){this.value=0,this.unit=e||"","number"==typeof t?this.value=isNaN(t)?0:isFinite(t)?t:0>t?-3.4e38:3.4e38:"string"==typeof t?(e=t.match(m.regex.unit),e&&(this.value=parseFloat(e[1]),"%"==e[2]?this.value/=100:"s"==e[2]&&(this.value*=1e3),this.unit=e[2])):t instanceof m.Number&&(this.value=t.valueOf(),this.unit=t.unit)},extend:{toString:function(){return("%"==this.unit?~~(1e8*this.value)/1e6:"s"==this.unit?this.value/1e3:this.value)+this.unit},valueOf:function(){return this.value},plus:function(t){return new m.Number(this+new m.Number(t),this.unit)},minus:function(t){return this.plus(-new m.Number(t))},times:function(t){return new m.Number(this*new m.Number(t),this.unit)},divide:function(t){return new m.Number(this/new m.Number(t),this.unit)},to:function(t){var e=new m.Number(this);return"string"==typeof t&&(e.unit=t),e},morph:function(t){return this.destination=new m.Number(t),this},at:function(t){return this.destination?new m.Number(this.destination).minus(this).times(t).plus(this):this}}}),m.ViewBox=function(t){var e,n,r,i,o=1,a=1,s=t.bbox(),c=(t.attr("viewBox")||"").match(/-?[\d\.]+/g),u=t,l=t;for(r=new m.Number(t.width()),i=new m.Number(t.height());"%"==r.unit;)o*=r.value,r=new m.Number(u instanceof m.Doc?u.parent().offsetWidth:u.parent().width()),u=u.parent();for(;"%"==i.unit;)a*=i.value,i=new m.Number(l instanceof m.Doc?l.parent().offsetHeight:l.parent().height()),l=l.parent();this.x=s.x,this.y=s.y,this.width=r*o,this.height=i*a,this.zoom=1,c&&(e=parseFloat(c[0]),n=parseFloat(c[1]),r=parseFloat(c[2]),i=parseFloat(c[3]),this.zoom=this.width/this.height>r/i?this.height/i:this.width/r,this.x=e,this.y=n,this.width=r,this.height=i)},m.extend(m.ViewBox,{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}}),m.Element=m.invent({create:function(t){this._stroke=m.defaults.attrs.stroke,(this.node=t)&&(this.type=t.nodeName,this.node.instance=this,this._stroke=t.getAttribute("stroke")||this._stroke)},extend:{x:function(t){return this.attr("x",t)},y:function(t){return this.attr("y",t)},cx:function(t){return null==t?this.x()+this.width()/2:this.x(t-this.width()/2)},cy:function(t){return null==t?this.y()+this.height()/2:this.y(t-this.height()/2)},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},width:function(t){return this.attr("width",t)},height:function(t){return this.attr("height",t)},size:function(t,e){var n=i(this.bbox(),t,e);return this.width(new m.Number(n.width)).height(new m.Number(n.height))},clone:function(){var t=h(this.node.cloneNode(!0));return this.after(t),t},remove:function(){return this.parent()&&this.parent().removeElement(this),this},replace:function(t){return this.after(t).remove(),t},addTo:function(t){return t.put(this)},putIn:function(t){return t.add(this)},id:function(t){return this.attr("id",t)},inside:function(t,e){var n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var t=this.attr("class");return null==t?[]:t.trim().split(/\s+/)},hasClass:function(t){return-1!=this.classes().indexOf(t)},addClass:function(t){if(!this.hasClass(t)){var e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this},removeClass:function(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!=t}).join(" ")),this},toggleClass:function(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)},reference:function(t){return m.get(this.attr(t))},parent:function(t){if(this.node.parentNode){var e=m.adopt(this.node.parentNode);if(t)for(;!(e instanceof t)&&e.node.parentNode instanceof SVGElement;)e=m.adopt(e.node.parentNode);return e}},doc:function(){return this instanceof m.Doc?this:this.parent(m.Doc)},"native":function(){return this.node},svg:function(t){var e=document.createElement("svg");if(!(t&&this instanceof m.Parent))return e.appendChild(t=document.createElement("svg")),t.appendChild(this.node.cloneNode(!0)),e.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");e.innerHTML="<svg>"+t.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";for(var n=0,r=e.firstChild.childNodes.length;r>n;n++)this.node.appendChild(e.firstChild.firstChild);return this}}}),m.FX=m.invent({create:function(t){this.target=t},extend:{animate:function(t,e,n){var r,i,o,a=this.target,s=this;
return"object"==typeof t&&(n=t.delay,e=t.ease,t=t.duration),t="="==t?t:null==t?1e3:new m.Number(t).valueOf(),e=e||"<>",s.at=function(t){var n;if(t=0>t?0:t>1?1:t,null==r){r=[];for(o in s.attrs)r.push(o);if(a.morphArray&&(s.destination.plot||r.indexOf("points")>-1)){var c,u=new a.morphArray(s.destination.plot||s.attrs.points||a.array());s.destination.size&&u.size(s.destination.size.width.to,s.destination.size.height.to),c=u.bbox(),s.destination.x?u.move(s.destination.x.to,c.y):s.destination.cx&&u.move(s.destination.cx.to-c.width/2,c.y),c=u.bbox(),s.destination.y?u.move(c.x,s.destination.y.to):s.destination.cy&&u.move(c.x,s.destination.cy.to-c.height/2),s.destination={plot:a.array().morph(u)}}}if(null==i){i=[];for(o in s.styles)i.push(o)}for(t="<>"==e?-Math.cos(t*Math.PI)/2+.5:">"==e?Math.sin(t*Math.PI/2):"<"==e?-Math.cos(t*Math.PI/2)+1:"-"==e?t:"function"==typeof e?e(t):t,s.destination.plot?a.plot(s.destination.plot.at(t)):(s.destination.x?a.x(s.destination.x.at(t)):s.destination.cx&&a.cx(s.destination.cx.at(t)),s.destination.y?a.y(s.destination.y.at(t)):s.destination.cy&&a.cy(s.destination.cy.at(t)),s.destination.size&&a.size(s.destination.size.width.at(t),s.destination.size.height.at(t))),s.destination.viewbox&&a.viewbox(s.destination.viewbox.x.at(t),s.destination.viewbox.y.at(t),s.destination.viewbox.width.at(t),s.destination.viewbox.height.at(t)),s.destination.leading&&a.leading(s.destination.leading.at(t)),n=r.length-1;n>=0;n--)a.attr(r[n],l(s.attrs[r[n]],t));for(n=i.length-1;n>=0;n--)a.style(i[n],l(s.styles[i[n]],t));s.situation.during&&s.situation.during.call(a,t,function(e,n){return l({from:e,to:n},t)})},"number"==typeof t&&(this.timeout=setTimeout(function(){var r=(new Date).getTime();s.situation.start=r,s.situation.play=!0,s.situation.finish=r+t,s.situation.duration=t,s.situation.ease=e,s.render=function(){if(s.situation.play===!0){var r=(new Date).getTime(),i=r>s.situation.finish?1:(r-s.situation.start)/t;s.situation.reversing&&(i=-i+1),s.at(i),r>s.situation.finish?(s.destination.plot&&a.plot(new m.PointArray(s.destination.plot.destination).settle()),s.situation.loop===!0||"number"==typeof s.situation.loop&&s.situation.loop>0?(s.situation.reverse&&(s.situation.reversing=!s.situation.reversing),"number"==typeof s.situation.loop&&((!s.situation.reverse||s.situation.reversing)&&--s.situation.loop,s.situation.reverse||1!=s.situation.loop||--s.situation.loop),s.animate(t,e,n)):s.situation.after?s.situation.after.apply(a,[s]):s.stop()):s.animationFrame=requestAnimationFrame(s.render)}else s.animationFrame=requestAnimationFrame(s.render)},s.render()},new m.Number(n).valueOf())),this},bbox:function(){return this.target.bbox()},attr:function(t,e){if("object"==typeof t)for(var n in t)this.attr(n,t[n]);else{var r=this.target.attr(t);"transform"==t?(this.attrs[t]&&(e=this.attrs[t].destination.multiply(e)),this.attrs[t]=this.target.ctm().morph(e),this.param&&(e=this.target.transform("rotation"),this.attrs[t].param={from:this.target.param||{rotation:e,cx:this.param.cx,cy:this.param.cy},to:this.param})):this.attrs[t]=m.Color.isColor(e)?new m.Color(r).morph(e):m.regex.unit.test(e)?new m.Number(r).morph(e):{from:r,to:e}}return this},style:function(t,e){if("object"==typeof t)for(var n in t)this.style(n,t[n]);else this.styles[t]={from:this.target.style(t),to:e};return this},x:function(t){return this.destination.x=new m.Number(this.target.x()).morph(t),this},y:function(t){return this.destination.y=new m.Number(this.target.y()).morph(t),this},cx:function(t){return this.destination.cx=new m.Number(this.target.cx()).morph(t),this},cy:function(t){return this.destination.cy=new m.Number(this.target.cy()).morph(t),this},move:function(t,e){return this.x(t).y(e)},center:function(t,e){return this.cx(t).cy(e)},size:function(t,e){if(this.target instanceof m.Text)this.attr("font-size",t);else{var n=this.target.bbox();this.destination.size={width:new m.Number(n.width).morph(t),height:new m.Number(n.height).morph(e)}}return this},plot:function(t){return this.destination.plot=t,this},leading:function(t){return this.target.destination.leading&&(this.destination.leading=new m.Number(this.target.destination.leading).morph(t)),this},viewbox:function(t,e,n,r){if(this.target instanceof m.Container){var i=this.target.viewbox();this.destination.viewbox={x:new m.Number(i.x).morph(t),y:new m.Number(i.y).morph(e),width:new m.Number(i.width).morph(n),height:new m.Number(i.height).morph(r)}}return this},update:function(t){return this.target instanceof m.Stop&&(null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new m.Number(t.offset))),this},during:function(t){return this.situation.during=t,this},after:function(t){return this.situation.after=t,this},loop:function(t,e){return this.situation.loop=this.situation.loops=t||!0,this.situation.reverse=!!e,this},stop:function(t){return t===!0?(this.animate(0),this.situation.after&&this.situation.after.apply(this.target,[this])):(clearTimeout(this.timeout),cancelAnimationFrame(this.animationFrame),this.attrs={},this.styles={},this.situation={},this.destination={}),this},pause:function(){return this.situation.play===!0&&(this.situation.play=!1,this.situation.pause=(new Date).getTime()),this},play:function(){if(this.situation.play===!1){var t=(new Date).getTime()-this.situation.pause;this.situation.finish+=t,this.situation.start+=t,this.situation.play=!0}return this}},parent:m.Element,construct:{animate:function(t,e,n){return(this.fx||(this.fx=new m.FX(this))).stop().animate(t,e,n)},stop:function(t){return this.fx&&this.fx.stop(t),this},pause:function(){return this.fx&&this.fx.pause(),this},play:function(){return this.fx&&this.fx.play(),this}}}),m.BBox=m.invent({create:function(t){if(t){var e;try{e=t.node.getBBox()}catch(n){e={x:t.node.clientLeft,y:t.node.clientTop,width:t.node.clientWidth,height:t.node.clientHeight}}this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height}p(this)},parent:m.Element,construct:{bbox:function(){return new m.BBox(this)}}}),m.TBox=m.invent({create:function(t){if(t){var e=t.ctm().extract(),n=t.bbox();this.width=n.width*e.scaleX,this.height=n.height*e.scaleY,this.x=n.x+e.x,this.y=n.y+e.y}p(this)},parent:m.Element,construct:{tbox:function(){return new m.TBox(this)}}}),m.RBox=m.invent({create:function(t){if(t){var e=t.doc().parent(),n=t.node.getBoundingClientRect(),r=1;for(this.x=n.left,this.y=n.top,this.x-=e.offsetLeft,this.y-=e.offsetTop;e=e.offsetParent;)this.x-=e.offsetLeft,this.y-=e.offsetTop;for(e=t;e.parent&&(e=e.parent());)e.viewbox&&(r*=e.viewbox().zoom,this.x-=e.x()||0,this.y-=e.y()||0);this.width=n.width/=r,this.height=n.height/=r}p(this),this.x+=window.scrollX,this.y+=window.scrollY},parent:m.Element,construct:{rbox:function(){return new m.RBox(this)}}}),[m.BBox,m.TBox,m.RBox].forEach(function(t){m.extend(t,{merge:function(e){var n=new t;return n.x=Math.min(this.x,e.x),n.y=Math.min(this.y,e.y),n.width=Math.max(this.x+this.width,e.x+e.width)-n.x,n.height=Math.max(this.y+this.height,e.y+e.height)-n.y,p(n)}})}),m.Matrix=m.invent({create:function(t){var e,n=a([1,0,0,1,0,0]);for(t=t instanceof m.Element?t.matrixify():"string"==typeof t?u(t):6==arguments.length?a([].slice.call(arguments)):"object"==typeof t?t:n,e=v.length-1;e>=0;e--)this[v[e]]=t&&"number"==typeof t[v[e]]?t[v[e]]:n[v[e]]},extend:{extract:function(){var t=o(this,0,1),e=o(this,1,0),n=180/Math.PI*Math.atan2(t.y,t.x)-90;return{x:this.e,y:this.f,skewX:-n,skewY:180/Math.PI*Math.atan2(e.y,e.x),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:n}},clone:function(){return new m.Matrix(this)},morph:function(t){return this.destination=new m.Matrix(t),this},at:function(t){if(!this.destination)return this;var e=new m.Matrix({a:this.a+(this.destination.a-this.a)*t,b:this.b+(this.destination.b-this.b)*t,c:this.c+(this.destination.c-this.c)*t,d:this.d+(this.destination.d-this.d)*t,e:this.e+(this.destination.e-this.e)*t,f:this.f+(this.destination.f-this.f)*t});if(this.param&&this.param.to){var n={rotation:this.param.from.rotation+(this.param.to.rotation-this.param.from.rotation)*t,cx:this.param.from.cx,cy:this.param.from.cy};e=e.rotate((this.param.to.rotation-2*this.param.from.rotation)*t,n.cx,n.cy),e.param=n}return e},multiply:function(t){return new m.Matrix(this["native"]().multiply(s(t)["native"]()))},inverse:function(){return new m.Matrix(this["native"]().inverse())},translate:function(t,e){return new m.Matrix(this["native"]().translate(t||0,e||0))},scale:function(t,e,n,r){return(1==arguments.length||3==arguments.length)&&(e=t),3==arguments.length&&(r=n,n=e),this.around(n,r,new m.Matrix(t,0,0,e,0,0))},rotate:function(t,e,n){return t=m.utils.radians(t),this.around(e,n,new m.Matrix(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t),0,0))},flip:function(t,e){return"x"==t?this.scale(-1,1,e,0):this.scale(1,-1,0,e)},skew:function(t,e,n,r){return this.around(n,r,this["native"]().skewX(t||0).skewY(e||0))},around:function(t,e,n){return this.multiply(new m.Matrix(1,0,0,1,t||0,e||0)).multiply(n).multiply(new m.Matrix(1,0,0,1,-t||0,-e||0))},"native":function(){for(var t=m.parser.draw.node.createSVGMatrix(),e=v.length-1;e>=0;e--)t[v[e]]=this[v[e]];return t},toString:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:m.Element,construct:{ctm:function(){return new m.Matrix(this.node.getCTM())}}}),m.extend(m.Element,{attr:function(t,e,n){if(null==t){for(t={},e=this.node.attributes,n=e.length-1;n>=0;n--)t[e[n].nodeName]=m.regex.isNumber.test(e[n].nodeValue)?parseFloat(e[n].nodeValue):e[n].nodeValue;return t}if("object"==typeof t)for(e in t)this.attr(e,t[e]);else if(null===e)this.node.removeAttribute(t);else{if(null==e)return e=this.node.getAttribute(t),null==e?m.defaults.attrs[t]:m.regex.isNumber.test(e)?parseFloat(e):e;"stroke-width"==t?this.attr("stroke",parseFloat(e)>0?this._stroke:null):"stroke"==t&&(this._stroke=e),("fill"==t||"stroke"==t)&&(m.regex.isImage.test(e)&&(e=this.doc().defs().image(e,0,0)),e instanceof m.Image&&(e=this.doc().defs().pattern(0,0,function(){this.add(e)}))),"number"==typeof e?e=new m.Number(e):m.Color.isColor(e)?e=new m.Color(e):Array.isArray(e)?e=new m.Array(e):e instanceof m.Matrix&&e.param&&(this.param=e.param),"leading"==t?this.leading&&this.leading(e):"string"==typeof n?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),!this.rebuild||"font-size"!=t&&"x"!=t||this.rebuild(t,e)}return this}}),m.extend(m.Element,m.FX,{transform:function(t,e){var n,r=this.target||this;if("object"!=typeof t)return n=new m.Matrix(r).extract(),"object"==typeof this.param&&(n.rotation=this.param.rotation,n.cx=this.param.cx,n.cy=this.param.cy),"string"==typeof t?n[t]:n;if(n=this instanceof m.FX&&this.attrs.transform?this.attrs.transform:new m.Matrix(r),e=!!e||!!t.relative,null!=t.a)n=e?n.multiply(new m.Matrix(t)):new m.Matrix(t);else if(null!=t.rotation)c(t,r),e&&(t.rotation+=this.param&&null!=this.param.rotation?this.param.rotation:n.extract().rotation),this.param=t,this instanceof m.Element&&(n=e?n.rotate(t.rotation,t.cx,t.cy):n.rotate(t.rotation-n.extract().rotation,t.cx,t.cy));else if(null!=t.scale||null!=t.scaleX||null!=t.scaleY){if(c(t,r),t.scaleX=null!=t.scale?t.scale:null!=t.scaleX?t.scaleX:1,t.scaleY=null!=t.scale?t.scale:null!=t.scaleY?t.scaleY:1,!e){var i=n.extract();t.scaleX=1*t.scaleX/i.scaleX,t.scaleY=1*t.scaleY/i.scaleY}n=n.scale(t.scaleX,t.scaleY,t.cx,t.cy)}else if(null!=t.skewX||null!=t.skewY){if(c(t,r),t.skewX=null!=t.skewX?t.skewX:0,t.skewY=null!=t.skewY?t.skewY:0,!e){var i=n.extract();n=n.multiply((new m.Matrix).skew(i.skewX,i.skewY,t.cx,t.cy).inverse())}n=n.skew(t.skewX,t.skewY,t.cx,t.cy)}else t.flip?n=n.flip(t.flip,null==t.offset?r.bbox()["c"+t.flip]:t.offset):(null!=t.x||null!=t.y)&&(e?n=n.translate(t.x,t.y):(null!=t.x&&(n.e=t.x),null!=t.y&&(n.f=t.y)));return this.attr("transform",n)}}),m.extend(m.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var t=(this.attr("transform")||"").split(/\)\s*/).slice(0,-1).map(function(t){var e=t.trim().split("(");return[e[0],e[1].split(",").map(function(t){return parseFloat(t)})]}).reduce(function(t,e){return"matrix"==e[0]?t.multiply(a(e[1])):t[e[0]].apply(t,e[1])},new m.Matrix);return this.attr("transform",t),t}}),m.extend(m.Element,{style:function(e,n){if(0==arguments.length)return this.node.style.cssText||"";if(arguments.length<2)if("object"==typeof e)for(n in e)this.style(n,e[n]);else{if(!m.regex.isCss.test(e))return this.node.style[t(e)];e=e.split(";");for(var r=0;r<e.length;r++)n=e[r].split(":"),this.style(n[0].replace(/\s+/g,""),n[1])}else this.node.style[t(e)]=null===n||m.regex.isBlank.test(n)?"":n;return this}}),m.Parent=m.invent({create:function(t){this.constructor.call(this,t)},inherit:m.Element,extend:{children:function(){return m.utils.map(m.utils.filterSVGElements(this.node.childNodes),function(t){return m.adopt(t)})},add:function(t,e){return this.has(t)||(e=null==e?this.children().length:e,this.node.insertBefore(t.node,this.node.childNodes[e]||null)),this},put:function(t,e){return this.add(t,e),t},has:function(t){return this.index(t)>=0},index:function(t){return this.children().indexOf(t)},get:function(t){return this.children()[t]},first:function(){return this.children()[0]},last:function(){return this.children()[this.children().length-1]},each:function(t,e){var n,r,i=this.children();for(n=0,r=i.length;r>n;n++)i[n]instanceof m.Element&&t.apply(i[n],[n,i]),e&&i[n]instanceof m.Container&&i[n].each(t,e);return this},removeElement:function(t){return this.node.removeChild(t.node),this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return delete this._defs,this},defs:function(){return this.doc().defs()}}}),m.Container=m.invent({create:function(t){this.constructor.call(this,t)},inherit:m.Parent,extend:{viewbox:function(t){return 0==arguments.length?new m.ViewBox(this):(t=1==arguments.length?[t.x,t.y,t.width,t.height]:[].slice.call(arguments),this.attr("viewBox",t))}}}),["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","touchstart","touchmove","touchleave","touchend","touchcancel"].forEach(function(t){m.Element.prototype[t]=function(e){var n=this;return this.node["on"+t]="function"==typeof e?function(){return e.apply(n,arguments)}:null,this}}),m.listeners=[],m.handlerMap=[],m.on=function(t,e,n){var r=n.bind(t.instance||t),i=(m.handlerMap.indexOf(t)+1||m.handlerMap.push(t))-1,o=e.split(".")[0],a=e.split(".")[1]||"*";m.listeners[i]=m.listeners[i]||{},m.listeners[i][o]=m.listeners[i][o]||{},m.listeners[i][o][a]=m.listeners[i][o][a]||{},m.listeners[i][o][a][n]=r,t.addEventListener(o,r,!1)},m.off=function(t,e,n){var r=m.handlerMap.indexOf(t),i=e&&e.split(".")[0],o=e&&e.split(".")[1];if(-1!=r)if(n)m.listeners[r][i]&&m.listeners[r][i][o||"*"]&&(t.removeEventListener(i,m.listeners[r][i][o||"*"][n],!1),delete m.listeners[r][i][o||"*"][n]);else if(o&&i){if(m.listeners[r][i]&&m.listeners[r][i][o]){for(n in m.listeners[r][i][o])m.off(t,[i,o].join("."),n);delete m.listeners[r][i][o]}}else if(o)for(e in m.listeners[r])for(namespace in m.listeners[r][e])o===namespace&&m.off(t,[e,o].join("."));else if(i){if(m.listeners[r][i]){for(namespace in m.listeners[r][i])m.off(t,[i,namespace].join("."));delete m.listeners[r][i]}}else{for(e in m.listeners[r])m.off(t,e);delete m.listeners[r]}},m.extend(m.Element,{on:function(t,e){return m.on(this.node,t,e),this},off:function(t,e){return m.off(this.node,t,e),this},fire:function(t,e){return this.node.dispatchEvent(t instanceof Event?t:new b(t,{detail:e})),this}}),m.Defs=m.invent({create:"defs",inherit:m.Container}),m.G=m.invent({create:"g",inherit:m.Container,extend:{x:function(t){return null==t?this.transform("x"):this.transform({x:-this.x()+t},!0)},y:function(t){return null==t?this.transform("y"):this.transform({y:-this.y()+t},!0)},cx:function(t){return null==t?this.tbox().cx:this.x(t-this.tbox().width/2)},cy:function(t){return null==t?this.tbox().cy:this.y(t-this.tbox().height/2)}},construct:{group:function(){return this.put(new m.G)}}}),m.extend(m.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var t=this.position()+1,e=this.parent();return e.removeElement(this).add(this,t),e instanceof m.Doc&&e.node.appendChild(e.defs().node),this},backward:function(){var t=this.position();return t>0&&this.parent().removeElement(this).add(this,t-1),this},front:function(){var t=this.parent();return t.node.appendChild(this.node),t instanceof m.Doc&&t.node.appendChild(t.defs().node),this},back:function(){return this.position()>0&&this.parent().removeElement(this).add(this,0),this},before:function(t){t.remove();var e=this.position();return this.parent().add(t,e),this},after:function(t){t.remove();var e=this.position();return this.parent().add(t,e+1),this}}),m.Mask=m.invent({create:function(){this.constructor.call(this,m.create("mask")),this.targets=[]},inherit:m.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unmask();return delete this.targets,this.parent().removeElement(this),this}},construct:{mask:function(){return this.defs().put(new m.Mask)}}}),m.extend(m.Element,{maskWith:function(t){return this.masker=t instanceof m.Mask?t:this.parent().mask().add(t),this.masker.targets.push(this),this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){return delete this.masker,this.attr("mask",null)}}),m.ClipPath=m.invent({create:function(){this.constructor.call(this,m.create("clipPath")),this.targets=[]},inherit:m.Container,extend:{remove:function(){for(var t=this.targets.length-1;t>=0;t--)this.targets[t]&&this.targets[t].unclip();return delete this.targets,this.parent().removeElement(this),this}},construct:{clip:function(){return this.defs().put(new m.ClipPath)}}}),m.extend(m.Element,{clipWith:function(t){return this.clipper=t instanceof m.ClipPath?t:this.parent().clip().add(t),this.clipper.targets.push(this),this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){return delete this.clipper,this.attr("clip-path",null)}}),m.Gradient=m.invent({create:function(t){this.constructor.call(this,m.create(t+"Gradient")),this.type=t},inherit:m.Container,extend:{at:function(t,e,n){return this.put(new m.Stop).update(t,e,n)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()}},construct:{gradient:function(t,e){return this.defs().gradient(t,e)}}}),m.extend(m.Gradient,m.FX,{from:function(t,e){return this.attr("radial"==(this.target||this).type?{fx:new m.Number(t),fy:new m.Number(e)}:{x1:new m.Number(t),y1:new m.Number(e)})},to:function(t,e){return this.attr("radial"==(this.target||this).type?{cx:new m.Number(t),cy:new m.Number(e)}:{x2:new m.Number(t),y2:new m.Number(e)})}}),m.extend(m.Defs,{gradient:function(t,e){return this.put(new m.Gradient(t)).update(e)}}),m.Stop=m.invent({create:"stop",inherit:m.Element,extend:{update:function(t){return("number"==typeof t||t instanceof m.Number)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),null!=t.opacity&&this.attr("stop-opacity",t.opacity),null!=t.color&&this.attr("stop-color",t.color),null!=t.offset&&this.attr("offset",new m.Number(t.offset)),this}}}),m.Pattern=m.invent({create:"pattern",inherit:m.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return this.fill()}},construct:{pattern:function(t,e,n){return this.defs().pattern(t,e,n)}}}),m.extend(m.Defs,{pattern:function(t,e,n){return this.put(new m.Pattern).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})}}),m.Doc=m.invent({create:function(t){t&&(t="string"==typeof t?document.getElementById(t):t,"svg"==t.nodeName?this.constructor.call(this,t):(this.constructor.call(this,m.create("svg")),t.appendChild(this.node)),this.namespace().size("100%","100%").defs())},inherit:m.Container,extend:{namespace:function(){return this.attr({xmlns:m.ns,version:"1.1"}).attr("xmlns:xlink",m.xlink,m.xmlns)},defs:function(){if(!this._defs){var t;this._defs=(t=this.node.getElementsByTagName("defs")[0])?m.adopt(t):new m.Defs,this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(){var t=this.node.getScreenCTM();return t&&this.style("left",-t.e%1+"px").style("top",-t.f%1+"px"),this},remove:function(){return this.parent()&&this.parent().removeChild(this.node),this}}}),m.Shape=m.invent({create:function(t){this.constructor.call(this,t)},inherit:m.Element}),m.Bare=m.invent({create:function(t,e){if(this.constructor.call(this,m.create(t)),e)for(var n in e.prototype)"function"==typeof e.prototype[n]&&(this[n]=e.prototype[n])},inherit:m.Element,extend:{words:function(t){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this.node.appendChild(document.createTextNode(t)),this}}}),m.extend(m.Parent,{element:function(t,e){return this.put(new m.Bare(t,e))},symbol:function(){return this.defs().element("symbol",m.Container)}}),m.Use=m.invent({create:"use",inherit:m.Shape,extend:{element:function(t,e){return this.attr("href",(e||"")+"#"+t,m.xlink)}},construct:{use:function(t,e){return this.put(new m.Use).element(t,e)}}}),m.Rect=m.invent({create:"rect",inherit:m.Shape,construct:{rect:function(t,e){return this.put((new m.Rect).size(t,e))}}}),m.Circle=m.invent({create:"circle",inherit:m.Shape,construct:{circle:function(t){return this.put(new m.Circle).rx(new m.Number(t).divide(2)).move(0,0)}}}),m.extend(m.Circle,m.FX,{rx:function(t){return this.attr("r",t)},ry:function(t){return this.rx(t)}}),m.Ellipse=m.invent({create:"ellipse",inherit:m.Shape,construct:{ellipse:function(t,e){return this.put(new m.Ellipse).size(t,e).move(0,0)}}}),m.extend(m.Ellipse,m.Rect,m.FX,{rx:function(t){return this.attr("rx",t)},ry:function(t){return this.attr("ry",t)}}),m.extend(m.Circle,m.Ellipse,{x:function(t){return null==t?this.cx()-this.rx():this.cx(t+this.rx())},y:function(t){return null==t?this.cy()-this.ry():this.cy(t+this.ry())},cx:function(t){return null==t?this.attr("cx"):this.attr("cx",t)},cy:function(t){return null==t?this.attr("cy"):this.attr("cy",t)},width:function(t){return null==t?2*this.rx():this.rx(new m.Number(t).divide(2))},height:function(t){return null==t?2*this.ry():this.ry(new m.Number(t).divide(2))},size:function(t,e){var n=i(this.bbox(),t,e);return this.rx(new m.Number(n.width).divide(2)).ry(new m.Number(n.height).divide(2))}}),m.Line=m.invent({create:"line",inherit:m.Shape,extend:{array:function(){return new m.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(t,e,n,r){return t=4==arguments.length?{x1:t,y1:e,x2:n,y2:r}:new m.PointArray(t).toLine(),this.attr(t)},move:function(t,e){return this.attr(this.array().move(t,e).toLine())},size:function(t,e){var n=i(this.bbox(),t,e);return this.attr(this.array().size(n.width,n.height).toLine())}},construct:{line:function(t,e,n,r){return this.put(new m.Line).plot(t,e,n,r)}}}),m.Polyline=m.invent({create:"polyline",inherit:m.Shape,construct:{polyline:function(t){return this.put(new m.Polyline).plot(t)}}}),m.Polygon=m.invent({create:"polygon",inherit:m.Shape,construct:{polygon:function(t){return this.put(new m.Polygon).plot(t)}}}),m.extend(m.Polyline,m.Polygon,{array:function(){return this._array||(this._array=new m.PointArray(this.attr("points")))},plot:function(t){return this.attr("points",this._array=new m.PointArray(t))},move:function(t,e){return this.attr("points",this.array().move(t,e))},size:function(t,e){var n=i(this.bbox(),t,e);return this.attr("points",this.array().size(n.width,n.height))}}),m.extend(m.Line,m.Polyline,m.Polygon,{morphArray:m.PointArray,x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},width:function(t){var e=this.bbox();return null==t?e.width:this.size(t,e.height)},height:function(t){var e=this.bbox();return null==t?e.height:this.size(e.width,t)}}),m.Path=m.invent({create:"path",inherit:m.Shape,extend:{morphArray:m.PathArray,array:function(){return this._array||(this._array=new m.PathArray(this.attr("d")))},plot:function(t){return this.attr("d",this._array=new m.PathArray(t))},move:function(t,e){return this.attr("d",this.array().move(t,e))},x:function(t){return null==t?this.bbox().x:this.move(t,this.bbox().y)},y:function(t){return null==t?this.bbox().y:this.move(this.bbox().x,t)},size:function(t,e){var n=i(this.bbox(),t,e);return this.attr("d",this.array().size(n.width,n.height))},width:function(t){return null==t?this.bbox().width:this.size(t,this.bbox().height)},height:function(t){return null==t?this.bbox().height:this.size(this.bbox().width,t)}},construct:{path:function(t){return this.put(new m.Path).plot(t)}}}),m.Image=m.invent({create:"image",inherit:m.Shape,extend:{load:function(t){if(!t)return this;var e=this,n=document.createElement("img");return n.onload=function(){var r=e.parent(m.Pattern);0==e.width()&&0==e.height()&&e.size(n.width,n.height),r&&0==r.width()&&0==r.height()&&r.size(e.width(),e.height()),"function"==typeof e._loaded&&e._loaded.call(e,{width:n.width,height:n.height,ratio:n.width/n.height,url:t})},this.attr("href",n.src=this.src=t,m.xlink)},loaded:function(t){return this._loaded=t,this}},construct:{image:function(t,e,n){return this.put(new m.Image).load(t).size(e||0,n||e||0)}}}),m.Text=m.invent({create:function(){this.constructor.call(this,m.create("text")),this._leading=new m.Number(1.3),this._rebuild=!0,this._build=!1,this.attr("font-family",m.defaults.attrs["font-family"])},inherit:m.Shape,extend:{x:function(t){return null==t?this.attr("x"):(this.textPath||this.lines().each(function(){this.newLined&&this.x(t)}),this.attr("x",t))},y:function(t){var e=this.attr("y"),n="number"==typeof e?e-this.bbox().y:0;return null==t?"number"==typeof e?e-n:e:this.attr("y","number"==typeof t?t+n:t)},cx:function(t){return null==t?this.bbox().cx:this.x(t-this.bbox().width/2)},cy:function(t){return null==t?this.bbox().cy:this.y(t-this.bbox().height/2)},text:function(t){if("undefined"==typeof t)return this.content;if(this.clear().build(!0),"function"==typeof t)t.call(this,this);else{t=(this.content=t).split("\n");for(var e=0,n=t.length;n>e;e++)this.tspan(t[e]).newLine()}return this.build(!1).rebuild()},size:function(t){return this.attr("font-size",t).rebuild()},leading:function(t){return null==t?this._leading:(this._leading=new m.Number(t),this.rebuild())},lines:function(){var t=m.utils.map(m.utils.filterSVGElements(this.node.childNodes),function(t){return m.adopt(t)});return new m.Set(t)},rebuild:function(t){if("boolean"==typeof t&&(this._rebuild=t),this._rebuild){var e=this;this.lines().each(function(){this.newLined&&(this.textPath||this.attr("x",e.attr("x")),this.attr("dy",e._leading*new m.Number(e.attr("font-size"))))}),this.fire("rebuild")}return this},build:function(t){return this._build=!!t,this}},construct:{text:function(t){return this.put(new m.Text).text(t)},plain:function(t){return this.put(new m.Text).plain(t)}}}),m.Tspan=m.invent({create:"tspan",inherit:m.Shape,extend:{text:function(t){return"function"==typeof t?t.call(this,this):this.plain(t),this},dx:function(t){return this.attr("dx",t)},dy:function(t){return this.attr("dy",t)},newLine:function(){var t=this.parent(m.Text);return this.newLined=!0,this.dy(t._leading*t.attr("font-size")).attr("x",t.x())}}}),m.extend(m.Text,m.Tspan,{plain:function(t){return this._build===!1&&this.clear(),this.node.appendChild(document.createTextNode(this.content=t)),this},tspan:function(t){var e=(this.textPath()||this).node,n=new m.Tspan;return this._build===!1&&this.clear(),e.appendChild(n.node),n.text(t)},clear:function(){for(var t=(this.textPath()||this).node;t.hasChildNodes();)t.removeChild(t.lastChild);return this instanceof m.Text&&(this.content=""),this},length:function(){return this.node.getComputedTextLength()}}),m.TextPath=m.invent({create:"textPath",inherit:m.Element,parent:m.Text,construct:{path:function(t){for(var e=new m.TextPath,n=this.doc().defs().path(t);this.node.hasChildNodes();)e.node.appendChild(this.node.firstChild);return this.node.appendChild(e.node),e.attr("href","#"+n,m.xlink),this},plot:function(t){var e=this.track();return e&&e.plot(t),this},track:function(){var t=this.textPath();return t?t.reference("href"):void 0},textPath:function(){return this.node.firstChild&&"textPath"==this.node.firstChild.nodeName?m.adopt(this.node.firstChild):void 0}}}),m.Nested=m.invent({create:function(){this.constructor.call(this,m.create("svg")),this.style("overflow","visible")},inherit:m.Container,construct:{nested:function(){return this.put(new m.Nested)}}}),m.A=m.invent({create:"a",inherit:m.Container,extend:{to:function(t){return this.attr("href",t,m.xlink)},show:function(t){return this.attr("show",t,m.xlink)},target:function(t){return this.attr("target",t)}},construct:{link:function(t){return this.put(new m.A).to(t)}}}),m.extend(m.Element,{linkTo:function(t){var e=new m.A;return"function"==typeof t?t.call(e,e):e.to(t),this.parent().put(e).put(this)}}),m.Marker=m.invent({create:"marker",inherit:m.Container,extend:{width:function(t){return this.attr("markerWidth",t)},height:function(t){return this.attr("markerHeight",t)},ref:function(t,e){return this.attr("refX",t).attr("refY",e)},update:function(t){return this.clear(),"function"==typeof t&&t.call(this,this),this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(t,e,n){return this.defs().marker(t,e,n)}}}),m.extend(m.Defs,{marker:function(t,e,n){return this.put(new m.Marker).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)}}),m.extend(m.Line,m.Polyline,m.Polygon,m.Path,{marker:function(t,e,n,r){var i=["marker"];return"all"!=t&&i.push(t),i=i.join("-"),t=arguments[1]instanceof m.Marker?arguments[1]:this.doc().marker(e,n,r),this.attr(i,t)}});var g={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return"color"==e?t:t+"-"+e}};["fill","stroke"].forEach(function(t){var e,n={};n[t]=function(n){if("string"==typeof n||m.Color.isRgb(n)||n&&"function"==typeof n.fill)this.attr(t,n);else for(e=g[t].length-1;e>=0;e--)null!=n[g[t][e]]&&this.attr(g.prefix(t,g[t][e]),n[g[t][e]]);return this},m.extend(m.Element,m.FX,n)}),m.extend(m.Element,m.FX,{rotate:function(t,e,n){return this.transform({rotation:t,cx:e,cy:n})},skew:function(t,e,n,r){return this.transform({skewX:t,skewY:e,cx:n,cy:r})},scale:function(t,e,n,r){return this.transform(1==arguments.length||3==arguments.length?{scale:t,cx:e,cy:n}:{scaleX:t,scaleY:e,cx:n,cy:r})},translate:function(t,e){return this.transform({x:t,y:e})},flip:function(t,e){return this.transform({flip:t,offset:e})},matrix:function(t){return this.attr("transform",new m.Matrix(t))},opacity:function(t){return this.attr("opacity",t)},dx:function(t){return this.x((this.target||this).x()+t)},dy:function(t){return this.y((this.target||this).y()+t)},dmove:function(t,e){return this.dx(t).dy(e)}}),m.extend(m.Rect,m.Ellipse,m.Circle,m.Gradient,m.FX,{radius:function(t,e){return"radial"==(this.target||this).type?this.attr({r:new m.Number(t)}):this.rx(t).ry(null==e?t:e)}}),m.extend(m.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(t){return this.node.getPointAtLength(t)}}),m.extend(m.Parent,m.Text,m.FX,{font:function(t){for(var e in t)"leading"==e?this.leading(t[e]):"anchor"==e?this.attr("text-anchor",t[e]):"size"==e||"family"==e||"weight"==e||"stretch"==e||"variant"==e||"style"==e?this.attr("font-"+e,t[e]):this.attr(e,t[e]);
return this}}),m.Set=m.invent({create:function(t){Array.isArray(t)?this.members=t:this.clear()},extend:{add:function(){var t,e,n=[].slice.call(arguments);for(t=0,e=n.length;e>t;t++)this.members.push(n[t]);return this},remove:function(t){var e=this.index(t);return e>-1&&this.members.splice(e,1),this},each:function(t){for(var e=0,n=this.members.length;n>e;e++)t.apply(this.members[e],[e,this.members]);return this},clear:function(){return this.members=[],this},length:function(){return this.members.length},has:function(t){return this.index(t)>=0},index:function(t){return this.members.indexOf(t)},get:function(t){return this.members[t]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){var t=new m.BBox;if(0==this.members.length)return t;var e=this.members[0].rbox();return t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height,this.each(function(){t=t.merge(this.rbox())}),t}},construct:{set:function(t){return new m.Set(t)}}}),m.FX.Set=m.invent({create:function(t){this.set=t}}),m.Set.inherit=function(){var t,e=[];for(var t in m.Shape.prototype)"function"==typeof m.Shape.prototype[t]&&"function"!=typeof m.Set.prototype[t]&&e.push(t);e.forEach(function(t){m.Set.prototype[t]=function(){for(var e=0,n=this.members.length;n>e;e++)this.members[e]&&"function"==typeof this.members[e][t]&&this.members[e][t].apply(this.members[e],arguments);return"animate"==t?this.fx||(this.fx=new m.FX.Set(this)):this}}),e=[];for(var t in m.FX.prototype)"function"==typeof m.FX.prototype[t]&&"function"!=typeof m.FX.Set.prototype[t]&&e.push(t);e.forEach(function(t){m.FX.Set.prototype[t]=function(){for(var e=0,n=this.set.members.length;n>e;e++)this.set.members[e].fx[t].apply(this.set.members[e].fx,arguments);return this}})},m.extend(m.Element,{data:function(t,e,n){if("object"==typeof t)for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch(r){return this.attr("data-"+t)}else this.attr("data-"+t,null===e?null:n===!0||"string"==typeof e||"number"==typeof e?e:JSON.stringify(e));return this}}),m.extend(m.Element,{remember:function(t,e){if("object"==typeof arguments[0])for(var e in t)this.remember(e,t[e]);else{if(1==arguments.length)return this.memory()[t];this.memory()[t]=e}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this},memory:function(){return this._memory||(this._memory={})}}),m.get=function(t){var e=document.getElementById(f(t)||t);return e?m.adopt(e):void 0},m.select=function(t,e){return new m.Set(m.utils.map((e||document).querySelectorAll(t),function(t){return m.adopt(t)}))},m.extend(m.Parent,{select:function(t){return m.select(t,this.node)}});var v="abcdef".split("");if("function"!=typeof b){var b=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n};b.prototype=window.Event.prototype,window.CustomEvent=b}return function(t){for(var e=0,n=["moz","webkit"],r=0;r<n.length&&!window.requestAnimationFrame;++r)t.requestAnimationFrame=t[n[r]+"RequestAnimationFrame"],t.cancelAnimationFrame=t[n[r]+"CancelAnimationFrame"]||t[n[r]+"CancelRequestAnimationFrame"];t.requestAnimationFrame=t.requestAnimationFrame||function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),o=t.setTimeout(function(){n(r+i)},i);return e=r+i,o},t.cancelAnimationFrame=t.cancelAnimationFrame||t.clearTimeout}(window),m})},{}],77:[function(t,e,n){"use strict";n.prepUrl=function(t,e){function n(t,n){if(""===e[n])return t;var r=-1===t.indexOf("?")?"?":"&",i=encodeURIComponent(n);return n=":"+encodeURIComponent(n),t+r+i+"="+n}if(!t)throw new Error("No url provided.");if(!e)return t;for(var r in e)if(e[r]instanceof Array)for(var i=0;i<e[r].length;i++)t=n(t,r);else-1===t.indexOf(":"+r)&&(t=n(t,r));return t},n.tokenise=function(t,e,r){function i(t,e,n){var r=new RegExp(":"+encodeURIComponent(e));return t.replace(r,encodeURI(n))}r&&(t=n.prepUrl(t,e));for(var o in e)if(e[o]instanceof Array)for(var a in e[o])t=i(t,o,e[o][a]);else t=i(t,o,e[o]);return t}},{}],78:[function(t,e){(function(t){var n;if(t.crypto&&crypto.getRandomValues){var r=new Uint8Array(16);n=function(){return crypto.getRandomValues(r),r}}if(!n){var i=new Array(16);n=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],79:[function(t,e){function n(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>i&&(e[r+i++]=c[t])});16>i;)e[r+i++]=0;return e}function r(t,e){var n=e||0,r=s;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function i(t,e,n){var i=e&&n||0,o=e||[];t=t||{};var a=void 0!==t.clockseq?t.clockseq:h,s=void 0!==t.msecs?t.msecs:(new Date).getTime(),c=void 0!==t.nsecs?t.nsecs:f+1,u=s-p+(c-f)/1e4;if(0>u&&void 0===t.clockseq&&(a=a+1&16383),(0>u||s>p)&&void 0===t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=s,f=c,h=a,s+=122192928e5;var l=(1e4*(268435455&s)+c)%4294967296;o[i++]=l>>>24&255,o[i++]=l>>>16&255,o[i++]=l>>>8&255,o[i++]=255&l;var m=s/4294967296*1e4&268435455;o[i++]=m>>>8&255,o[i++]=255&m,o[i++]=m>>>24&15|16,o[i++]=m>>>16&255,o[i++]=a>>>8|128,o[i++]=255&a;for(var g=t.node||d,v=0;6>v;v++)o[i+v]=g[v];return e?e:r(o)}function o(t,e,n){var i=e&&n||0;"string"==typeof t&&(e="binary"==t?new Array(16):null,t=null),t=t||{};var o=t.random||(t.rng||a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var s=0;16>s;s++)e[i+s]=o[s];return e||r(o)}for(var a=t("./rng"),s=[],c={},u=0;256>u;u++)s[u]=(u+256).toString(16).substr(1),c[s[u]]=u;var l=a(),d=[1|l[0],l[1],l[2],l[3],l[4],l[5]],h=16383&(l[6]<<8|l[7]),p=0,f=0,m=o;m.v1=i,m.v4=o,m.parse=n,m.unparse=r,e.exports=m},{"./rng":78}],80:[function(t,e){"use strict";function n(t){return t in u?u[t]:u[t]=r(t)}function r(t){var e,n=t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()}),r=s.length;if(void 0!==a[n])return n;for(n=i(t);r--;)if(e=s[r]+n,void 0!==a[e])return e;throw new Error("unable to prefix "+t)}function i(t){return t.charAt(0).toUpperCase()+t.slice(1)}function o(t){var e=n(t),r=/([A-Z])/g;return r.test(e)&&(e=(c.test(e)?"-":"")+e.replace(r,"-$1")),e.toLowerCase()}var a=document.createElement("p").style,s="O ms Moz webkit".split(" "),c=/^(o|ms|moz|webkit)/,u={};e.exports=n,e.exports.dash=o},{}],81:[function(t,e){function n(){this.callbacks={}}e.exports=n,n.prototype.on=function(t){var e=3===arguments.length,n=e?arguments[1]:void 0,r=e?arguments[2]:arguments[1];return r._groupName=n,(this.callbacks[t]=this.callbacks[t]||[]).push(r),this},n.prototype.once=function(t){function e(){n.off(t,e),o.apply(this,arguments)}var n=this,r=3===arguments.length,i=r?arguments[1]:void 0,o=r?arguments[2]:arguments[1];return this.on(t,i,e),this},n.prototype.releaseGroup=function(t){var e,n,r,i;for(e in this.callbacks)for(i=this.callbacks[e],n=0,r=i.length;r>n;n++)i[n]._groupName===t&&(i.splice(n,1),n--,r--);return this},n.prototype.off=function(t,e){var n,r=this.callbacks[t];return r?1===arguments.length?(delete this.callbacks[t],this):(n=r.indexOf(e),r.splice(n,1),this):this},n.prototype.emit=function(t){var e,n,r,i=[].slice.call(arguments,1),o=this.callbacks[t],a=this.getWildcardCallbacks(t);if(o)for(r=o.slice(),e=0,n=r.length;n>e&&r[e];++e)r[e].apply(this,i);if(a)for(n=a.length,r=a.slice(),e=0,n=r.length;n>e&&r[e];++e)r[e].apply(this,[t].concat(i));return this},n.prototype.getWildcardCallbacks=function(t){var e,n,r=[];for(e in this.callbacks)n=e.split("*"),("*"===e||2===n.length&&t.slice(0,n[0].length)===n[0])&&(r=r.concat(this.callbacks[e]));return r}},{}],82:[function(t,e){"use strict";function n(t,e){function n(){4===d.readyState&&u()}function r(){var t=void 0;if(d.response?t=d.response:"text"!==d.responseType&&d.responseType||(t=d.responseText||d.responseXML),y)try{t=JSON.parse(t)}catch(e){}return t}function i(t){clearTimeout(p),t instanceof Error||(t=new Error(""+(t||"unknown"))),t.statusCode=0,e(t,l)}function u(){clearTimeout(p);var t=1223===d.status?204:d.status,n=l,i=null;0!==t?(n={body:r(),statusCode:t,method:m,headers:{},url:f,rawRequest:d},d.getAllResponseHeaders&&(n.headers=a(d.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),e(i,n,n.body)}var l={body:void 0,headers:{},statusCode:0,method:m,url:f,rawRequest:d};if("string"==typeof t&&(t={uri:t}),t=t||{},"undefined"==typeof e)throw new Error("callback argument missing");e=o(e);var d=t.xhr||null;d||(d=t.cors||t.useXDR?new c:new s);var h,p,f=d.url=t.uri||t.url,m=d.method=t.method||"GET",g=t.body||t.data,v=d.headers=t.headers||{},b=!!t.sync,y=!1;if("json"in t&&(y=!0,v.Accept||(v.Accept="application/json"),"GET"!==m&&"HEAD"!==m&&(v["Content-Type"]="application/json",g=JSON.stringify(t.json))),d.onreadystatechange=n,d.onload=u,d.onerror=i,d.onprogress=function(){},d.ontimeout=i,d.open(m,f,!b),d.withCredentials=!!t.withCredentials,!b&&t.timeout>0&&(p=setTimeout(function(){d.abort("timeout")},t.timeout+2)),d.setRequestHeader)for(h in v)v.hasOwnProperty(h)&&d.setRequestHeader(h,v[h]);else if(t.headers)throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(d.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(d),d.send(g),d}function r(){}var i=t("global/window"),o=t("once"),a=t("parse-headers"),s=i.XMLHttpRequest||r,c="withCredentials"in new s?s:i.XDomainRequest;e.exports=n},{"global/window":83,once:84,"parse-headers":88}],83:[function(t,e){(function(t){e.exports="undefined"!=typeof window?window:"undefined"!=typeof t?t:"undefined"!=typeof self?self:{}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],84:[function(t,e){function n(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}e.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],85:[function(t,e){function n(t,e,n){if(!a(e))throw new TypeError("iterator must be a function");arguments.length<3&&(n=this),"[object Array]"===s.call(t)?r(t,e,n):"string"==typeof t?i(t,e,n):o(t,e,n)}function r(t,e,n){for(var r=0,i=t.length;i>r;r++)c.call(t,r)&&e.call(n,t[r],r,t)}function i(t,e,n){for(var r=0,i=t.length;i>r;r++)e.call(n,t.charAt(r),r,t)}function o(t,e,n){for(var r in t)c.call(t,r)&&e.call(n,t[r],r,t)}var a=t("is-function");e.exports=n;var s=Object.prototype.toString,c=Object.prototype.hasOwnProperty},{"is-function":86}],86:[function(t,e){function n(t){var e=r.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}e.exports=n;var r=Object.prototype.toString},{}],87:[function(t,e,n){function r(t){return t.replace(/^\s*|\s*$/g,"")}n=e.exports=r,n.left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],88:[function(t,e){var n=t("trim"),r=t("for-each"),i=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};var e={};return r(n(t).split("\n"),function(t){var r=t.indexOf(":"),o=n(t.slice(0,r)).toLowerCase(),a=n(t.slice(r+1));"undefined"==typeof e[o]?e[o]=a:i(e[o])?e[o].push(a):e[o]=[e[o],a]}),e}},{"for-each":85,trim:87}]},{},[5]);
//# sourceMappingURL=/static/widget/js/aww2.min.js.map